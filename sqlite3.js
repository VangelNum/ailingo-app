var sqlite3InitModule=(()=>{var e=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:undefined;return function(t){var n=t||{};var r=typeof n!="undefined"?n:{};var s,i;r["ready"]=new Promise((function(e,t){s=e;i=t}));const o=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState;o.debugModule("globalThis.location =",globalThis.location);r["locateFile"]=function(e,t){"use strict";let n;const r=this.urlParams;if(r.has(e)){n=r.get(e)}else if(this.sqlite3Dir){n=this.sqlite3Dir+e}else if(this.scriptDir){n=this.scriptDir+e}else{n=t+e}o.debugModule("locateFile(",arguments[0],",",arguments[1],")","sqlite3InitModuleState.scriptDir =",this.scriptDir,"up.entries() =",Array.from(r.entries()),"result =",n);return n}.bind(o);const a=false?"instantiateWasm":"emscripten-bug-17951";r[a]=function e(t,n){t.env.foo=function(){};const s=r.locateFile(e.uri,"undefined"===typeof h?"":h);o.debugModule("instantiateWasm() uri =",s);const i=()=>fetch(s,{credentials:"same-origin"});const a=WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(i(),t).then((e=>n(e.instance,e.module))):async()=>i().then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,t))).then((e=>n(e.instance,e.module)));a();return{}};r[a].uri="sqlite3.wasm";var l=Object.assign({},r);var c=[];var u="./this.program";var _=(e,t)=>{throw t};var f=typeof window=="object";var p=typeof importScripts=="function";var d=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";var m=!f&&!d&&!p;var h="";function g(e){if(r["locateFile"]){return r["locateFile"](e,h)}return h+e}var y,q,b,v;if(f||p){if(p){h=self.location.href}else if(typeof document!="undefined"&&document.currentScript){h=document.currentScript.src}if(e){h=e}if(h.indexOf("blob:")!==0){h=h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1)}else{h=""}{y=e=>{var t=new XMLHttpRequest;t.open("GET",e,false);t.send(null);return t.responseText};if(p){b=e=>{var t=new XMLHttpRequest;t.open("GET",e,false);t.responseType="arraybuffer";t.send(null);return new Uint8Array(t.response)}}q=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,true);r.responseType="arraybuffer";r.onload=()=>{if(r.status==200||r.status==0&&r.response){t(r.response);return}n()};r.onerror=n;r.send(null)}}v=e=>document.title=e}else{}var w=r["print"]||console.log.bind(console);var E=r["printErr"]||console.warn.bind(console);Object.assign(r,l);l=null;if(r["arguments"])c=r["arguments"];if(r["thisProgram"])u=r["thisProgram"];if(r["quit"])_=r["quit"];var S=16;var x=4;function A(e){switch(e){case"i1":case"i8":case"u8":return 1;case"i16":case"u16":return 2;case"i32":case"u32":return 4;case"i64":case"u64":return 8;case"float":return 4;case"double":return 8;default:{if(e[e.length-1]==="*"){return x}if(e[0]==="i"){const t=Number(e.substr(1));P(t%8===0,"getNativeTypeSize invalid bits "+t+", type "+e);return t/8}return 0}}}var I;if(r["wasmBinary"])I=r["wasmBinary"];var k=r["noExitRuntime"]||true;if(typeof WebAssembly!="object"){qe("no native wasm support detected")}var T;var F=false;var O;function P(e,t){if(!e){qe(t)}}var L=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;function C(e,t,n){var r=t+n;var s=t;while(e[s]&&!(s>=r))++s;if(s-t>16&&e.buffer&&L){return L.decode(e.subarray(t,s))}var i="";while(t<s){var o=e[t++];if(!(o&128)){i+=String.fromCharCode(o);continue}var a=e[t++]&63;if((o&224)==192){i+=String.fromCharCode((o&31)<<6|a);continue}var l=e[t++]&63;if((o&240)==224){o=(o&15)<<12|a<<6|l}else{o=(o&7)<<18|a<<12|l<<6|e[t++]&63}if(o<65536){i+=String.fromCharCode(o)}else{var c=o-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return i}function D(e,t){return e?C(B,e,t):""}function N(e,t,n,r){if(!(r>0))return 0;var s=n;var i=n+r-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343){var l=e.charCodeAt(++o);a=65536+((a&1023)<<10)|l&1023}if(a<=127){if(n>=i)break;t[n++]=a}else if(a<=2047){if(n+1>=i)break;t[n++]=192|a>>6;t[n++]=128|a&63}else if(a<=65535){if(n+2>=i)break;t[n++]=224|a>>12;t[n++]=128|a>>6&63;t[n++]=128|a&63}else{if(n+3>=i)break;t[n++]=240|a>>18;t[n++]=128|a>>12&63;t[n++]=128|a>>6&63;t[n++]=128|a&63}}t[n]=0;return n-s}function R(e,t,n){return N(e,B,t,n)}function M(e){var t=0;for(var n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r<=127){t++}else if(r<=2047){t+=2}else if(r>=55296&&r<=57343){t+=4;++n}else{t+=3}}return t}var j,z,B,Q,U,W,H,V,G,$,K;function J(){var e=T.buffer;r["HEAP8"]=z=new Int8Array(e);r["HEAP16"]=Q=new Int16Array(e);r["HEAP32"]=W=new Int32Array(e);r["HEAPU8"]=B=new Uint8Array(e);r["HEAPU16"]=U=new Uint16Array(e);r["HEAPU32"]=H=new Uint32Array(e);r["HEAPF32"]=V=new Float32Array(e);r["HEAPF64"]=K=new Float64Array(e);r["HEAP64"]=G=new BigInt64Array(e);r["HEAPU64"]=$=new BigUint64Array(e)}var X=524288;var Y=r["INITIAL_MEMORY"]||16777216;if(r["wasmMemory"]){T=r["wasmMemory"]}else{T=new WebAssembly.Memory({initial:Y/65536,maximum:2147483648/65536})}J();Y=T.buffer.byteLength;var Z;var ee=[];var te=[];var ne=[];var re=[];var se=false;function ie(){return k}function oe(){if(r["preRun"]){if(typeof r["preRun"]=="function")r["preRun"]=[r["preRun"]];while(r["preRun"].length){ce(r["preRun"].shift())}}Oe(ee)}function ae(){se=true;if(!r["noFSInit"]&&!We.init.initialized)We.init();We.ignorePermissions=false;Me.init();Oe(te)}function le(){if(r["postRun"]){if(typeof r["postRun"]=="function")r["postRun"]=[r["postRun"]];while(r["postRun"].length){fe(r["postRun"].shift())}}Oe(re)}function ce(e){ee.unshift(e)}function ue(e){te.unshift(e)}function _e(e){}function fe(e){re.unshift(e)}var pe=0;var de=null;var me=null;function he(e){return e}function ge(e){pe++;if(r["monitorRunDependencies"]){r["monitorRunDependencies"](pe)}}function ye(e){pe--;if(r["monitorRunDependencies"]){r["monitorRunDependencies"](pe)}if(pe==0){if(de!==null){clearInterval(de);de=null}if(me){var t=me;me=null;t()}}}function qe(e){if(r["onAbort"]){r["onAbort"](e)}e="Aborted("+e+")";E(e);F=true;O=1;e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);i(t);throw t}var be="data:application/octet-stream;base64,";function ve(e){return e.startsWith(be)}function we(e){return e.startsWith("file://")}var Ee;Ee="sqlite3.wasm";if(!ve(Ee)){Ee=g(Ee)}function Se(e){try{if(e==Ee&&I){return new Uint8Array(I)}if(b){return b(e)}throw"both async and sync fetching of the wasm failed"}catch(e){qe(e)}}function xe(){if(!I&&(f||p)){if(typeof fetch=="function"){return fetch(Ee,{credentials:"same-origin"}).then((function(e){if(!e["ok"]){throw"failed to load wasm binary file at '"+Ee+"'"}return e["arrayBuffer"]()})).catch((function(){return Se(Ee)}))}}return Promise.resolve().then((function(){return Se(Ee)}))}function Ae(){var e={env:Kt,wasi_snapshot_preview1:Kt};function t(e,t){var n=e.exports;r["asm"]=n;Z=r["asm"]["__indirect_function_table"];ue(r["asm"]["__wasm_call_ctors"]);ye("wasm-instantiate")}ge("wasm-instantiate");function n(e){t(e["instance"])}function s(t){return xe().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){E("failed to asynchronously prepare wasm: "+e);qe(e)}))}function o(){if(!I&&typeof WebAssembly.instantiateStreaming=="function"&&!ve(Ee)&&typeof fetch=="function"){return fetch(Ee,{credentials:"same-origin"}).then((function(t){var r=WebAssembly.instantiateStreaming(t,e);return r.then(n,(function(e){E("wasm streaming compile failed: "+e);E("falling back to ArrayBuffer instantiation");return s(n)}))}))}else{return s(n)}}if(r["instantiateWasm"]){try{var a=r["instantiateWasm"](e,t);return a}catch(e){E("Module.instantiateWasm callback failed with error: "+e);i(e)}}o().catch(i);return{}}var Ie;var ke;var Te={};function Fe(e){this.name="ExitStatus";this.message="Program terminated with exit("+e+")";this.status=e}function Oe(e){while(e.length>0){e.shift()(r)}}function Pe(e,t="i8"){if(t.endsWith("*"))t="*";switch(t){case"i1":return z[e>>0];case"i8":return z[e>>0];case"i16":return Q[e>>1];case"i32":return W[e>>2];case"i64":return G[e>>3];case"float":return V[e>>2];case"double":return K[e>>3];case"*":return H[e>>2];default:qe("invalid type for getValue: "+t)}return null}function Le(e,t,n="i8"){if(n.endsWith("*"))n="*";switch(n){case"i1":z[e>>0]=t;break;case"i8":z[e>>0]=t;break;case"i16":Q[e>>1]=t;break;case"i32":W[e>>2]=t;break;case"i64":ke=[t>>>0,(Ie=t,+Math.abs(Ie)>=1?Ie>0?(Math.min(+Math.floor(Ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)],W[e>>2]=ke[0],W[e+4>>2]=ke[1];break;case"float":V[e>>2]=t;break;case"double":K[e>>3]=t;break;case"*":H[e>>2]=t;break;default:qe("invalid type for setValue: "+n)}}var Ce={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{var n=0;for(var r=e.length-1;r>=0;r--){var s=e[r];if(s==="."){e.splice(r,1)}else if(s===".."){e.splice(r,1);n++}else if(n){e.splice(r,1);n--}}if(t){for(;n;n--){e.unshift("..")}}return e},normalize:e=>{var t=Ce.isAbs(e),n=e.substr(-1)==="/";e=Ce.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/");if(!e&&!t){e="."}if(e&&n){e+="/"}return(t?"/":"")+e},dirname:e=>{var t=Ce.splitPath(e),n=t[0],r=t[1];if(!n&&!r){return"."}if(r){r=r.substr(0,r.length-1)}return n+r},basename:e=>{if(e==="/")return"/";e=Ce.normalize(e);e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");if(t===-1)return e;return e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return Ce.normalize(e.join("/"))},join2:(e,t)=>Ce.normalize(e+"/"+t)};function De(){if(typeof crypto=="object"&&typeof crypto["getRandomValues"]=="function"){var e=new Uint8Array(1);return()=>{crypto.getRandomValues(e);return e[0]}}else return()=>qe("randomDevice")}var Ne={resolve:function(){var e="",t=false;for(var n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:We.cwd();if(typeof r!="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!r){return""}e=r+"/"+e;t=Ce.isAbs(r)}e=Ce.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/");return(t?"/":"")+e||"."},relative:(e,t)=>{e=Ne.resolve(e).substr(1);t=Ne.resolve(t).substr(1);function n(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var n=e.length-1;for(;n>=0;n--){if(e[n]!=="")break}if(t>n)return[];return e.slice(t,n-t+1)}var r=n(e.split("/"));var s=n(t.split("/"));var i=Math.min(r.length,s.length);var o=i;for(var a=0;a<i;a++){if(r[a]!==s[a]){o=a;break}}var l=[];for(var a=o;a<r.length;a++){l.push("..")}l=l.concat(s.slice(o));return l.join("/")}};function Re(e,t,n){var r=n>0?n:M(e)+1;var s=new Array(r);var i=N(e,s,0,s.length);if(t)s.length=i;return s}var Me={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Me.ttys[e]={input:[],output:[],ops:t};We.registerDevice(e,Me.stream_ops)},stream_ops:{open:function(e){var t=Me.ttys[e.node.rdev];if(!t){throw new We.ErrnoError(43)}e.tty=t;e.seekable=false},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,s){if(!e.tty||!e.tty.ops.get_char){throw new We.ErrnoError(60)}var i=0;for(var o=0;o<r;o++){var a;try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new We.ErrnoError(29)}if(a===undefined&&i===0){throw new We.ErrnoError(6)}if(a===null||a===undefined)break;i++;t[n+o]=a}if(i){e.node.timestamp=Date.now()}return i},write:function(e,t,n,r,s){if(!e.tty||!e.tty.ops.put_char){throw new We.ErrnoError(60)}try{for(var i=0;i<r;i++){e.tty.ops.put_char(e.tty,t[n+i])}}catch(e){throw new We.ErrnoError(29)}if(r){e.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(typeof window!="undefined"&&typeof window.prompt=="function"){t=window.prompt("Input: ");if(t!==null){t+="\n"}}else if(typeof readline=="function"){t=readline();if(t!==null){t+="\n"}}if(!t){return null}e.input=Re(t,true)}return e.input.shift()},put_char:function(e,t){if(t===null||t===10){w(C(e.output,0));e.output=[]}else{if(t!=0)e.output.push(t)}},fsync:function(e){if(e.output&&e.output.length>0){w(C(e.output,0));e.output=[]}}},default_tty1_ops:{put_char:function(e,t){if(t===null||t===10){E(C(e.output,0));e.output=[]}else{if(t!=0)e.output.push(t)}},fsync:function(e){if(e.output&&e.output.length>0){E(C(e.output,0));e.output=[]}}}};function je(e,t){B.fill(0,e,e+t);return e}function ze(e,t){return Math.ceil(e/t)*t}function Be(e){e=ze(e,65536);var t=vo(65536,e);if(!t)return 0;return je(t,e)}var Qe={ops_table:null,mount:function(e){return Qe.createNode(null,"/",16384|511,0)},createNode:function(e,t,n,r){if(We.isBlkdev(n)||We.isFIFO(n)){throw new We.ErrnoError(63)}if(!Qe.ops_table){Qe.ops_table={dir:{node:{getattr:Qe.node_ops.getattr,setattr:Qe.node_ops.setattr,lookup:Qe.node_ops.lookup,mknod:Qe.node_ops.mknod,rename:Qe.node_ops.rename,unlink:Qe.node_ops.unlink,rmdir:Qe.node_ops.rmdir,readdir:Qe.node_ops.readdir,symlink:Qe.node_ops.symlink},stream:{llseek:Qe.stream_ops.llseek}},file:{node:{getattr:Qe.node_ops.getattr,setattr:Qe.node_ops.setattr},stream:{llseek:Qe.stream_ops.llseek,read:Qe.stream_ops.read,write:Qe.stream_ops.write,allocate:Qe.stream_ops.allocate,mmap:Qe.stream_ops.mmap,msync:Qe.stream_ops.msync}},link:{node:{getattr:Qe.node_ops.getattr,setattr:Qe.node_ops.setattr,readlink:Qe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Qe.node_ops.getattr,setattr:Qe.node_ops.setattr},stream:We.chrdev_stream_ops}}}var s=We.createNode(e,t,n,r);if(We.isDir(s.mode)){s.node_ops=Qe.ops_table.dir.node;s.stream_ops=Qe.ops_table.dir.stream;s.contents={}}else if(We.isFile(s.mode)){s.node_ops=Qe.ops_table.file.node;s.stream_ops=Qe.ops_table.file.stream;s.usedBytes=0;s.contents=null}else if(We.isLink(s.mode)){s.node_ops=Qe.ops_table.link.node;s.stream_ops=Qe.ops_table.link.stream}else if(We.isChrdev(s.mode)){s.node_ops=Qe.ops_table.chrdev.node;s.stream_ops=Qe.ops_table.chrdev.stream}s.timestamp=Date.now();if(e){e.contents[t]=s;e.timestamp=s.timestamp}return s},getFileDataAsTypedArray:function(e){if(!e.contents)return new Uint8Array(0);if(e.contents.subarray)return e.contents.subarray(0,e.usedBytes);return new Uint8Array(e.contents)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(n>=t)return;var r=1024*1024;t=Math.max(t,n*(n<r?2:1.125)>>>0);if(n!=0)t=Math.max(t,256);var s=e.contents;e.contents=new Uint8Array(t);if(e.usedBytes>0)e.contents.set(s.subarray(0,e.usedBytes),0)},resizeFileStorage:function(e,t){if(e.usedBytes==t)return;if(t==0){e.contents=null;e.usedBytes=0}else{var n=e.contents;e.contents=new Uint8Array(t);if(n){e.contents.set(n.subarray(0,Math.min(t,e.usedBytes)))}e.usedBytes=t}},node_ops:{getattr:function(e){var t={};t.dev=We.isChrdev(e.mode)?e.id:1;t.ino=e.id;t.mode=e.mode;t.nlink=1;t.uid=0;t.gid=0;t.rdev=e.rdev;if(We.isDir(e.mode)){t.size=4096}else if(We.isFile(e.mode)){t.size=e.usedBytes}else if(We.isLink(e.mode)){t.size=e.link.length}else{t.size=0}t.atime=new Date(e.timestamp);t.mtime=new Date(e.timestamp);t.ctime=new Date(e.timestamp);t.blksize=4096;t.blocks=Math.ceil(t.size/t.blksize);return t},setattr:function(e,t){if(t.mode!==undefined){e.mode=t.mode}if(t.timestamp!==undefined){e.timestamp=t.timestamp}if(t.size!==undefined){Qe.resizeFileStorage(e,t.size)}},lookup:function(e,t){throw We.genericErrors[44]},mknod:function(e,t,n,r){return Qe.createNode(e,t,n,r)},rename:function(e,t,n){if(We.isDir(e.mode)){var r;try{r=We.lookupNode(t,n)}catch(e){}if(r){for(var s in r.contents){throw new We.ErrnoError(55)}}}delete e.parent.contents[e.name];e.parent.timestamp=Date.now();e.name=n;t.contents[n]=e;t.timestamp=e.parent.timestamp;e.parent=t},unlink:function(e,t){delete e.contents[t];e.timestamp=Date.now()},rmdir:function(e,t){var n=We.lookupNode(e,t);for(var r in n.contents){throw new We.ErrnoError(55)}delete e.contents[t];e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents){if(!e.contents.hasOwnProperty(n)){continue}t.push(n)}return t},symlink:function(e,t,n){var r=Qe.createNode(e,t,511|40960,0);r.link=n;return r},readlink:function(e){if(!We.isLink(e.mode)){throw new We.ErrnoError(28)}return e.link}},stream_ops:{read:function(e,t,n,r,s){var i=e.node.contents;if(s>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-s,r);if(o>8&&i.subarray){t.set(i.subarray(s,s+o),n)}else{for(var a=0;a<o;a++)t[n+a]=i[s+a]}return o},write:function(e,t,n,r,s,i){if(t.buffer===z.buffer){i=false}if(!r)return 0;var o=e.node;o.timestamp=Date.now();if(t.subarray&&(!o.contents||o.contents.subarray)){if(i){o.contents=t.subarray(n,n+r);o.usedBytes=r;return r}else if(o.usedBytes===0&&s===0){o.contents=t.slice(n,n+r);o.usedBytes=r;return r}else if(s+r<=o.usedBytes){o.contents.set(t.subarray(n,n+r),s);return r}}Qe.expandFileStorage(o,s+r);if(o.contents.subarray&&t.subarray){o.contents.set(t.subarray(n,n+r),s)}else{for(var a=0;a<r;a++){o.contents[s+a]=t[n+a]}}o.usedBytes=Math.max(o.usedBytes,s+r);return r},llseek:function(e,t,n){var r=t;if(n===1){r+=e.position}else if(n===2){if(We.isFile(e.node.mode)){r+=e.node.usedBytes}}if(r<0){throw new We.ErrnoError(28)}return r},allocate:function(e,t,n){Qe.expandFileStorage(e.node,t+n);e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,s){if(!We.isFile(e.node.mode)){throw new We.ErrnoError(43)}var i;var o;var a=e.node.contents;if(!(s&2)&&a.buffer===z.buffer){o=false;i=a.byteOffset}else{if(n>0||n+t<a.length){if(a.subarray){a=a.subarray(n,n+t)}else{a=Array.prototype.slice.call(a,n,n+t)}}o=true;i=Be(t);if(!i){throw new We.ErrnoError(48)}z.set(a,i)}return{ptr:i,allocated:o}},msync:function(e,t,n,r,s){Qe.stream_ops.write(e,t,0,r,n,false);return 0}}};function Ue(e,t,n,r){var s=!r?he("al "+e):"";q(e,(n=>{P(n,'Loading data file "'+e+'" failed (no arrayBuffer).');t(new Uint8Array(n));if(s)ye(s)}),(t=>{if(n){n()}else{throw'Loading data file "'+e+'" failed.'}}));if(s)ge(s)}var We={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,t={})=>{e=Ne.resolve(e);if(!e)return{path:"",node:null};var n={follow_mount:true,recurse_count:0};t=Object.assign(n,t);if(t.recurse_count>8){throw new We.ErrnoError(32)}var r=e.split("/").filter((e=>!!e));var s=We.root;var i="/";for(var o=0;o<r.length;o++){var a=o===r.length-1;if(a&&t.parent){break}s=We.lookupNode(s,r[o]);i=Ce.join2(i,r[o]);if(We.isMountpoint(s)){if(!a||a&&t.follow_mount){s=s.mounted.root}}if(!a||t.follow){var l=0;while(We.isLink(s.mode)){var c=We.readlink(i);i=Ne.resolve(Ce.dirname(i),c);var u=We.lookupPath(i,{recurse_count:t.recurse_count+1});s=u.node;if(l++>40){throw new We.ErrnoError(32)}}}}return{path:i,node:s}},getPath:e=>{var t;while(true){if(We.isRoot(e)){var n=e.mount.mountpoint;if(!t)return n;return n[n.length-1]!=="/"?n+"/"+t:n+t}t=t?e.name+"/"+t:e.name;e=e.parent}},hashName:(e,t)=>{var n=0;for(var r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r)|0}return(e+n>>>0)%We.nameTable.length},hashAddNode:e=>{var t=We.hashName(e.parent.id,e.name);e.name_next=We.nameTable[t];We.nameTable[t]=e},hashRemoveNode:e=>{var t=We.hashName(e.parent.id,e.name);if(We.nameTable[t]===e){We.nameTable[t]=e.name_next}else{var n=We.nameTable[t];while(n){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}}},lookupNode:(e,t)=>{var n=We.mayLookup(e);if(n){throw new We.ErrnoError(n,e)}var r=We.hashName(e.id,t);for(var s=We.nameTable[r];s;s=s.name_next){var i=s.name;if(s.parent.id===e.id&&i===t){return s}}return We.lookup(e,t)},createNode:(e,t,n,r)=>{var s=new We.FSNode(e,t,n,r);We.hashAddNode(s);return s},destroyNode:e=>{We.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>(e&61440)===32768,isDir:e=>(e&61440)===16384,isLink:e=>(e&61440)===40960,isChrdev:e=>(e&61440)===8192,isBlkdev:e=>(e&61440)===24576,isFIFO:e=>(e&61440)===4096,isSocket:e=>(e&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var t=We.flagModes[e];if(typeof t=="undefined"){throw new Error("Unknown file open mode: "+e)}return t},flagsToPermissionString:e=>{var t=["r","w","rw"][e&3];if(e&512){t+="w"}return t},nodePermissions:(e,t)=>{if(We.ignorePermissions){return 0}if(t.includes("r")&&!(e.mode&292)){return 2}else if(t.includes("w")&&!(e.mode&146)){return 2}else if(t.includes("x")&&!(e.mode&73)){return 2}return 0},mayLookup:e=>{var t=We.nodePermissions(e,"x");if(t)return t;if(!e.node_ops.lookup)return 2;return 0},mayCreate:(e,t)=>{try{var n=We.lookupNode(e,t);return 20}catch(e){}return We.nodePermissions(e,"wx")},mayDelete:(e,t,n)=>{var r;try{r=We.lookupNode(e,t)}catch(e){return e.errno}var s=We.nodePermissions(e,"wx");if(s){return s}if(n){if(!We.isDir(r.mode)){return 54}if(We.isRoot(r)||We.getPath(r)===We.cwd()){return 10}}else{if(We.isDir(r.mode)){return 31}}return 0},mayOpen:(e,t)=>{if(!e){return 44}if(We.isLink(e.mode)){return 32}else if(We.isDir(e.mode)){if(We.flagsToPermissionString(t)!=="r"||t&512){return 31}}return We.nodePermissions(e,We.flagsToPermissionString(t))},MAX_OPEN_FDS:4096,nextfd:(e=0,t=We.MAX_OPEN_FDS)=>{for(var n=e;n<=t;n++){if(!We.streams[n]){return n}}throw new We.ErrnoError(33)},getStream:e=>We.streams[e],createStream:(e,t,n)=>{if(!We.FSStream){We.FSStream=function(){this.shared={}};We.FSStream.prototype={};Object.defineProperties(We.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})}e=Object.assign(new We.FSStream,e);var r=We.nextfd(t,n);e.fd=r;We.streams[r]=e;return e},closeStream:e=>{We.streams[e]=null},chrdev_stream_ops:{open:e=>{var t=We.getDevice(e.node.rdev);e.stream_ops=t.stream_ops;if(e.stream_ops.open){e.stream_ops.open(e)}},llseek:()=>{throw new We.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice:(e,t)=>{We.devices[e]={stream_ops:t}},getDevice:e=>We.devices[e],getMounts:e=>{var t=[];var n=[e];while(n.length){var r=n.pop();t.push(r);n.push.apply(n,r.mounts)}return t},syncfs:(e,t)=>{if(typeof e=="function"){t=e;e=false}We.syncFSRequests++;if(We.syncFSRequests>1){E("warning: "+We.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var n=We.getMounts(We.root.mount);var r=0;function s(e){We.syncFSRequests--;return t(e)}function i(e){if(e){if(!i.errored){i.errored=true;return s(e)}return}if(++r>=n.length){s(null)}}n.forEach((t=>{if(!t.type.syncfs){return i(null)}t.type.syncfs(t,e,i)}))},mount:(e,t,n)=>{var r=n==="/";var s=!n;var i;if(r&&We.root){throw new We.ErrnoError(10)}else if(!r&&!s){var o=We.lookupPath(n,{follow_mount:false});n=o.path;i=o.node;if(We.isMountpoint(i)){throw new We.ErrnoError(10)}if(!We.isDir(i.mode)){throw new We.ErrnoError(54)}}var a={type:e,opts:t,mountpoint:n,mounts:[]};var l=e.mount(a);l.mount=a;a.root=l;if(r){We.root=l}else if(i){i.mounted=a;if(i.mount){i.mount.mounts.push(a)}}return l},unmount:e=>{var t=We.lookupPath(e,{follow_mount:false});if(!We.isMountpoint(t.node)){throw new We.ErrnoError(28)}var n=t.node;var r=n.mounted;var s=We.getMounts(r);Object.keys(We.nameTable).forEach((e=>{var t=We.nameTable[e];while(t){var n=t.name_next;if(s.includes(t.mount)){We.destroyNode(t)}t=n}}));n.mounted=null;var i=n.mount.mounts.indexOf(r);n.mount.mounts.splice(i,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod:(e,t,n)=>{var r=We.lookupPath(e,{parent:true});var s=r.node;var i=Ce.basename(e);if(!i||i==="."||i===".."){throw new We.ErrnoError(28)}var o=We.mayCreate(s,i);if(o){throw new We.ErrnoError(o)}if(!s.node_ops.mknod){throw new We.ErrnoError(63)}return s.node_ops.mknod(s,i,t,n)},create:(e,t)=>{t=t!==undefined?t:438;t&=4095;t|=32768;return We.mknod(e,t,0)},mkdir:(e,t)=>{t=t!==undefined?t:511;t&=511|512;t|=16384;return We.mknod(e,t,0)},mkdirTree:(e,t)=>{var n=e.split("/");var r="";for(var s=0;s<n.length;++s){if(!n[s])continue;r+="/"+n[s];try{We.mkdir(r,t)}catch(e){if(e.errno!=20)throw e}}},mkdev:(e,t,n)=>{if(typeof n=="undefined"){n=t;t=438}t|=8192;return We.mknod(e,t,n)},symlink:(e,t)=>{if(!Ne.resolve(e)){throw new We.ErrnoError(44)}var n=We.lookupPath(t,{parent:true});var r=n.node;if(!r){throw new We.ErrnoError(44)}var s=Ce.basename(t);var i=We.mayCreate(r,s);if(i){throw new We.ErrnoError(i)}if(!r.node_ops.symlink){throw new We.ErrnoError(63)}return r.node_ops.symlink(r,s,e)},rename:(e,t)=>{var n=Ce.dirname(e);var r=Ce.dirname(t);var s=Ce.basename(e);var i=Ce.basename(t);var o,a,l;o=We.lookupPath(e,{parent:true});a=o.node;o=We.lookupPath(t,{parent:true});l=o.node;if(!a||!l)throw new We.ErrnoError(44);if(a.mount!==l.mount){throw new We.ErrnoError(75)}var c=We.lookupNode(a,s);var u=Ne.relative(e,r);if(u.charAt(0)!=="."){throw new We.ErrnoError(28)}u=Ne.relative(t,n);if(u.charAt(0)!=="."){throw new We.ErrnoError(55)}var _;try{_=We.lookupNode(l,i)}catch(e){}if(c===_){return}var f=We.isDir(c.mode);var p=We.mayDelete(a,s,f);if(p){throw new We.ErrnoError(p)}p=_?We.mayDelete(l,i,f):We.mayCreate(l,i);if(p){throw new We.ErrnoError(p)}if(!a.node_ops.rename){throw new We.ErrnoError(63)}if(We.isMountpoint(c)||_&&We.isMountpoint(_)){throw new We.ErrnoError(10)}if(l!==a){p=We.nodePermissions(a,"w");if(p){throw new We.ErrnoError(p)}}We.hashRemoveNode(c);try{a.node_ops.rename(c,l,i)}catch(e){throw e}finally{We.hashAddNode(c)}},rmdir:e=>{var t=We.lookupPath(e,{parent:true});var n=t.node;var r=Ce.basename(e);var s=We.lookupNode(n,r);var i=We.mayDelete(n,r,true);if(i){throw new We.ErrnoError(i)}if(!n.node_ops.rmdir){throw new We.ErrnoError(63)}if(We.isMountpoint(s)){throw new We.ErrnoError(10)}n.node_ops.rmdir(n,r);We.destroyNode(s)},readdir:e=>{var t=We.lookupPath(e,{follow:true});var n=t.node;if(!n.node_ops.readdir){throw new We.ErrnoError(54)}return n.node_ops.readdir(n)},unlink:e=>{var t=We.lookupPath(e,{parent:true});var n=t.node;if(!n){throw new We.ErrnoError(44)}var r=Ce.basename(e);var s=We.lookupNode(n,r);var i=We.mayDelete(n,r,false);if(i){throw new We.ErrnoError(i)}if(!n.node_ops.unlink){throw new We.ErrnoError(63)}if(We.isMountpoint(s)){throw new We.ErrnoError(10)}n.node_ops.unlink(n,r);We.destroyNode(s)},readlink:e=>{var t=We.lookupPath(e);var n=t.node;if(!n){throw new We.ErrnoError(44)}if(!n.node_ops.readlink){throw new We.ErrnoError(28)}return Ne.resolve(We.getPath(n.parent),n.node_ops.readlink(n))},stat:(e,t)=>{var n=We.lookupPath(e,{follow:!t});var r=n.node;if(!r){throw new We.ErrnoError(44)}if(!r.node_ops.getattr){throw new We.ErrnoError(63)}return r.node_ops.getattr(r)},lstat:e=>We.stat(e,true),chmod:(e,t,n)=>{var r;if(typeof e=="string"){var s=We.lookupPath(e,{follow:!n});r=s.node}else{r=e}if(!r.node_ops.setattr){throw new We.ErrnoError(63)}r.node_ops.setattr(r,{mode:t&4095|r.mode&~4095,timestamp:Date.now()})},lchmod:(e,t)=>{We.chmod(e,t,true)},fchmod:(e,t)=>{var n=We.getStream(e);if(!n){throw new We.ErrnoError(8)}We.chmod(n.node,t)},chown:(e,t,n,r)=>{var s;if(typeof e=="string"){var i=We.lookupPath(e,{follow:!r});s=i.node}else{s=e}if(!s.node_ops.setattr){throw new We.ErrnoError(63)}s.node_ops.setattr(s,{timestamp:Date.now()})},lchown:(e,t,n)=>{We.chown(e,t,n,true)},fchown:(e,t,n)=>{var r=We.getStream(e);if(!r){throw new We.ErrnoError(8)}We.chown(r.node,t,n)},truncate:(e,t)=>{if(t<0){throw new We.ErrnoError(28)}var n;if(typeof e=="string"){var r=We.lookupPath(e,{follow:true});n=r.node}else{n=e}if(!n.node_ops.setattr){throw new We.ErrnoError(63)}if(We.isDir(n.mode)){throw new We.ErrnoError(31)}if(!We.isFile(n.mode)){throw new We.ErrnoError(28)}var s=We.nodePermissions(n,"w");if(s){throw new We.ErrnoError(s)}n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:(e,t)=>{var n=We.getStream(e);if(!n){throw new We.ErrnoError(8)}if((n.flags&2097155)===0){throw new We.ErrnoError(28)}We.truncate(n.node,t)},utime:(e,t,n)=>{var r=We.lookupPath(e,{follow:true});var s=r.node;s.node_ops.setattr(s,{timestamp:Math.max(t,n)})},open:(e,t,n)=>{if(e===""){throw new We.ErrnoError(44)}t=typeof t=="string"?We.modeStringToFlags(t):t;n=typeof n=="undefined"?438:n;if(t&64){n=n&4095|32768}else{n=0}var s;if(typeof e=="object"){s=e}else{e=Ce.normalize(e);try{var i=We.lookupPath(e,{follow:!(t&131072)});s=i.node}catch(e){}}var o=false;if(t&64){if(s){if(t&128){throw new We.ErrnoError(20)}}else{s=We.mknod(e,n,0);o=true}}if(!s){throw new We.ErrnoError(44)}if(We.isChrdev(s.mode)){t&=~512}if(t&65536&&!We.isDir(s.mode)){throw new We.ErrnoError(54)}if(!o){var a=We.mayOpen(s,t);if(a){throw new We.ErrnoError(a)}}if(t&512&&!o){We.truncate(s,0)}t&=~(128|512|131072);var l=We.createStream({node:s,path:We.getPath(s),flags:t,seekable:true,position:0,stream_ops:s.stream_ops,ungotten:[],error:false});if(l.stream_ops.open){l.stream_ops.open(l)}if(r["logReadFiles"]&&!(t&1)){if(!We.readFiles)We.readFiles={};if(!(e in We.readFiles)){We.readFiles[e]=1}}return l},close:e=>{if(We.isClosed(e)){throw new We.ErrnoError(8)}if(e.getdents)e.getdents=null;try{if(e.stream_ops.close){e.stream_ops.close(e)}}catch(e){throw e}finally{We.closeStream(e.fd)}e.fd=null},isClosed:e=>e.fd===null,llseek:(e,t,n)=>{if(We.isClosed(e)){throw new We.ErrnoError(8)}if(!e.seekable||!e.stream_ops.llseek){throw new We.ErrnoError(70)}if(n!=0&&n!=1&&n!=2){throw new We.ErrnoError(28)}e.position=e.stream_ops.llseek(e,t,n);e.ungotten=[];return e.position},read:(e,t,n,r,s)=>{if(r<0||s<0){throw new We.ErrnoError(28)}if(We.isClosed(e)){throw new We.ErrnoError(8)}if((e.flags&2097155)===1){throw new We.ErrnoError(8)}if(We.isDir(e.node.mode)){throw new We.ErrnoError(31)}if(!e.stream_ops.read){throw new We.ErrnoError(28)}var i=typeof s!="undefined";if(!i){s=e.position}else if(!e.seekable){throw new We.ErrnoError(70)}var o=e.stream_ops.read(e,t,n,r,s);if(!i)e.position+=o;return o},write:(e,t,n,r,s,i)=>{if(r<0||s<0){throw new We.ErrnoError(28)}if(We.isClosed(e)){throw new We.ErrnoError(8)}if((e.flags&2097155)===0){throw new We.ErrnoError(8)}if(We.isDir(e.node.mode)){throw new We.ErrnoError(31)}if(!e.stream_ops.write){throw new We.ErrnoError(28)}if(e.seekable&&e.flags&1024){We.llseek(e,0,2)}var o=typeof s!="undefined";if(!o){s=e.position}else if(!e.seekable){throw new We.ErrnoError(70)}var a=e.stream_ops.write(e,t,n,r,s,i);if(!o)e.position+=a;return a},allocate:(e,t,n)=>{if(We.isClosed(e)){throw new We.ErrnoError(8)}if(t<0||n<=0){throw new We.ErrnoError(28)}if((e.flags&2097155)===0){throw new We.ErrnoError(8)}if(!We.isFile(e.node.mode)&&!We.isDir(e.node.mode)){throw new We.ErrnoError(43)}if(!e.stream_ops.allocate){throw new We.ErrnoError(138)}e.stream_ops.allocate(e,t,n)},mmap:(e,t,n,r,s)=>{if((r&2)!==0&&(s&2)===0&&(e.flags&2097155)!==2){throw new We.ErrnoError(2)}if((e.flags&2097155)===1){throw new We.ErrnoError(2)}if(!e.stream_ops.mmap){throw new We.ErrnoError(43)}return e.stream_ops.mmap(e,t,n,r,s)},msync:(e,t,n,r,s)=>{if(!e.stream_ops.msync){return 0}return e.stream_ops.msync(e,t,n,r,s)},munmap:e=>0,ioctl:(e,t,n)=>{if(!e.stream_ops.ioctl){throw new We.ErrnoError(59)}return e.stream_ops.ioctl(e,t,n)},readFile:(e,t={})=>{t.flags=t.flags||0;t.encoding=t.encoding||"binary";if(t.encoding!=="utf8"&&t.encoding!=="binary"){throw new Error('Invalid encoding type "'+t.encoding+'"')}var n;var r=We.open(e,t.flags);var s=We.stat(e);var i=s.size;var o=new Uint8Array(i);We.read(r,o,0,i,0);if(t.encoding==="utf8"){n=C(o,0)}else if(t.encoding==="binary"){n=o}We.close(r);return n},writeFile:(e,t,n={})=>{n.flags=n.flags||577;var r=We.open(e,n.flags,n.mode);if(typeof t=="string"){var s=new Uint8Array(M(t)+1);var i=N(t,s,0,s.length);We.write(r,s,0,i,undefined,n.canOwn)}else if(ArrayBuffer.isView(t)){We.write(r,t,0,t.byteLength,undefined,n.canOwn)}else{throw new Error("Unsupported data type")}We.close(r)},cwd:()=>We.currentPath,chdir:e=>{var t=We.lookupPath(e,{follow:true});if(t.node===null){throw new We.ErrnoError(44)}if(!We.isDir(t.node.mode)){throw new We.ErrnoError(54)}var n=We.nodePermissions(t.node,"x");if(n){throw new We.ErrnoError(n)}We.currentPath=t.path},createDefaultDirectories:()=>{We.mkdir("/tmp");We.mkdir("/home");We.mkdir("/home/web_user")},createDefaultDevices:()=>{We.mkdir("/dev");We.registerDevice(We.makedev(1,3),{read:()=>0,write:(e,t,n,r,s)=>r});We.mkdev("/dev/null",We.makedev(1,3));Me.register(We.makedev(5,0),Me.default_tty_ops);Me.register(We.makedev(6,0),Me.default_tty1_ops);We.mkdev("/dev/tty",We.makedev(5,0));We.mkdev("/dev/tty1",We.makedev(6,0));var e=De();We.createDevice("/dev","random",e);We.createDevice("/dev","urandom",e);We.mkdir("/dev/shm");We.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{We.mkdir("/proc");var e=We.mkdir("/proc/self");We.mkdir("/proc/self/fd");We.mount({mount:()=>{var t=We.createNode(e,"fd",16384|511,73);t.node_ops={lookup:(e,t)=>{var n=+t;var r=We.getStream(n);if(!r)throw new We.ErrnoError(8);var s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>r.path}};s.parent=s;return s}};return t}},{},"/proc/self/fd")},createStandardStreams:()=>{if(r["stdin"]){We.createDevice("/dev","stdin",r["stdin"])}else{We.symlink("/dev/tty","/dev/stdin")}if(r["stdout"]){We.createDevice("/dev","stdout",null,r["stdout"])}else{We.symlink("/dev/tty","/dev/stdout")}if(r["stderr"]){We.createDevice("/dev","stderr",null,r["stderr"])}else{We.symlink("/dev/tty1","/dev/stderr")}var e=We.open("/dev/stdin",0);var t=We.open("/dev/stdout",1);var n=We.open("/dev/stderr",1)},ensureErrnoError:()=>{if(We.ErrnoError)return;We.ErrnoError=function e(t,n){this.node=n;this.setErrno=function(e){this.errno=e};this.setErrno(t);this.message="FS error"};We.ErrnoError.prototype=new Error;We.ErrnoError.prototype.constructor=We.ErrnoError;[44].forEach((e=>{We.genericErrors[e]=new We.ErrnoError(e);We.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:()=>{We.ensureErrnoError();We.nameTable=new Array(4096);We.mount(Qe,{},"/");We.createDefaultDirectories();We.createDefaultDevices();We.createSpecialDirectories();We.filesystems={MEMFS:Qe}},init:(e,t,n)=>{We.init.initialized=true;We.ensureErrnoError();r["stdin"]=e||r["stdin"];r["stdout"]=t||r["stdout"];r["stderr"]=n||r["stderr"];We.createStandardStreams()},quit:()=>{We.init.initialized=false;for(var e=0;e<We.streams.length;e++){var t=We.streams[e];if(!t){continue}We.close(t)}},getMode:(e,t)=>{var n=0;if(e)n|=292|73;if(t)n|=146;return n},findObject:(e,t)=>{var n=We.analyzePath(e,t);if(!n.exists){return null}return n.object},analyzePath:(e,t)=>{try{var n=We.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var n=We.lookupPath(e,{parent:true});r.parentExists=true;r.parentPath=n.path;r.parentObject=n.node;r.name=Ce.basename(e);n=We.lookupPath(e,{follow:!t});r.exists=true;r.path=n.path;r.object=n.node;r.name=n.node.name;r.isRoot=n.path==="/"}catch(e){r.error=e.errno}return r},createPath:(e,t,n,r)=>{e=typeof e=="string"?e:We.getPath(e);var s=t.split("/").reverse();while(s.length){var i=s.pop();if(!i)continue;var o=Ce.join2(e,i);try{We.mkdir(o)}catch(e){}e=o}return o},createFile:(e,t,n,r,s)=>{var i=Ce.join2(typeof e=="string"?e:We.getPath(e),t);var o=We.getMode(r,s);return We.create(i,o)},createDataFile:(e,t,n,r,s,i)=>{var o=t;if(e){e=typeof e=="string"?e:We.getPath(e);o=t?Ce.join2(e,t):e}var a=We.getMode(r,s);var l=We.create(o,a);if(n){if(typeof n=="string"){var c=new Array(n.length);for(var u=0,_=n.length;u<_;++u)c[u]=n.charCodeAt(u);n=c}We.chmod(l,a|146);var f=We.open(l,577);We.write(f,n,0,n.length,0,i);We.close(f);We.chmod(l,a)}return l},createDevice:(e,t,n,r)=>{var s=Ce.join2(typeof e=="string"?e:We.getPath(e),t);var i=We.getMode(!!n,!!r);if(!We.createDevice.major)We.createDevice.major=64;var o=We.makedev(We.createDevice.major++,0);We.registerDevice(o,{open:e=>{e.seekable=false},close:e=>{if(r&&r.buffer&&r.buffer.length){r(10)}},read:(e,t,r,s,i)=>{var o=0;for(var a=0;a<s;a++){var l;try{l=n()}catch(e){throw new We.ErrnoError(29)}if(l===undefined&&o===0){throw new We.ErrnoError(6)}if(l===null||l===undefined)break;o++;t[r+a]=l}if(o){e.node.timestamp=Date.now()}return o},write:(e,t,n,s,i)=>{for(var o=0;o<s;o++){try{r(t[n+o])}catch(e){throw new We.ErrnoError(29)}}if(s){e.node.timestamp=Date.now()}return o}});return We.mkdev(s,i,o)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return true;if(typeof XMLHttpRequest!="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(y){try{e.contents=Re(y(e.url),true);e.usedBytes=e.contents.length}catch(e){throw new We.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile:(e,t,n,r,s)=>{function i(){this.lengthKnown=false;this.chunks=[]}i.prototype.get=function e(t){if(t>this.length-1||t<0){return undefined}var n=t%this.chunkSize;var r=t/this.chunkSize|0;return this.getter(r)[n]};i.prototype.setDataGetter=function e(t){this.getter=t};i.prototype.cacheLength=function e(){var t=new XMLHttpRequest;t.open("HEAD",n,false);t.send(null);if(!(t.status>=200&&t.status<300||t.status===304))throw new Error("Couldn't load "+n+". Status: "+t.status);var r=Number(t.getResponseHeader("Content-length"));var s;var i=(s=t.getResponseHeader("Accept-Ranges"))&&s==="bytes";var o=(s=t.getResponseHeader("Content-Encoding"))&&s==="gzip";var a=1024*1024;if(!i)a=r;var l=(e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var s=new XMLHttpRequest;s.open("GET",n,false);if(r!==a)s.setRequestHeader("Range","bytes="+e+"-"+t);s.responseType="arraybuffer";if(s.overrideMimeType){s.overrideMimeType("text/plain; charset=x-user-defined")}s.send(null);if(!(s.status>=200&&s.status<300||s.status===304))throw new Error("Couldn't load "+n+". Status: "+s.status);if(s.response!==undefined){return new Uint8Array(s.response||[])}return Re(s.responseText||"",true)};var c=this;c.setDataGetter((e=>{var t=e*a;var n=(e+1)*a-1;n=Math.min(n,r-1);if(typeof c.chunks[e]=="undefined"){c.chunks[e]=l(t,n)}if(typeof c.chunks[e]=="undefined")throw new Error("doXHR failed!");return c.chunks[e]}));if(o||!r){a=r=1;r=this.getter(0).length;a=r;w("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=r;this._chunkSize=a;this.lengthKnown=true};if(typeof XMLHttpRequest!="undefined"){if(!p)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new i;Object.defineProperties(o,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var a={isDevice:false,contents:o}}else{var a={isDevice:false,url:n}}var l=We.createFile(e,t,a,r,s);if(a.contents){l.contents=a.contents}else if(a.url){l.contents=null;l.url=a.url}Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};var u=Object.keys(l.stream_ops);u.forEach((e=>{var t=l.stream_ops[e];c[e]=function e(){We.forceLoadFile(l);return t.apply(null,arguments)}}));function _(e,t,n,r,s){var i=e.node.contents;if(s>=i.length)return 0;var o=Math.min(i.length-s,r);if(i.slice){for(var a=0;a<o;a++){t[n+a]=i[s+a]}}else{for(var a=0;a<o;a++){t[n+a]=i.get(s+a)}}return o}c.read=(e,t,n,r,s)=>{We.forceLoadFile(l);return _(e,t,n,r,s)};c.mmap=(e,t,n,r,s)=>{We.forceLoadFile(l);var i=Be(t);if(!i){throw new We.ErrnoError(48)}_(e,z,i,t,n);return{ptr:i,allocated:true}};l.stream_ops=c;return l},createPreloadedFile:(e,t,n,r,s,i,o,a,l,c)=>{var u=t?Ne.resolve(Ce.join2(e,t)):e;var _=he("cp "+u);function f(n){function f(n){if(c)c();if(!a){We.createDataFile(e,t,n,r,s,l)}if(i)i();ye(_)}if(Browser.handledByPreloadPlugin(n,u,f,(()=>{if(o)o();ye(_)}))){return}f(n)}ge(_);if(typeof n=="string"){Ue(n,(e=>f(e)),o)}else{f(n)}},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,t,n)=>{t=t||(()=>{});n=n||(()=>{});var r=We.indexedDB();try{var s=r.open(We.DB_NAME(),We.DB_VERSION)}catch(e){return n(e)}s.onupgradeneeded=()=>{w("creating db");var e=s.result;e.createObjectStore(We.DB_STORE_NAME)};s.onsuccess=()=>{var r=s.result;var i=r.transaction([We.DB_STORE_NAME],"readwrite");var o=i.objectStore(We.DB_STORE_NAME);var a=0,l=0,c=e.length;function u(){if(l==0)t();else n()}e.forEach((e=>{var t=o.put(We.analyzePath(e).object.contents,e);t.onsuccess=()=>{a++;if(a+l==c)u()};t.onerror=()=>{l++;if(a+l==c)u()}}));i.onerror=n};s.onerror=n},loadFilesFromDB:(e,t,n)=>{t=t||(()=>{});n=n||(()=>{});var r=We.indexedDB();try{var s=r.open(We.DB_NAME(),We.DB_VERSION)}catch(e){return n(e)}s.onupgradeneeded=n;s.onsuccess=()=>{var r=s.result;try{var i=r.transaction([We.DB_STORE_NAME],"readonly")}catch(e){n(e);return}var o=i.objectStore(We.DB_STORE_NAME);var a=0,l=0,c=e.length;function u(){if(l==0)t();else n()}e.forEach((e=>{var t=o.get(e);t.onsuccess=()=>{if(We.analyzePath(e).exists){We.unlink(e)}We.createDataFile(Ce.dirname(e),Ce.basename(e),t.result,true,true,true);a++;if(a+l==c)u()};t.onerror=()=>{l++;if(a+l==c)u()}}));i.onerror=n};s.onerror=n}};var He={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(Ce.isAbs(t)){return t}var r;if(e===-100){r=We.cwd()}else{var s=He.getStreamFromFD(e);r=s.path}if(t.length==0){if(!n){throw new We.ErrnoError(44)}return r}return Ce.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&Ce.normalize(t)!==Ce.normalize(We.getPath(e.node))){return-54}throw e}W[n>>2]=r.dev;W[n+8>>2]=r.ino;W[n+12>>2]=r.mode;H[n+16>>2]=r.nlink;W[n+20>>2]=r.uid;W[n+24>>2]=r.gid;W[n+28>>2]=r.rdev;ke=[r.size>>>0,(Ie=r.size,+Math.abs(Ie)>=1?Ie>0?(Math.min(+Math.floor(Ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)],W[n+40>>2]=ke[0],W[n+44>>2]=ke[1];W[n+48>>2]=4096;W[n+52>>2]=r.blocks;var s=r.atime.getTime();var i=r.mtime.getTime();var o=r.ctime.getTime();ke=[Math.floor(s/1e3)>>>0,(Ie=Math.floor(s/1e3),+Math.abs(Ie)>=1?Ie>0?(Math.min(+Math.floor(Ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)],W[n+56>>2]=ke[0],W[n+60>>2]=ke[1];H[n+64>>2]=s%1e3*1e3;ke=[Math.floor(i/1e3)>>>0,(Ie=Math.floor(i/1e3),+Math.abs(Ie)>=1?Ie>0?(Math.min(+Math.floor(Ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)],W[n+72>>2]=ke[0],W[n+76>>2]=ke[1];H[n+80>>2]=i%1e3*1e3;ke=[Math.floor(o/1e3)>>>0,(Ie=Math.floor(o/1e3),+Math.abs(Ie)>=1?Ie>0?(Math.min(+Math.floor(Ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)],W[n+88>>2]=ke[0],W[n+92>>2]=ke[1];H[n+96>>2]=o%1e3*1e3;ke=[r.ino>>>0,(Ie=r.ino,+Math.abs(Ie)>=1?Ie>0?(Math.min(+Math.floor(Ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)],W[n+104>>2]=ke[0],W[n+108>>2]=ke[1];return 0},doMsync:function(e,t,n,r,s){if(!We.isFile(t.node.mode)){throw new We.ErrnoError(43)}if(r&2){return 0}var i=B.slice(e,e+n);We.msync(t,i,s,n,r)},varargs:undefined,get:function(){He.varargs+=4;var e=W[He.varargs-4>>2];return e},getStr:function(e){var t=D(e);return t},getStreamFromFD:function(e){var t=We.getStream(e);if(!t)throw new We.ErrnoError(8);return t}};function Ve(e,t){try{e=He.getStr(e);We.chmod(e,t);return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function Ge(e,t,n,r){try{t=He.getStr(t);t=He.calculateAt(e,t);if(n&~7){return-28}var s=We.lookupPath(t,{follow:true});var i=s.node;if(!i){return-44}var o="";if(n&4)o+="r";if(n&2)o+="w";if(n&1)o+="x";if(o&&We.nodePermissions(i,o)){return-2}return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function $e(e,t){try{We.fchmod(e,t);return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function Ke(e,t,n){try{We.fchown(e,t,n);return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function Je(e){W[gn()>>2]=e;return e}function Xe(e,t,n){He.varargs=n;try{var r=He.getStreamFromFD(e);switch(t){case 0:{var s=He.get();if(s<0){return-28}var i;i=We.createStream(r,s);return i.fd}case 1:case 2:return 0;case 3:return r.flags;case 4:{var s=He.get();r.flags|=s;return 0}case 5:{var s=He.get();var o=0;Q[s+o>>1]=2;return 0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:Je(28);return-1;default:{return-28}}}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function Ye(e,t){try{var n=He.getStreamFromFD(e);return He.doStat(We.stat,n.path,t)}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}var Ze=9007199254740992;var et=-9007199254740992;function tt(e){return e<et||e>Ze?NaN:Number(e)}function nt(e,t){try{t=tt(t);if(isNaN(t))return-61;We.ftruncate(e,t);return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function rt(e,t){try{if(t===0)return-28;var n=We.cwd();var r=M(n)+1;if(t<r)return-68;R(n,e,t);return r}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function st(e,t,n){He.varargs=n;try{var r=He.getStreamFromFD(e);switch(t){case 21509:case 21505:{if(!r.tty)return-59;return 0}case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!r.tty)return-59;return 0}case 21519:{if(!r.tty)return-59;var s=He.get();W[s>>2]=0;return 0}case 21520:{if(!r.tty)return-59;return-28}case 21531:{var s=He.get();return We.ioctl(r,t,s)}case 21523:{if(!r.tty)return-59;return 0}case 21524:{if(!r.tty)return-59;return 0}default:return-28}}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function it(e,t){try{e=He.getStr(e);return He.doStat(We.lstat,e,t)}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function ot(e,t,n){try{t=He.getStr(t);t=He.calculateAt(e,t);t=Ce.normalize(t);if(t[t.length-1]==="/")t=t.substr(0,t.length-1);We.mkdir(t,n,0);return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function at(e,t,n,r){try{t=He.getStr(t);var s=r&256;var i=r&4096;r=r&~6400;t=He.calculateAt(e,t,i);return He.doStat(s?We.lstat:We.stat,t,n)}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function lt(e,t,n,r){He.varargs=r;try{t=He.getStr(t);t=He.calculateAt(e,t);var s=r?He.get():0;return We.open(t,n,s).fd}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function ct(e,t,n,r){try{t=He.getStr(t);t=He.calculateAt(e,t);if(r<=0)return-28;var s=We.readlink(t);var i=Math.min(r,M(s));var o=z[n+i];R(s,n,r+1);z[n+i]=o;return i}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function ut(e){try{e=He.getStr(e);We.rmdir(e);return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function _t(e,t){try{e=He.getStr(e);return He.doStat(We.stat,e,t)}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function ft(e,t,n){try{t=He.getStr(t);t=He.calculateAt(e,t);if(n===0){We.unlink(t)}else if(n===512){We.rmdir(t)}else{qe("Invalid flags passed to unlinkat")}return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function pt(e){return H[e>>2]+W[e+4>>2]*4294967296}function dt(e,t,n,r){try{t=He.getStr(t);t=He.calculateAt(e,t,true);if(!n){var s=Date.now();var i=s}else{var o=pt(n);var a=W[n+8>>2];s=o*1e3+a/(1e3*1e3);n+=16;o=pt(n);a=W[n+8>>2];i=o*1e3+a/(1e3*1e3)}We.utime(t,s,i);return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}var mt=true;function ht(){return mt}function gt(e){return e%4===0&&(e%100!==0||e%400===0)}var yt=[0,31,60,91,121,152,182,213,244,274,305,335];var qt=[0,31,59,90,120,151,181,212,243,273,304,334];function bt(e){var t=gt(e.getFullYear());var n=t?yt:qt;var r=n[e.getMonth()]+e.getDate()-1;return r}function vt(e,t){var n=new Date(pt(e)*1e3);W[t>>2]=n.getSeconds();W[t+4>>2]=n.getMinutes();W[t+8>>2]=n.getHours();W[t+12>>2]=n.getDate();W[t+16>>2]=n.getMonth();W[t+20>>2]=n.getFullYear()-1900;W[t+24>>2]=n.getDay();var r=bt(n)|0;W[t+28>>2]=r;W[t+36>>2]=-(n.getTimezoneOffset()*60);var s=new Date(n.getFullYear(),0,1);var i=new Date(n.getFullYear(),6,1).getTimezoneOffset();var o=s.getTimezoneOffset();var a=(i!=o&&n.getTimezoneOffset()==Math.min(o,i))|0;W[t+32>>2]=a}function wt(e,t,n,r,s,i,o){try{var a=He.getStreamFromFD(r);var l=We.mmap(a,e,s,t,n);var c=l.ptr;W[i>>2]=l.allocated;H[o>>2]=c;return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function Et(e,t,n,r,s,i){try{var o=He.getStreamFromFD(s);if(n&2){He.doMsync(e,o,t,r,i)}We.munmap(o)}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return-e.errno}}function St(e){var t=M(e)+1;var n=yo(t);if(n)N(e,z,n,t);return n}function xt(e,t,n){var r=(new Date).getFullYear();var s=new Date(r,0,1);var i=new Date(r,6,1);var o=s.getTimezoneOffset();var a=i.getTimezoneOffset();var l=Math.max(o,a);H[e>>2]=l*60;W[t>>2]=Number(o!=a);function c(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}var u=c(s);var _=c(i);var f=St(u);var p=St(_);if(a<o){H[n>>2]=f;H[n+4>>2]=p}else{H[n>>2]=p;H[n+4>>2]=f}}function At(){return Date.now()}var It;It=()=>performance.now();function kt(){return 2147483648}function Tt(e){var t=T.buffer;try{T.grow(e-t.byteLength+65535>>>16);J();return 1}catch(e){}}function Ft(e){var t=B.length;e=e>>>0;var n=kt();if(e>n){return false}let r=(e,t)=>e+(t-e%t)%t;for(var s=1;s<=4;s*=2){var i=t*(1+.2/s);i=Math.min(i,e+100663296);var o=Math.min(n,r(Math.max(e,i),65536));var a=Tt(o);if(a){return true}}return false}var Ot={};function Pt(){return u||"./this.program"}function Lt(){if(!Lt.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Pt()};for(var n in Ot){if(Ot[n]===undefined)delete t[n];else t[n]=Ot[n]}var r=[];for(var n in t){r.push(n+"="+t[n])}Lt.strings=r}return Lt.strings}function Ct(e,t,n){for(var r=0;r<e.length;++r){z[t++>>0]=e.charCodeAt(r)}if(!n)z[t>>0]=0}function Dt(e,t){var n=0;Lt().forEach((function(r,s){var i=t+n;H[e+s*4>>2]=i;Ct(r,i);n+=r.length+1}));return 0}function Nt(e,t){var n=Lt();H[e>>2]=n.length;var r=0;n.forEach((function(e){r+=e.length+1}));H[t>>2]=r;return 0}function Rt(e){try{var t=He.getStreamFromFD(e);We.close(t);return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return e.errno}}function Mt(e,t){try{var n=He.getStreamFromFD(e);var r=n.tty?2:We.isDir(n.mode)?3:We.isLink(n.mode)?7:4;z[t>>0]=r;return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return e.errno}}function jt(e,t,n,r){var s=0;for(var i=0;i<n;i++){var o=H[t>>2];var a=H[t+4>>2];t+=8;var l=We.read(e,z,o,a,r);if(l<0)return-1;s+=l;if(l<a)break;if(typeof r!=="undefined"){r+=l}}return s}function zt(e,t,n,r){try{var s=He.getStreamFromFD(e);var i=jt(s,t,n);H[r>>2]=i;return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return e.errno}}function Bt(e,t,n,r){try{t=tt(t);if(isNaN(t))return 61;var s=He.getStreamFromFD(e);We.llseek(s,t,n);ke=[s.position>>>0,(Ie=s.position,+Math.abs(Ie)>=1?Ie>0?(Math.min(+Math.floor(Ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)],W[r>>2]=ke[0],W[r+4>>2]=ke[1];if(s.getdents&&t===0&&n===0)s.getdents=null;return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return e.errno}}function Qt(e){try{var t=He.getStreamFromFD(e);if(t.stream_ops&&t.stream_ops.fsync){return t.stream_ops.fsync(t)}return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return e.errno}}function Ut(e,t,n,r){var s=0;for(var i=0;i<n;i++){var o=H[t>>2];var a=H[t+4>>2];t+=8;var l=We.write(e,z,o,a,r);if(l<0)return-1;s+=l;if(typeof r!=="undefined"){r+=l}}return s}function Wt(e,t,n,r){try{var s=He.getStreamFromFD(e);var i=Ut(s,t,n);H[r>>2]=i;return 0}catch(e){if(typeof We=="undefined"||!(e instanceof We.ErrnoError))throw e;return e.errno}}var Ht=function(e,t,n,r){if(!e){e=this}this.parent=e;this.mount=e.mount;this.mounted=null;this.id=We.nextInode++;this.name=t;this.mode=n;this.node_ops={};this.stream_ops={};this.rdev=r};var Vt=292|73;var Gt=146;Object.defineProperties(Ht.prototype,{read:{get:function(){return(this.mode&Vt)===Vt},set:function(e){e?this.mode|=Vt:this.mode&=~Vt}},write:{get:function(){return(this.mode&Gt)===Gt},set:function(e){e?this.mode|=Gt:this.mode&=~Gt}},isFolder:{get:function(){return We.isDir(this.mode)}},isDevice:{get:function(){return We.isChrdev(this.mode)}}});We.FSNode=Ht;We.staticInit();var $t=false;var Kt={__syscall_chmod:Ve,__syscall_faccessat:Ge,__syscall_fchmod:$e,__syscall_fchown32:Ke,__syscall_fcntl64:Xe,__syscall_fstat64:Ye,__syscall_ftruncate64:nt,__syscall_getcwd:rt,__syscall_ioctl:st,__syscall_lstat64:it,__syscall_mkdirat:ot,__syscall_newfstatat:at,__syscall_openat:lt,__syscall_readlinkat:ct,__syscall_rmdir:ut,__syscall_stat64:_t,__syscall_unlinkat:ft,__syscall_utimensat:dt,_emscripten_get_now_is_monotonic:ht,_localtime_js:vt,_mmap_js:wt,_munmap_js:Et,_tzset_js:xt,emscripten_date_now:At,emscripten_get_now:It,emscripten_resize_heap:Ft,environ_get:Dt,environ_sizes_get:Nt,fd_close:Rt,fd_fdstat_get:Mt,fd_read:zt,fd_seek:Bt,fd_sync:Qt,fd_write:Wt,memory:T};var Jt=Ae();var Xt=r["___wasm_call_ctors"]=function(){return(Xt=r["___wasm_call_ctors"]=r["asm"]["__wasm_call_ctors"]).apply(null,arguments)};var Yt=r["_sqlite3_status64"]=function(){return(Yt=r["_sqlite3_status64"]=r["asm"]["sqlite3_status64"]).apply(null,arguments)};var Zt=r["_sqlite3_status"]=function(){return(Zt=r["_sqlite3_status"]=r["asm"]["sqlite3_status"]).apply(null,arguments)};var en=r["_sqlite3_db_status"]=function(){return(en=r["_sqlite3_db_status"]=r["asm"]["sqlite3_db_status"]).apply(null,arguments)};var tn=r["_sqlite3_msize"]=function(){return(tn=r["_sqlite3_msize"]=r["asm"]["sqlite3_msize"]).apply(null,arguments)};var nn=r["_sqlite3_vfs_find"]=function(){return(nn=r["_sqlite3_vfs_find"]=r["asm"]["sqlite3_vfs_find"]).apply(null,arguments)};var rn=r["_sqlite3_initialize"]=function(){return(rn=r["_sqlite3_initialize"]=r["asm"]["sqlite3_initialize"]).apply(null,arguments)};var sn=r["_sqlite3_malloc"]=function(){return(sn=r["_sqlite3_malloc"]=r["asm"]["sqlite3_malloc"]).apply(null,arguments)};var on=r["_sqlite3_free"]=function(){return(on=r["_sqlite3_free"]=r["asm"]["sqlite3_free"]).apply(null,arguments)};var an=r["_sqlite3_vfs_register"]=function(){return(an=r["_sqlite3_vfs_register"]=r["asm"]["sqlite3_vfs_register"]).apply(null,arguments)};var ln=r["_sqlite3_vfs_unregister"]=function(){return(ln=r["_sqlite3_vfs_unregister"]=r["asm"]["sqlite3_vfs_unregister"]).apply(null,arguments)};var cn=r["_sqlite3_malloc64"]=function(){return(cn=r["_sqlite3_malloc64"]=r["asm"]["sqlite3_malloc64"]).apply(null,arguments)};var un=r["_sqlite3_realloc"]=function(){return(un=r["_sqlite3_realloc"]=r["asm"]["sqlite3_realloc"]).apply(null,arguments)};var _n=r["_sqlite3_realloc64"]=function(){return(_n=r["_sqlite3_realloc64"]=r["asm"]["sqlite3_realloc64"]).apply(null,arguments)};var fn=r["_sqlite3_value_text"]=function(){return(fn=r["_sqlite3_value_text"]=r["asm"]["sqlite3_value_text"]).apply(null,arguments)};var pn=r["_sqlite3_randomness"]=function(){return(pn=r["_sqlite3_randomness"]=r["asm"]["sqlite3_randomness"]).apply(null,arguments)};var dn=r["_sqlite3_stricmp"]=function(){return(dn=r["_sqlite3_stricmp"]=r["asm"]["sqlite3_stricmp"]).apply(null,arguments)};var mn=r["_sqlite3_strnicmp"]=function(){return(mn=r["_sqlite3_strnicmp"]=r["asm"]["sqlite3_strnicmp"]).apply(null,arguments)};var hn=r["_sqlite3_uri_parameter"]=function(){return(hn=r["_sqlite3_uri_parameter"]=r["asm"]["sqlite3_uri_parameter"]).apply(null,arguments)};var gn=r["___errno_location"]=function(){return(gn=r["___errno_location"]=r["asm"]["__errno_location"]).apply(null,arguments)};var yn=r["_sqlite3_uri_boolean"]=function(){return(yn=r["_sqlite3_uri_boolean"]=r["asm"]["sqlite3_uri_boolean"]).apply(null,arguments)};var qn=r["_sqlite3_serialize"]=function(){return(qn=r["_sqlite3_serialize"]=r["asm"]["sqlite3_serialize"]).apply(null,arguments)};var bn=r["_sqlite3_prepare_v2"]=function(){return(bn=r["_sqlite3_prepare_v2"]=r["asm"]["sqlite3_prepare_v2"]).apply(null,arguments)};var vn=r["_sqlite3_step"]=function(){return(vn=r["_sqlite3_step"]=r["asm"]["sqlite3_step"]).apply(null,arguments)};var wn=r["_sqlite3_column_int64"]=function(){return(wn=r["_sqlite3_column_int64"]=r["asm"]["sqlite3_column_int64"]).apply(null,arguments)};var En=r["_sqlite3_column_int"]=function(){return(En=r["_sqlite3_column_int"]=r["asm"]["sqlite3_column_int"]).apply(null,arguments)};var Sn=r["_sqlite3_finalize"]=function(){return(Sn=r["_sqlite3_finalize"]=r["asm"]["sqlite3_finalize"]).apply(null,arguments)};var xn=r["_sqlite3_file_control"]=function(){return(xn=r["_sqlite3_file_control"]=r["asm"]["sqlite3_file_control"]).apply(null,arguments)};var An=r["_sqlite3_reset"]=function(){return(An=r["_sqlite3_reset"]=r["asm"]["sqlite3_reset"]).apply(null,arguments)};var In=r["_sqlite3_deserialize"]=function(){return(In=r["_sqlite3_deserialize"]=r["asm"]["sqlite3_deserialize"]).apply(null,arguments)};var kn=r["_sqlite3_clear_bindings"]=function(){return(kn=r["_sqlite3_clear_bindings"]=r["asm"]["sqlite3_clear_bindings"]).apply(null,arguments)};var Tn=r["_sqlite3_value_blob"]=function(){return(Tn=r["_sqlite3_value_blob"]=r["asm"]["sqlite3_value_blob"]).apply(null,arguments)};var Fn=r["_sqlite3_value_bytes"]=function(){return(Fn=r["_sqlite3_value_bytes"]=r["asm"]["sqlite3_value_bytes"]).apply(null,arguments)};var On=r["_sqlite3_value_double"]=function(){return(On=r["_sqlite3_value_double"]=r["asm"]["sqlite3_value_double"]).apply(null,arguments)};var Pn=r["_sqlite3_value_int"]=function(){return(Pn=r["_sqlite3_value_int"]=r["asm"]["sqlite3_value_int"]).apply(null,arguments)};var Ln=r["_sqlite3_value_int64"]=function(){return(Ln=r["_sqlite3_value_int64"]=r["asm"]["sqlite3_value_int64"]).apply(null,arguments)};var Cn=r["_sqlite3_value_subtype"]=function(){return(Cn=r["_sqlite3_value_subtype"]=r["asm"]["sqlite3_value_subtype"]).apply(null,arguments)};var Dn=r["_sqlite3_value_pointer"]=function(){return(Dn=r["_sqlite3_value_pointer"]=r["asm"]["sqlite3_value_pointer"]).apply(null,arguments)};var Nn=r["_sqlite3_value_type"]=function(){return(Nn=r["_sqlite3_value_type"]=r["asm"]["sqlite3_value_type"]).apply(null,arguments)};var Rn=r["_sqlite3_value_nochange"]=function(){return(Rn=r["_sqlite3_value_nochange"]=r["asm"]["sqlite3_value_nochange"]).apply(null,arguments)};var Mn=r["_sqlite3_value_frombind"]=function(){return(Mn=r["_sqlite3_value_frombind"]=r["asm"]["sqlite3_value_frombind"]).apply(null,arguments)};var jn=r["_sqlite3_value_dup"]=function(){return(jn=r["_sqlite3_value_dup"]=r["asm"]["sqlite3_value_dup"]).apply(null,arguments)};var zn=r["_sqlite3_value_free"]=function(){return(zn=r["_sqlite3_value_free"]=r["asm"]["sqlite3_value_free"]).apply(null,arguments)};var Bn=r["_sqlite3_result_blob"]=function(){return(Bn=r["_sqlite3_result_blob"]=r["asm"]["sqlite3_result_blob"]).apply(null,arguments)};var Qn=r["_sqlite3_result_error_nomem"]=function(){return(Qn=r["_sqlite3_result_error_nomem"]=r["asm"]["sqlite3_result_error_nomem"]).apply(null,arguments)};var Un=r["_sqlite3_result_error_toobig"]=function(){return(Un=r["_sqlite3_result_error_toobig"]=r["asm"]["sqlite3_result_error_toobig"]).apply(null,arguments)};var Wn=r["_sqlite3_result_double"]=function(){return(Wn=r["_sqlite3_result_double"]=r["asm"]["sqlite3_result_double"]).apply(null,arguments)};var Hn=r["_sqlite3_result_error"]=function(){return(Hn=r["_sqlite3_result_error"]=r["asm"]["sqlite3_result_error"]).apply(null,arguments)};var Vn=r["_sqlite3_result_int"]=function(){return(Vn=r["_sqlite3_result_int"]=r["asm"]["sqlite3_result_int"]).apply(null,arguments)};var Gn=r["_sqlite3_result_int64"]=function(){return(Gn=r["_sqlite3_result_int64"]=r["asm"]["sqlite3_result_int64"]).apply(null,arguments)};var $n=r["_sqlite3_result_null"]=function(){return($n=r["_sqlite3_result_null"]=r["asm"]["sqlite3_result_null"]).apply(null,arguments)};var Kn=r["_sqlite3_result_pointer"]=function(){return(Kn=r["_sqlite3_result_pointer"]=r["asm"]["sqlite3_result_pointer"]).apply(null,arguments)};var Jn=r["_sqlite3_result_subtype"]=function(){return(Jn=r["_sqlite3_result_subtype"]=r["asm"]["sqlite3_result_subtype"]).apply(null,arguments)};var Xn=r["_sqlite3_result_text"]=function(){return(Xn=r["_sqlite3_result_text"]=r["asm"]["sqlite3_result_text"]).apply(null,arguments)};var Yn=r["_sqlite3_result_zeroblob"]=function(){return(Yn=r["_sqlite3_result_zeroblob"]=r["asm"]["sqlite3_result_zeroblob"]).apply(null,arguments)};var Zn=r["_sqlite3_result_zeroblob64"]=function(){return(Zn=r["_sqlite3_result_zeroblob64"]=r["asm"]["sqlite3_result_zeroblob64"]).apply(null,arguments)};var er=r["_sqlite3_result_error_code"]=function(){return(er=r["_sqlite3_result_error_code"]=r["asm"]["sqlite3_result_error_code"]).apply(null,arguments)};var tr=r["_sqlite3_user_data"]=function(){return(tr=r["_sqlite3_user_data"]=r["asm"]["sqlite3_user_data"]).apply(null,arguments)};var nr=r["_sqlite3_context_db_handle"]=function(){return(nr=r["_sqlite3_context_db_handle"]=r["asm"]["sqlite3_context_db_handle"]).apply(null,arguments)};var rr=r["_sqlite3_vtab_nochange"]=function(){return(rr=r["_sqlite3_vtab_nochange"]=r["asm"]["sqlite3_vtab_nochange"]).apply(null,arguments)};var sr=r["_sqlite3_vtab_in_first"]=function(){return(sr=r["_sqlite3_vtab_in_first"]=r["asm"]["sqlite3_vtab_in_first"]).apply(null,arguments)};var ir=r["_sqlite3_vtab_in_next"]=function(){return(ir=r["_sqlite3_vtab_in_next"]=r["asm"]["sqlite3_vtab_in_next"]).apply(null,arguments)};var or=r["_sqlite3_aggregate_context"]=function(){return(or=r["_sqlite3_aggregate_context"]=r["asm"]["sqlite3_aggregate_context"]).apply(null,arguments)};var ar=r["_sqlite3_get_auxdata"]=function(){return(ar=r["_sqlite3_get_auxdata"]=r["asm"]["sqlite3_get_auxdata"]).apply(null,arguments)};var lr=r["_sqlite3_set_auxdata"]=function(){return(lr=r["_sqlite3_set_auxdata"]=r["asm"]["sqlite3_set_auxdata"]).apply(null,arguments)};var cr=r["_sqlite3_column_count"]=function(){return(cr=r["_sqlite3_column_count"]=r["asm"]["sqlite3_column_count"]).apply(null,arguments)};var ur=r["_sqlite3_data_count"]=function(){return(ur=r["_sqlite3_data_count"]=r["asm"]["sqlite3_data_count"]).apply(null,arguments)};var _r=r["_sqlite3_column_blob"]=function(){return(_r=r["_sqlite3_column_blob"]=r["asm"]["sqlite3_column_blob"]).apply(null,arguments)};var fr=r["_sqlite3_column_bytes"]=function(){return(fr=r["_sqlite3_column_bytes"]=r["asm"]["sqlite3_column_bytes"]).apply(null,arguments)};var pr=r["_sqlite3_column_double"]=function(){return(pr=r["_sqlite3_column_double"]=r["asm"]["sqlite3_column_double"]).apply(null,arguments)};var dr=r["_sqlite3_column_text"]=function(){return(dr=r["_sqlite3_column_text"]=r["asm"]["sqlite3_column_text"]).apply(null,arguments)};var mr=r["_sqlite3_column_value"]=function(){return(mr=r["_sqlite3_column_value"]=r["asm"]["sqlite3_column_value"]).apply(null,arguments)};var hr=r["_sqlite3_column_type"]=function(){return(hr=r["_sqlite3_column_type"]=r["asm"]["sqlite3_column_type"]).apply(null,arguments)};var gr=r["_sqlite3_column_name"]=function(){return(gr=r["_sqlite3_column_name"]=r["asm"]["sqlite3_column_name"]).apply(null,arguments)};var yr=r["_sqlite3_bind_blob"]=function(){return(yr=r["_sqlite3_bind_blob"]=r["asm"]["sqlite3_bind_blob"]).apply(null,arguments)};var qr=r["_sqlite3_bind_double"]=function(){return(qr=r["_sqlite3_bind_double"]=r["asm"]["sqlite3_bind_double"]).apply(null,arguments)};var br=r["_sqlite3_bind_int"]=function(){return(br=r["_sqlite3_bind_int"]=r["asm"]["sqlite3_bind_int"]).apply(null,arguments)};var vr=r["_sqlite3_bind_int64"]=function(){return(vr=r["_sqlite3_bind_int64"]=r["asm"]["sqlite3_bind_int64"]).apply(null,arguments)};var wr=r["_sqlite3_bind_null"]=function(){return(wr=r["_sqlite3_bind_null"]=r["asm"]["sqlite3_bind_null"]).apply(null,arguments)};var Er=r["_sqlite3_bind_pointer"]=function(){return(Er=r["_sqlite3_bind_pointer"]=r["asm"]["sqlite3_bind_pointer"]).apply(null,arguments)};var Sr=r["_sqlite3_bind_text"]=function(){return(Sr=r["_sqlite3_bind_text"]=r["asm"]["sqlite3_bind_text"]).apply(null,arguments)};var xr=r["_sqlite3_bind_parameter_count"]=function(){return(xr=r["_sqlite3_bind_parameter_count"]=r["asm"]["sqlite3_bind_parameter_count"]).apply(null,arguments)};var Ar=r["_sqlite3_bind_parameter_index"]=function(){return(Ar=r["_sqlite3_bind_parameter_index"]=r["asm"]["sqlite3_bind_parameter_index"]).apply(null,arguments)};var Ir=r["_sqlite3_db_handle"]=function(){return(Ir=r["_sqlite3_db_handle"]=r["asm"]["sqlite3_db_handle"]).apply(null,arguments)};var kr=r["_sqlite3_stmt_readonly"]=function(){return(kr=r["_sqlite3_stmt_readonly"]=r["asm"]["sqlite3_stmt_readonly"]).apply(null,arguments)};var Tr=r["_sqlite3_stmt_isexplain"]=function(){return(Tr=r["_sqlite3_stmt_isexplain"]=r["asm"]["sqlite3_stmt_isexplain"]).apply(null,arguments)};var Fr=r["_sqlite3_stmt_status"]=function(){return(Fr=r["_sqlite3_stmt_status"]=r["asm"]["sqlite3_stmt_status"]).apply(null,arguments)};var Or=r["_sqlite3_sql"]=function(){return(Or=r["_sqlite3_sql"]=r["asm"]["sqlite3_sql"]).apply(null,arguments)};var Pr=r["_sqlite3_expanded_sql"]=function(){return(Pr=r["_sqlite3_expanded_sql"]=r["asm"]["sqlite3_expanded_sql"]).apply(null,arguments)};var Lr=r["_sqlite3_preupdate_old"]=function(){return(Lr=r["_sqlite3_preupdate_old"]=r["asm"]["sqlite3_preupdate_old"]).apply(null,arguments)};var Cr=r["_sqlite3_preupdate_count"]=function(){return(Cr=r["_sqlite3_preupdate_count"]=r["asm"]["sqlite3_preupdate_count"]).apply(null,arguments)};var Dr=r["_sqlite3_preupdate_depth"]=function(){return(Dr=r["_sqlite3_preupdate_depth"]=r["asm"]["sqlite3_preupdate_depth"]).apply(null,arguments)};var Nr=r["_sqlite3_preupdate_blobwrite"]=function(){return(Nr=r["_sqlite3_preupdate_blobwrite"]=r["asm"]["sqlite3_preupdate_blobwrite"]).apply(null,arguments)};var Rr=r["_sqlite3_preupdate_new"]=function(){return(Rr=r["_sqlite3_preupdate_new"]=r["asm"]["sqlite3_preupdate_new"]).apply(null,arguments)};var Mr=r["_sqlite3_value_numeric_type"]=function(){return(Mr=r["_sqlite3_value_numeric_type"]=r["asm"]["sqlite3_value_numeric_type"]).apply(null,arguments)};var jr=r["_sqlite3_errmsg"]=function(){return(jr=r["_sqlite3_errmsg"]=r["asm"]["sqlite3_errmsg"]).apply(null,arguments)};var zr=r["_sqlite3_set_authorizer"]=function(){return(zr=r["_sqlite3_set_authorizer"]=r["asm"]["sqlite3_set_authorizer"]).apply(null,arguments)};var Br=r["_sqlite3_strglob"]=function(){return(Br=r["_sqlite3_strglob"]=r["asm"]["sqlite3_strglob"]).apply(null,arguments)};var Qr=r["_sqlite3_strlike"]=function(){return(Qr=r["_sqlite3_strlike"]=r["asm"]["sqlite3_strlike"]).apply(null,arguments)};var Ur=r["_sqlite3_exec"]=function(){return(Ur=r["_sqlite3_exec"]=r["asm"]["sqlite3_exec"]).apply(null,arguments)};var Wr=r["_sqlite3_auto_extension"]=function(){return(Wr=r["_sqlite3_auto_extension"]=r["asm"]["sqlite3_auto_extension"]).apply(null,arguments)};var Hr=r["_sqlite3_cancel_auto_extension"]=function(){return(Hr=r["_sqlite3_cancel_auto_extension"]=r["asm"]["sqlite3_cancel_auto_extension"]).apply(null,arguments)};var Vr=r["_sqlite3_reset_auto_extension"]=function(){return(Vr=r["_sqlite3_reset_auto_extension"]=r["asm"]["sqlite3_reset_auto_extension"]).apply(null,arguments)};var Gr=r["_sqlite3_prepare_v3"]=function(){return(Gr=r["_sqlite3_prepare_v3"]=r["asm"]["sqlite3_prepare_v3"]).apply(null,arguments)};var $r=r["_sqlite3_create_module"]=function(){return($r=r["_sqlite3_create_module"]=r["asm"]["sqlite3_create_module"]).apply(null,arguments)};var Kr=r["_sqlite3_create_module_v2"]=function(){return(Kr=r["_sqlite3_create_module_v2"]=r["asm"]["sqlite3_create_module_v2"]).apply(null,arguments)};var Jr=r["_sqlite3_drop_modules"]=function(){return(Jr=r["_sqlite3_drop_modules"]=r["asm"]["sqlite3_drop_modules"]).apply(null,arguments)};var Xr=r["_sqlite3_declare_vtab"]=function(){return(Xr=r["_sqlite3_declare_vtab"]=r["asm"]["sqlite3_declare_vtab"]).apply(null,arguments)};var Yr=r["_sqlite3_vtab_on_conflict"]=function(){return(Yr=r["_sqlite3_vtab_on_conflict"]=r["asm"]["sqlite3_vtab_on_conflict"]).apply(null,arguments)};var Zr=r["_sqlite3_vtab_collation"]=function(){return(Zr=r["_sqlite3_vtab_collation"]=r["asm"]["sqlite3_vtab_collation"]).apply(null,arguments)};var es=r["_sqlite3_vtab_in"]=function(){return(es=r["_sqlite3_vtab_in"]=r["asm"]["sqlite3_vtab_in"]).apply(null,arguments)};var ts=r["_sqlite3_vtab_rhs_value"]=function(){return(ts=r["_sqlite3_vtab_rhs_value"]=r["asm"]["sqlite3_vtab_rhs_value"]).apply(null,arguments)};var ns=r["_sqlite3_vtab_distinct"]=function(){return(ns=r["_sqlite3_vtab_distinct"]=r["asm"]["sqlite3_vtab_distinct"]).apply(null,arguments)};var rs=r["_sqlite3_keyword_name"]=function(){return(rs=r["_sqlite3_keyword_name"]=r["asm"]["sqlite3_keyword_name"]).apply(null,arguments)};var ss=r["_sqlite3_keyword_count"]=function(){return(ss=r["_sqlite3_keyword_count"]=r["asm"]["sqlite3_keyword_count"]).apply(null,arguments)};var is=r["_sqlite3_keyword_check"]=function(){return(is=r["_sqlite3_keyword_check"]=r["asm"]["sqlite3_keyword_check"]).apply(null,arguments)};var os=r["_sqlite3_complete"]=function(){return(os=r["_sqlite3_complete"]=r["asm"]["sqlite3_complete"]).apply(null,arguments)};var as=r["_sqlite3_libversion"]=function(){return(as=r["_sqlite3_libversion"]=r["asm"]["sqlite3_libversion"]).apply(null,arguments)};var ls=r["_sqlite3_libversion_number"]=function(){return(ls=r["_sqlite3_libversion_number"]=r["asm"]["sqlite3_libversion_number"]).apply(null,arguments)};var cs=r["_sqlite3_shutdown"]=function(){return(cs=r["_sqlite3_shutdown"]=r["asm"]["sqlite3_shutdown"]).apply(null,arguments)};var us=r["_sqlite3_last_insert_rowid"]=function(){return(us=r["_sqlite3_last_insert_rowid"]=r["asm"]["sqlite3_last_insert_rowid"]).apply(null,arguments)};var _s=r["_sqlite3_set_last_insert_rowid"]=function(){return(_s=r["_sqlite3_set_last_insert_rowid"]=r["asm"]["sqlite3_set_last_insert_rowid"]).apply(null,arguments)};var fs=r["_sqlite3_changes64"]=function(){return(fs=r["_sqlite3_changes64"]=r["asm"]["sqlite3_changes64"]).apply(null,arguments)};var ps=r["_sqlite3_changes"]=function(){return(ps=r["_sqlite3_changes"]=r["asm"]["sqlite3_changes"]).apply(null,arguments)};var ds=r["_sqlite3_total_changes64"]=function(){return(ds=r["_sqlite3_total_changes64"]=r["asm"]["sqlite3_total_changes64"]).apply(null,arguments)};var ms=r["_sqlite3_total_changes"]=function(){return(ms=r["_sqlite3_total_changes"]=r["asm"]["sqlite3_total_changes"]).apply(null,arguments)};var hs=r["_sqlite3_txn_state"]=function(){return(hs=r["_sqlite3_txn_state"]=r["asm"]["sqlite3_txn_state"]).apply(null,arguments)};var gs=r["_sqlite3_close_v2"]=function(){return(gs=r["_sqlite3_close_v2"]=r["asm"]["sqlite3_close_v2"]).apply(null,arguments)};var ys=r["_sqlite3_busy_handler"]=function(){return(ys=r["_sqlite3_busy_handler"]=r["asm"]["sqlite3_busy_handler"]).apply(null,arguments)};var qs=r["_sqlite3_progress_handler"]=function(){return(qs=r["_sqlite3_progress_handler"]=r["asm"]["sqlite3_progress_handler"]).apply(null,arguments)};var bs=r["_sqlite3_busy_timeout"]=function(){return(bs=r["_sqlite3_busy_timeout"]=r["asm"]["sqlite3_busy_timeout"]).apply(null,arguments)};var vs=r["_sqlite3_create_function"]=function(){return(vs=r["_sqlite3_create_function"]=r["asm"]["sqlite3_create_function"]).apply(null,arguments)};var ws=r["_sqlite3_create_function_v2"]=function(){return(ws=r["_sqlite3_create_function_v2"]=r["asm"]["sqlite3_create_function_v2"]).apply(null,arguments)};var Es=r["_sqlite3_create_window_function"]=function(){return(Es=r["_sqlite3_create_window_function"]=r["asm"]["sqlite3_create_window_function"]).apply(null,arguments)};var Ss=r["_sqlite3_overload_function"]=function(){return(Ss=r["_sqlite3_overload_function"]=r["asm"]["sqlite3_overload_function"]).apply(null,arguments)};var xs=r["_sqlite3_trace_v2"]=function(){return(xs=r["_sqlite3_trace_v2"]=r["asm"]["sqlite3_trace_v2"]).apply(null,arguments)};var As=r["_sqlite3_commit_hook"]=function(){return(As=r["_sqlite3_commit_hook"]=r["asm"]["sqlite3_commit_hook"]).apply(null,arguments)};var Is=r["_sqlite3_update_hook"]=function(){return(Is=r["_sqlite3_update_hook"]=r["asm"]["sqlite3_update_hook"]).apply(null,arguments)};var ks=r["_sqlite3_rollback_hook"]=function(){return(ks=r["_sqlite3_rollback_hook"]=r["asm"]["sqlite3_rollback_hook"]).apply(null,arguments)};var Ts=r["_sqlite3_preupdate_hook"]=function(){return(Ts=r["_sqlite3_preupdate_hook"]=r["asm"]["sqlite3_preupdate_hook"]).apply(null,arguments)};var Fs=r["_sqlite3_error_offset"]=function(){return(Fs=r["_sqlite3_error_offset"]=r["asm"]["sqlite3_error_offset"]).apply(null,arguments)};var Os=r["_sqlite3_errcode"]=function(){return(Os=r["_sqlite3_errcode"]=r["asm"]["sqlite3_errcode"]).apply(null,arguments)};var Ps=r["_sqlite3_extended_errcode"]=function(){return(Ps=r["_sqlite3_extended_errcode"]=r["asm"]["sqlite3_extended_errcode"]).apply(null,arguments)};var Ls=r["_sqlite3_errstr"]=function(){return(Ls=r["_sqlite3_errstr"]=r["asm"]["sqlite3_errstr"]).apply(null,arguments)};var Cs=r["_sqlite3_limit"]=function(){return(Cs=r["_sqlite3_limit"]=r["asm"]["sqlite3_limit"]).apply(null,arguments)};var Ds=r["_sqlite3_open"]=function(){return(Ds=r["_sqlite3_open"]=r["asm"]["sqlite3_open"]).apply(null,arguments)};var Ns=r["_sqlite3_open_v2"]=function(){return(Ns=r["_sqlite3_open_v2"]=r["asm"]["sqlite3_open_v2"]).apply(null,arguments)};var Rs=r["_sqlite3_create_collation"]=function(){return(Rs=r["_sqlite3_create_collation"]=r["asm"]["sqlite3_create_collation"]).apply(null,arguments)};var Ms=r["_sqlite3_create_collation_v2"]=function(){return(Ms=r["_sqlite3_create_collation_v2"]=r["asm"]["sqlite3_create_collation_v2"]).apply(null,arguments)};var js=r["_sqlite3_collation_needed"]=function(){return(js=r["_sqlite3_collation_needed"]=r["asm"]["sqlite3_collation_needed"]).apply(null,arguments)};var zs=r["_sqlite3_table_column_metadata"]=function(){return(zs=r["_sqlite3_table_column_metadata"]=r["asm"]["sqlite3_table_column_metadata"]).apply(null,arguments)};var Bs=r["_sqlite3_extended_result_codes"]=function(){return(Bs=r["_sqlite3_extended_result_codes"]=r["asm"]["sqlite3_extended_result_codes"]).apply(null,arguments)};var Qs=r["_sqlite3_uri_key"]=function(){return(Qs=r["_sqlite3_uri_key"]=r["asm"]["sqlite3_uri_key"]).apply(null,arguments)};var Us=r["_sqlite3_uri_int64"]=function(){return(Us=r["_sqlite3_uri_int64"]=r["asm"]["sqlite3_uri_int64"]).apply(null,arguments)};var Ws=r["_sqlite3_db_name"]=function(){return(Ws=r["_sqlite3_db_name"]=r["asm"]["sqlite3_db_name"]).apply(null,arguments)};var Hs=r["_sqlite3_db_filename"]=function(){return(Hs=r["_sqlite3_db_filename"]=r["asm"]["sqlite3_db_filename"]).apply(null,arguments)};var Vs=r["_sqlite3_compileoption_used"]=function(){return(Vs=r["_sqlite3_compileoption_used"]=r["asm"]["sqlite3_compileoption_used"]).apply(null,arguments)};var Gs=r["_sqlite3_compileoption_get"]=function(){return(Gs=r["_sqlite3_compileoption_get"]=r["asm"]["sqlite3_compileoption_get"]).apply(null,arguments)};var $s=r["_sqlite3session_diff"]=function(){return($s=r["_sqlite3session_diff"]=r["asm"]["sqlite3session_diff"]).apply(null,arguments)};var Ks=r["_sqlite3session_attach"]=function(){return(Ks=r["_sqlite3session_attach"]=r["asm"]["sqlite3session_attach"]).apply(null,arguments)};var Js=r["_sqlite3session_create"]=function(){return(Js=r["_sqlite3session_create"]=r["asm"]["sqlite3session_create"]).apply(null,arguments)};var Xs=r["_sqlite3session_delete"]=function(){return(Xs=r["_sqlite3session_delete"]=r["asm"]["sqlite3session_delete"]).apply(null,arguments)};var Ys=r["_sqlite3session_table_filter"]=function(){return(Ys=r["_sqlite3session_table_filter"]=r["asm"]["sqlite3session_table_filter"]).apply(null,arguments)};var Zs=r["_sqlite3session_changeset"]=function(){return(Zs=r["_sqlite3session_changeset"]=r["asm"]["sqlite3session_changeset"]).apply(null,arguments)};var ei=r["_sqlite3session_changeset_strm"]=function(){return(ei=r["_sqlite3session_changeset_strm"]=r["asm"]["sqlite3session_changeset_strm"]).apply(null,arguments)};var ti=r["_sqlite3session_patchset_strm"]=function(){return(ti=r["_sqlite3session_patchset_strm"]=r["asm"]["sqlite3session_patchset_strm"]).apply(null,arguments)};var ni=r["_sqlite3session_patchset"]=function(){return(ni=r["_sqlite3session_patchset"]=r["asm"]["sqlite3session_patchset"]).apply(null,arguments)};var ri=r["_sqlite3session_enable"]=function(){return(ri=r["_sqlite3session_enable"]=r["asm"]["sqlite3session_enable"]).apply(null,arguments)};var si=r["_sqlite3session_indirect"]=function(){return(si=r["_sqlite3session_indirect"]=r["asm"]["sqlite3session_indirect"]).apply(null,arguments)};var ii=r["_sqlite3session_isempty"]=function(){return(ii=r["_sqlite3session_isempty"]=r["asm"]["sqlite3session_isempty"]).apply(null,arguments)};var oi=r["_sqlite3session_memory_used"]=function(){return(oi=r["_sqlite3session_memory_used"]=r["asm"]["sqlite3session_memory_used"]).apply(null,arguments)};var ai=r["_sqlite3session_object_config"]=function(){return(ai=r["_sqlite3session_object_config"]=r["asm"]["sqlite3session_object_config"]).apply(null,arguments)};var li=r["_sqlite3session_changeset_size"]=function(){return(li=r["_sqlite3session_changeset_size"]=r["asm"]["sqlite3session_changeset_size"]).apply(null,arguments)};var ci=r["_sqlite3changeset_start"]=function(){return(ci=r["_sqlite3changeset_start"]=r["asm"]["sqlite3changeset_start"]).apply(null,arguments)};var ui=r["_sqlite3changeset_start_v2"]=function(){return(ui=r["_sqlite3changeset_start_v2"]=r["asm"]["sqlite3changeset_start_v2"]).apply(null,arguments)};var _i=r["_sqlite3changeset_start_strm"]=function(){return(_i=r["_sqlite3changeset_start_strm"]=r["asm"]["sqlite3changeset_start_strm"]).apply(null,arguments)};var fi=r["_sqlite3changeset_start_v2_strm"]=function(){return(fi=r["_sqlite3changeset_start_v2_strm"]=r["asm"]["sqlite3changeset_start_v2_strm"]).apply(null,arguments)};var pi=r["_sqlite3changeset_next"]=function(){return(pi=r["_sqlite3changeset_next"]=r["asm"]["sqlite3changeset_next"]).apply(null,arguments)};var di=r["_sqlite3changeset_op"]=function(){return(di=r["_sqlite3changeset_op"]=r["asm"]["sqlite3changeset_op"]).apply(null,arguments)};var mi=r["_sqlite3changeset_pk"]=function(){return(mi=r["_sqlite3changeset_pk"]=r["asm"]["sqlite3changeset_pk"]).apply(null,arguments)};var hi=r["_sqlite3changeset_old"]=function(){return(hi=r["_sqlite3changeset_old"]=r["asm"]["sqlite3changeset_old"]).apply(null,arguments)};var gi=r["_sqlite3changeset_new"]=function(){return(gi=r["_sqlite3changeset_new"]=r["asm"]["sqlite3changeset_new"]).apply(null,arguments)};var yi=r["_sqlite3changeset_conflict"]=function(){return(yi=r["_sqlite3changeset_conflict"]=r["asm"]["sqlite3changeset_conflict"]).apply(null,arguments)};var qi=r["_sqlite3changeset_fk_conflicts"]=function(){return(qi=r["_sqlite3changeset_fk_conflicts"]=r["asm"]["sqlite3changeset_fk_conflicts"]).apply(null,arguments)};var bi=r["_sqlite3changeset_finalize"]=function(){return(bi=r["_sqlite3changeset_finalize"]=r["asm"]["sqlite3changeset_finalize"]).apply(null,arguments)};var vi=r["_sqlite3changeset_invert"]=function(){return(vi=r["_sqlite3changeset_invert"]=r["asm"]["sqlite3changeset_invert"]).apply(null,arguments)};var wi=r["_sqlite3changeset_invert_strm"]=function(){return(wi=r["_sqlite3changeset_invert_strm"]=r["asm"]["sqlite3changeset_invert_strm"]).apply(null,arguments)};var Ei=r["_sqlite3changeset_apply_v2"]=function(){return(Ei=r["_sqlite3changeset_apply_v2"]=r["asm"]["sqlite3changeset_apply_v2"]).apply(null,arguments)};var Si=r["_sqlite3changeset_apply"]=function(){return(Si=r["_sqlite3changeset_apply"]=r["asm"]["sqlite3changeset_apply"]).apply(null,arguments)};var xi=r["_sqlite3changeset_apply_v2_strm"]=function(){return(xi=r["_sqlite3changeset_apply_v2_strm"]=r["asm"]["sqlite3changeset_apply_v2_strm"]).apply(null,arguments)};var Ai=r["_sqlite3changeset_apply_strm"]=function(){return(Ai=r["_sqlite3changeset_apply_strm"]=r["asm"]["sqlite3changeset_apply_strm"]).apply(null,arguments)};var Ii=r["_sqlite3changegroup_new"]=function(){return(Ii=r["_sqlite3changegroup_new"]=r["asm"]["sqlite3changegroup_new"]).apply(null,arguments)};var ki=r["_sqlite3changegroup_add"]=function(){return(ki=r["_sqlite3changegroup_add"]=r["asm"]["sqlite3changegroup_add"]).apply(null,arguments)};var Ti=r["_sqlite3changegroup_output"]=function(){return(Ti=r["_sqlite3changegroup_output"]=r["asm"]["sqlite3changegroup_output"]).apply(null,arguments)};var Fi=r["_sqlite3changegroup_add_strm"]=function(){return(Fi=r["_sqlite3changegroup_add_strm"]=r["asm"]["sqlite3changegroup_add_strm"]).apply(null,arguments)};var Oi=r["_sqlite3changegroup_output_strm"]=function(){return(Oi=r["_sqlite3changegroup_output_strm"]=r["asm"]["sqlite3changegroup_output_strm"]).apply(null,arguments)};var Pi=r["_sqlite3changegroup_delete"]=function(){return(Pi=r["_sqlite3changegroup_delete"]=r["asm"]["sqlite3changegroup_delete"]).apply(null,arguments)};var Li=r["_sqlite3changeset_concat"]=function(){return(Li=r["_sqlite3changeset_concat"]=r["asm"]["sqlite3changeset_concat"]).apply(null,arguments)};var Ci=r["_sqlite3changeset_concat_strm"]=function(){return(Ci=r["_sqlite3changeset_concat_strm"]=r["asm"]["sqlite3changeset_concat_strm"]).apply(null,arguments)};var Di=r["_sqlite3session_config"]=function(){return(Di=r["_sqlite3session_config"]=r["asm"]["sqlite3session_config"]).apply(null,arguments)};var Ni=r["_sqlite3_sourceid"]=function(){return(Ni=r["_sqlite3_sourceid"]=r["asm"]["sqlite3_sourceid"]).apply(null,arguments)};var Ri=r["_sqlite3_wasm_pstack_ptr"]=function(){return(Ri=r["_sqlite3_wasm_pstack_ptr"]=r["asm"]["sqlite3_wasm_pstack_ptr"]).apply(null,arguments)};var Mi=r["_sqlite3_wasm_pstack_restore"]=function(){return(Mi=r["_sqlite3_wasm_pstack_restore"]=r["asm"]["sqlite3_wasm_pstack_restore"]).apply(null,arguments)};var ji=r["_sqlite3_wasm_pstack_alloc"]=function(){return(ji=r["_sqlite3_wasm_pstack_alloc"]=r["asm"]["sqlite3_wasm_pstack_alloc"]).apply(null,arguments)};var zi=r["_sqlite3_wasm_pstack_remaining"]=function(){return(zi=r["_sqlite3_wasm_pstack_remaining"]=r["asm"]["sqlite3_wasm_pstack_remaining"]).apply(null,arguments)};var Bi=r["_sqlite3_wasm_pstack_quota"]=function(){return(Bi=r["_sqlite3_wasm_pstack_quota"]=r["asm"]["sqlite3_wasm_pstack_quota"]).apply(null,arguments)};var Qi=r["_sqlite3_wasm_db_error"]=function(){return(Qi=r["_sqlite3_wasm_db_error"]=r["asm"]["sqlite3_wasm_db_error"]).apply(null,arguments)};var Ui=r["_sqlite3_wasm_test_struct"]=function(){return(Ui=r["_sqlite3_wasm_test_struct"]=r["asm"]["sqlite3_wasm_test_struct"]).apply(null,arguments)};var Wi=r["_sqlite3_wasm_enum_json"]=function(){return(Wi=r["_sqlite3_wasm_enum_json"]=r["asm"]["sqlite3_wasm_enum_json"]).apply(null,arguments)};var Hi=r["_sqlite3_wasm_vfs_unlink"]=function(){return(Hi=r["_sqlite3_wasm_vfs_unlink"]=r["asm"]["sqlite3_wasm_vfs_unlink"]).apply(null,arguments)};var Vi=r["_sqlite3_wasm_db_vfs"]=function(){return(Vi=r["_sqlite3_wasm_db_vfs"]=r["asm"]["sqlite3_wasm_db_vfs"]).apply(null,arguments)};var Gi=r["_sqlite3_wasm_db_reset"]=function(){return(Gi=r["_sqlite3_wasm_db_reset"]=r["asm"]["sqlite3_wasm_db_reset"]).apply(null,arguments)};var $i=r["_sqlite3_wasm_db_export_chunked"]=function(){return($i=r["_sqlite3_wasm_db_export_chunked"]=r["asm"]["sqlite3_wasm_db_export_chunked"]).apply(null,arguments)};var Ki=r["_sqlite3_wasm_db_serialize"]=function(){return(Ki=r["_sqlite3_wasm_db_serialize"]=r["asm"]["sqlite3_wasm_db_serialize"]).apply(null,arguments)};var Ji=r["_sqlite3_wasm_vfs_create_file"]=function(){return(Ji=r["_sqlite3_wasm_vfs_create_file"]=r["asm"]["sqlite3_wasm_vfs_create_file"]).apply(null,arguments)};var Xi=r["_sqlite3_wasm_posix_create_file"]=function(){return(Xi=r["_sqlite3_wasm_posix_create_file"]=r["asm"]["sqlite3_wasm_posix_create_file"]).apply(null,arguments)};var Yi=r["_sqlite3_wasm_kvvfsMakeKeyOnPstack"]=function(){return(Yi=r["_sqlite3_wasm_kvvfsMakeKeyOnPstack"]=r["asm"]["sqlite3_wasm_kvvfsMakeKeyOnPstack"]).apply(null,arguments)};var Zi=r["_sqlite3_wasm_kvvfs_methods"]=function(){return(Zi=r["_sqlite3_wasm_kvvfs_methods"]=r["asm"]["sqlite3_wasm_kvvfs_methods"]).apply(null,arguments)};var eo=r["_sqlite3_wasm_vtab_config"]=function(){return(eo=r["_sqlite3_wasm_vtab_config"]=r["asm"]["sqlite3_wasm_vtab_config"]).apply(null,arguments)};var to=r["_sqlite3_wasm_db_config_ip"]=function(){return(to=r["_sqlite3_wasm_db_config_ip"]=r["asm"]["sqlite3_wasm_db_config_ip"]).apply(null,arguments)};var no=r["_sqlite3_wasm_db_config_pii"]=function(){return(no=r["_sqlite3_wasm_db_config_pii"]=r["asm"]["sqlite3_wasm_db_config_pii"]).apply(null,arguments)};var ro=r["_sqlite3_wasm_db_config_s"]=function(){return(ro=r["_sqlite3_wasm_db_config_s"]=r["asm"]["sqlite3_wasm_db_config_s"]).apply(null,arguments)};var so=r["_sqlite3_wasm_config_i"]=function(){return(so=r["_sqlite3_wasm_config_i"]=r["asm"]["sqlite3_wasm_config_i"]).apply(null,arguments)};var io=r["_sqlite3_wasm_config_ii"]=function(){return(io=r["_sqlite3_wasm_config_ii"]=r["asm"]["sqlite3_wasm_config_ii"]).apply(null,arguments)};var oo=r["_sqlite3_wasm_config_j"]=function(){return(oo=r["_sqlite3_wasm_config_j"]=r["asm"]["sqlite3_wasm_config_j"]).apply(null,arguments)};var ao=r["_sqlite3_wasm_init_wasmfs"]=function(){return(ao=r["_sqlite3_wasm_init_wasmfs"]=r["asm"]["sqlite3_wasm_init_wasmfs"]).apply(null,arguments)};var lo=r["_sqlite3_wasm_test_intptr"]=function(){return(lo=r["_sqlite3_wasm_test_intptr"]=r["asm"]["sqlite3_wasm_test_intptr"]).apply(null,arguments)};var co=r["_sqlite3_wasm_test_voidptr"]=function(){return(co=r["_sqlite3_wasm_test_voidptr"]=r["asm"]["sqlite3_wasm_test_voidptr"]).apply(null,arguments)};var uo=r["_sqlite3_wasm_test_int64_max"]=function(){return(uo=r["_sqlite3_wasm_test_int64_max"]=r["asm"]["sqlite3_wasm_test_int64_max"]).apply(null,arguments)};var _o=r["_sqlite3_wasm_test_int64_min"]=function(){return(_o=r["_sqlite3_wasm_test_int64_min"]=r["asm"]["sqlite3_wasm_test_int64_min"]).apply(null,arguments)};var fo=r["_sqlite3_wasm_test_int64_times2"]=function(){return(fo=r["_sqlite3_wasm_test_int64_times2"]=r["asm"]["sqlite3_wasm_test_int64_times2"]).apply(null,arguments)};var po=r["_sqlite3_wasm_test_int64_minmax"]=function(){return(po=r["_sqlite3_wasm_test_int64_minmax"]=r["asm"]["sqlite3_wasm_test_int64_minmax"]).apply(null,arguments)};var mo=r["_sqlite3_wasm_test_int64ptr"]=function(){return(mo=r["_sqlite3_wasm_test_int64ptr"]=r["asm"]["sqlite3_wasm_test_int64ptr"]).apply(null,arguments)};var ho=r["_sqlite3_wasm_test_stack_overflow"]=function(){return(ho=r["_sqlite3_wasm_test_stack_overflow"]=r["asm"]["sqlite3_wasm_test_stack_overflow"]).apply(null,arguments)};var go=r["_sqlite3_wasm_test_str_hello"]=function(){return(go=r["_sqlite3_wasm_test_str_hello"]=r["asm"]["sqlite3_wasm_test_str_hello"]).apply(null,arguments)};var yo=r["_malloc"]=function(){return(yo=r["_malloc"]=r["asm"]["malloc"]).apply(null,arguments)};var qo=r["_free"]=function(){return(qo=r["_free"]=r["asm"]["free"]).apply(null,arguments)};var bo=r["_realloc"]=function(){return(bo=r["_realloc"]=r["asm"]["realloc"]).apply(null,arguments)};var vo=r["_emscripten_builtin_memalign"]=function(){return(vo=r["_emscripten_builtin_memalign"]=r["asm"]["emscripten_builtin_memalign"]).apply(null,arguments)};var wo=r["stackSave"]=function(){return(wo=r["stackSave"]=r["asm"]["stackSave"]).apply(null,arguments)};var Eo=r["stackRestore"]=function(){return(Eo=r["stackRestore"]=r["asm"]["stackRestore"]).apply(null,arguments)};var So=r["stackAlloc"]=function(){return(So=r["stackAlloc"]=r["asm"]["stackAlloc"]).apply(null,arguments)};r["wasmMemory"]=T;var xo;me=function e(){if(!xo)Ao();if(!xo)me=e};function Ao(e){e=e||c;if(pe>0){return}oe();if(pe>0){return}function t(){if(xo)return;xo=true;r["calledRun"]=true;if(F)return;ae();s(r);if(r["onRuntimeInitialized"])r["onRuntimeInitialized"]();le()}if(r["setStatus"]){r["setStatus"]("Running...");setTimeout((function(){setTimeout((function(){r["setStatus"]("")}),1);t()}),1)}else{t()}}if(r["preInit"]){if(typeof r["preInit"]=="function")r["preInit"]=[r["preInit"]];while(r["preInit"].length>0){r["preInit"].pop()()}}Ao();if(!r.postRun)r.postRun=[];r.postRun.push((function(e){"use strict";"use strict";globalThis.sqlite3ApiBootstrap=function t(n=globalThis.sqlite3ApiConfig||t.defaultConfig){if(t.sqlite3){console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first.");return t.sqlite3}const r=Object.assign(Object.create(null),{exports:undefined,memory:undefined,bigIntEnabled:(()=>{if("undefined"!==typeof e){return!!e.HEAPU64}return!!globalThis.BigInt64Array})(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:false},n||{});Object.assign(r,{allocExportName:r.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:r.useStdAlloc?"free":"sqlite3_free",reallocExportName:r.useStdAlloc?"realloc":"sqlite3_realloc"},r);["exports","memory","wasmfsOpfsDir"].forEach((e=>{if("function"===typeof r[e]){r[e]=r[e]()}}));const s=Object.create(null);const i=Object.create(null);const o=e=>s.sqlite3_js_rc_str&&s.sqlite3_js_rc_str(e)||"Unknown result code #"+e;const a=e=>"number"===typeof e&&e===(e|0);class l extends Error{constructor(...e){let t;if(e.length){if(a(e[0])){t=e[0];if(1===e.length){super(o(e[0]))}else{const n=o(t);if("object"===typeof e[1]){super(n,e[1])}else{e[0]=n+":";super(e.join(" "))}}}else{if(2===e.length&&"object"===typeof e[1]){super(...e)}else{super(e.join(" "))}}}this.resultCode=t||s.SQLITE_ERROR;this.name="SQLite3Error"}}l.toss=(...e)=>{throw new l(...e)};const c=l.toss;if(r.wasmfsOpfsDir&&!/^\/[^/]+$/.test(r.wasmfsOpfsDir)){c("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.")}const u=e=>"bigint"!==typeof e&&!!(e===(e|0)&&e<=2147483647&&e>=-2147483648);const _=function e(t){if(!e._max){e._max=BigInt("0x7fffffffffffffff");e._min=~e._max}return t>=e._min&&t<=e._max};const f=e=>e>=-0x7fffffffn-1n&&e<=0x7fffffffn;const p=function e(t){if(!e._min){e._min=Number.MIN_SAFE_INTEGER;e._max=Number.MAX_SAFE_INTEGER}return t>=e._min&&t<=e._max};const d=e=>e&&e.constructor&&u(e.constructor.BYTES_PER_ELEMENT)?e:false;const m="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer;const h=e=>e.buffer instanceof m;const g=(e,t,n)=>h(e)?e.slice(t,n):e.subarray(t,n);const y=e=>e&&(e instanceof Uint8Array||e instanceof Int8Array||e instanceof ArrayBuffer);const q=e=>e&&(e instanceof Uint8Array||e instanceof Int8Array||e instanceof ArrayBuffer);const b=e=>y(e)||c("Value is not of a supported TypedArray type.");const v=new TextDecoder("utf-8");const w=function(e,t,n){return v.decode(g(e,t,n))};const E=function(e){if(q(e)){return w(e instanceof ArrayBuffer?new Uint8Array(e):e)}else if(Array.isArray(e))return e.join("");else if(i.isPtr(e))e=i.cstrToJs(e);return e};class S extends Error{constructor(...e){if(2===e.length&&"object"===typeof e[1]){super(...e)}else if(e.length){super(e.join(" "))}else{super("Allocation failed.")}this.resultCode=s.SQLITE_NOMEM;this.name="WasmAllocError"}}S.toss=(...e)=>{throw new S(...e)};Object.assign(s,{sqlite3_bind_blob:undefined,sqlite3_bind_text:undefined,sqlite3_create_function_v2:(e,t,n,r,s,i,o,a,l)=>{},sqlite3_create_function:(e,t,n,r,s,i,o,a)=>{},sqlite3_create_window_function:(e,t,n,r,s,i,o,a,l,c)=>{},sqlite3_prepare_v3:(e,t,n,r,s,i)=>{},sqlite3_prepare_v2:(e,t,n,r,s)=>{},sqlite3_exec:(e,t,n,r,s)=>{},sqlite3_randomness:(e,t)=>{}});const x={affirmBindableTypedArray:b,flexibleString:E,bigIntFits32:f,bigIntFits64:_,bigIntFitsDouble:p,isBindableTypedArray:y,isInt32:u,isSQLableTypedArray:q,isTypedArray:d,typedArrayToString:w,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:h,toss:function(...e){throw new Error(e.join(" "))},toss3:c,typedArrayPart:g};Object.assign(i,{ptrSizeof:r.wasmPtrSizeof||4,ptrIR:r.wasmPtrIR||"i32",bigIntEnabled:!!r.bigIntEnabled,exports:r.exports||c("Missing API config.exports (WASM module exports)."),memory:r.memory||r.exports["memory"]||c("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:undefined,realloc:undefined,dealloc:undefined});i.allocFromTypedArray=function(e){if(e instanceof ArrayBuffer){e=new Uint8Array(e)}b(e);const t=i.alloc(e.byteLength||1);i.heapForSize(e.constructor).set(e.byteLength?e:[0],t);return t};{const e=r.allocExportName,t=r.deallocExportName,n=r.reallocExportName;for(const r of[e,t,n]){const e=i.exports[r];if(!(e instanceof Function))c("Missing required exports[",r,"] function.")}i.alloc=function e(t){return e.impl(t)||S.toss("Failed to allocate",t," bytes.")};i.alloc.impl=i.exports[e];i.realloc=function e(t,n){const r=e.impl(t,n);return n?r||S.toss("Failed to reallocate",n," bytes."):0};i.realloc.impl=i.exports[n];i.dealloc=i.exports[t]}i.compileOptionUsed=function e(t){if(!arguments.length){if(e._result)return e._result;else if(!e._opt){e._rx=/^([^=]+)=(.+)/;e._rxInt=/^-?\d+$/;e._opt=function(t,n){const r=e._rx.exec(t);n[0]=r?r[1]:t;n[1]=r?e._rxInt.test(r[2])?+r[2]:r[2]:true}}const t={},n=[0,0];let r=0,i;while(i=s.sqlite3_compileoption_get(r++)){e._opt(i,n);t[n[0]]=n[1]}return e._result=t}else if(Array.isArray(t)){const e={};t.forEach((t=>{e[t]=s.sqlite3_compileoption_used(t)}));return e}else if("object"===typeof t){Object.keys(t).forEach((e=>{t[e]=s.sqlite3_compileoption_used(e)}));return t}return"string"===typeof t?!!s.sqlite3_compileoption_used(t):false};i.pstack=Object.assign(Object.create(null),{restore:i.exports.sqlite3_wasm_pstack_restore,alloc:function(e){if("string"===typeof e&&!(e=i.sizeofIR(e))){S.toss("Invalid value for pstack.alloc(",arguments[0],")")}return i.exports.sqlite3_wasm_pstack_alloc(e)||S.toss("Could not allocate",e,"bytes from the pstack.")},allocChunks:function(e,t){if("string"===typeof t&&!(t=i.sizeofIR(t))){S.toss("Invalid size value for allocChunks(",arguments[1],")")}const n=i.pstack.alloc(e*t);const r=[];let s=0,o=0;for(;s<e;++s,o+=t)r.push(n+o);return r},allocPtr:(e=1,t=true)=>1===e?i.pstack.alloc(t?8:i.ptrSizeof):i.pstack.allocChunks(e,t?8:i.ptrSizeof)});Object.defineProperties(i.pstack,{pointer:{configurable:false,iterable:true,writeable:false,get:i.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:false,iterable:true,writeable:false,get:i.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:false,iterable:true,writeable:false,get:i.exports.sqlite3_wasm_pstack_remaining}});s.sqlite3_randomness=(...e)=>{if(1===e.length&&x.isTypedArray(e[0])&&1===e[0].BYTES_PER_ELEMENT){const t=e[0];if(0===t.byteLength){i.exports.sqlite3_randomness(0,0);return t}const n=i.pstack.pointer;try{let e=t.byteLength,n=0;const r=i.exports.sqlite3_randomness;const s=i.heap8u();const o=e<512?e:512;const a=i.pstack.alloc(o);do{const i=e>o?o:e;r(i,a);t.set(g(s,a,a+i),n);e-=i;n+=i}while(e>0)}catch(e){console.error("Highly unexpected (and ignored!) "+"exception in sqlite3_randomness():",e)}finally{i.pstack.restore(n)}return t}i.exports.sqlite3_randomness(...e)};let A=undefined;s.sqlite3_wasmfs_opfs_dir=function(){if(undefined!==A)return A;const e=r.wasmfsOpfsDir;if(!e||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle){return A=""}try{if(e&&0===i.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],e)){return A=e}else{return A=""}}catch(e){return A=""}};s.sqlite3_wasmfs_filename_is_persistent=function(e){const t=s.sqlite3_wasmfs_opfs_dir();return t&&e?e.startsWith(t+"/"):false};s.sqlite3_js_db_uses_vfs=function(e,t,n=0){try{const r=s.sqlite3_vfs_find(t);if(!r)return false;else if(!e){return r===s.sqlite3_vfs_find(0)?r:false}else{return r===s.sqlite3_js_db_vfs(e,n)?r:false}}catch(e){return false}};s.sqlite3_js_vfs_list=function(){const e=[];let t=s.sqlite3_vfs_find(0);while(t){const n=new s.sqlite3_vfs(t);e.push(i.cstrToJs(n.$zName));t=n.$pNext;n.dispose()}return e};s.sqlite3_js_db_export=function(e,t=0){e=i.xWrap.testConvertArg("sqlite3*",e);if(!e)c("Invalid sqlite3* argument.");if(!i.bigIntEnabled)c("BigInt64 support is not enabled.");const n=i.scopedAllocPush();let r;try{const n=i.scopedAlloc(8+i.ptrSizeof);const s=n+8;const o=t?i.isPtr(t)?t:i.scopedAllocCString(""+t):0;let a=i.exports.sqlite3_wasm_db_serialize(e,o,s,n,0);if(a){c("Database serialization failed with code",k.capi.sqlite3_js_rc_str(a))}r=i.peekPtr(s);const l=i.peek(n,"i64");a=l?i.heap8u().slice(r,r+Number(l)):new Uint8Array;return a}finally{if(r)i.exports.sqlite3_free(r);i.scopedAllocPop(n)}};s.sqlite3_js_db_vfs=(e,t=0)=>i.sqlite3_wasm_db_vfs(e,t);s.sqlite3_js_aggregate_context=(e,t)=>s.sqlite3_aggregate_context(e,t)||(t?S.toss("Cannot allocate",t,"bytes for sqlite3_aggregate_context()"):0);s.sqlite3_js_posix_create_file=function(e,t,n){let r;if(t&&i.isPtr(t)){r=t}else if(t instanceof ArrayBuffer||t instanceof Uint8Array){r=i.allocFromTypedArray(t);if(arguments.length<3||!x.isInt32(n)||n<0){n=t.byteLength}}else{l.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().")}try{if(!x.isInt32(n)||n<0){l.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().")}const t=i.sqlite3_wasm_posix_create_file(e,r,n);if(t)l.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(t))}finally{i.dealloc(r)}};s.sqlite3_js_vfs_create_file=function(e,t,n,o){r.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let a;if(n){if(i.isPtr(n)){a=n}else if(n instanceof ArrayBuffer){n=new Uint8Array(n)}if(n instanceof Uint8Array){a=i.allocFromTypedArray(n);if(arguments.length<4||!x.isInt32(o)||o<0){o=n.byteLength}}else{l.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")}}else{a=0}if(!x.isInt32(o)||o<0){i.dealloc(a);l.toss("Invalid 4th argument for sqlite3_js_vfs_create_file().")}try{const n=i.sqlite3_wasm_vfs_create_file(e,t,a,o);if(n)l.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(n))}finally{i.dealloc(a)}};if(x.isUIThread()){const e=function(e){const t=Object.create(null);t.prefix="kvvfs-"+e;t.stores=[];if("session"===e||""===e)t.stores.push(globalThis.sessionStorage);if("local"===e||""===e)t.stores.push(globalThis.localStorage);return t};s.sqlite3_js_kvvfs_clear=function(t=""){let n=0;const r=e(t);r.stores.forEach((e=>{const t=[];let s;for(s=0;s<e.length;++s){const n=e.key(s);if(n.startsWith(r.prefix))t.push(n)}t.forEach((t=>e.removeItem(t)));n+=t.length}));return n};s.sqlite3_js_kvvfs_size=function(t=""){let n=0;const r=e(t);r.stores.forEach((e=>{let t;for(t=0;t<e.length;++t){const s=e.key(t);if(s.startsWith(r.prefix)){n+=s.length;n+=e.getItem(s).length}}}));return n*2}}s.sqlite3_db_config=function(e,t,...n){if(!this.s){this.s=i.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]);this.pii=i.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]);this.ip=i.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])}switch(t){case s.SQLITE_DBCONFIG_ENABLE_FKEY:case s.SQLITE_DBCONFIG_ENABLE_TRIGGER:case s.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case s.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case s.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case s.SQLITE_DBCONFIG_ENABLE_QPSG:case s.SQLITE_DBCONFIG_TRIGGER_EQP:case s.SQLITE_DBCONFIG_RESET_DATABASE:case s.SQLITE_DBCONFIG_DEFENSIVE:case s.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case s.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case s.SQLITE_DBCONFIG_DQS_DML:case s.SQLITE_DBCONFIG_DQS_DDL:case s.SQLITE_DBCONFIG_ENABLE_VIEW:case s.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case s.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case s.SQLITE_DBCONFIG_STMT_SCANSTATUS:case s.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(e,t,n[0],n[1]||0);case s.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(e,t,n[0],n[1],n[2]);case s.SQLITE_DBCONFIG_MAINDBNAME:return this.s(e,t,n[0]);default:return s.SQLITE_MISUSE}}.bind(Object.create(null));s.sqlite3_value_to_js=function(e,t=true){let n;const r=s.sqlite3_value_type(e);switch(r){case s.SQLITE_INTEGER:if(i.bigIntEnabled){n=s.sqlite3_value_int64(e);if(x.bigIntFitsDouble(n))n=Number(n)}else n=s.sqlite3_value_double(e);break;case s.SQLITE_FLOAT:n=s.sqlite3_value_double(e);break;case s.SQLITE_TEXT:n=s.sqlite3_value_text(e);break;case s.SQLITE_BLOB:{const t=s.sqlite3_value_bytes(e);const r=s.sqlite3_value_blob(e);if(t&&!r)k.WasmAllocError.toss("Cannot allocate memory for blob argument of",t,"byte(s)");n=t?i.heap8u().slice(r,r+Number(t)):null;break}case s.SQLITE_NULL:n=null;break;default:if(t){c(s.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",r)}n=undefined}return n};s.sqlite3_values_to_js=function(e,t,n=true){let r;const o=[];for(r=0;r<e;++r){o.push(s.sqlite3_value_to_js(i.peekPtr(t+i.ptrSizeof*r),n))}return o};s.sqlite3_result_error_js=function(e,t){if(t instanceof S){s.sqlite3_result_error_nomem(e)}else{s.sqlite3_result_error(e,""+t,-1)}};s.sqlite3_result_js=function(e,t){if(t instanceof Error){s.sqlite3_result_error_js(e,t);return}try{switch(typeof t){case"undefined":break;case"boolean":s.sqlite3_result_int(e,t?1:0);break;case"bigint":if(x.bigIntFits32(t)){s.sqlite3_result_int(e,Number(t))}else if(x.bigIntFitsDouble(t)){s.sqlite3_result_double(e,Number(t))}else if(i.bigIntEnabled){if(x.bigIntFits64(t))s.sqlite3_result_int64(e,t);else c("BigInt value",t.toString(),"is too BigInt for int64.")}else{c("BigInt value",t.toString(),"is too BigInt.")}break;case"number":{let n;if(x.isInt32(t)){n=s.sqlite3_result_int}else if(i.bigIntEnabled&&Number.isInteger(t)&&x.bigIntFits64(BigInt(t))){n=s.sqlite3_result_int64}else{n=s.sqlite3_result_double}n(e,t);break}case"string":{const[n,r]=i.allocCString(t,true);s.sqlite3_result_text(e,n,r,s.SQLITE_WASM_DEALLOC);break}case"object":if(null===t){s.sqlite3_result_null(e);break}else if(x.isBindableTypedArray(t)){const n=i.allocFromTypedArray(t);s.sqlite3_result_blob(e,n,t.byteLength,s.SQLITE_WASM_DEALLOC);break}default:c("Don't not how to handle this UDF result value:",typeof t,t)}}catch(t){s.sqlite3_result_error_js(e,t)}};s.sqlite3_column_js=function(e,t,n=true){const r=s.sqlite3_column_value(e,t);return 0===r?undefined:s.sqlite3_value_to_js(r,n)};const I=function(e,t,n){n=s[n];if(!this.ptr)this.ptr=i.allocPtr();else i.pokePtr(this.ptr,0);const r=n(e,t,this.ptr);if(r)return l.toss(r,arguments[2]+"() failed with code "+r);const o=i.peekPtr(this.ptr);return o?s.sqlite3_value_to_js(o,true):undefined}.bind(Object.create(null));s.sqlite3_preupdate_new_js=(e,t)=>I(e,t,"sqlite3_preupdate_new");s.sqlite3_preupdate_old_js=(e,t)=>I(e,t,"sqlite3_preupdate_old");s.sqlite3changeset_new_js=(e,t)=>I(e,t,"sqlite3changeset_new");s.sqlite3changeset_old_js=(e,t)=>I(e,t,"sqlite3changeset_old");const k={WasmAllocError:S,SQLite3Error:l,capi:s,util:x,wasm:i,config:r,version:Object.create(null),client:undefined,asyncPostInit:async function e(){if(e.isReady instanceof Promise)return e.isReady;let n=t.initializersAsync;delete t.initializersAsync;const s=async()=>{if(!k.__isUnderTest){delete k.util;delete k.StructBinder}return k};const i=e=>{r.error("an async sqlite3 initializer failed:",e);throw e};if(!n||!n.length){return e.isReady=s().catch(i)}n=n.map((e=>e instanceof Function?async t=>e(k):e));n.push(s);let o=Promise.resolve(k);while(n.length)o=o.then(n.shift());return e.isReady=o.catch(i)},scriptInfo:undefined};try{t.initializers.forEach((e=>{e(k)}))}catch(e){console.error("sqlite3 bootstrap initializer threw:",e);throw e}delete t.initializers;t.sqlite3=k;return k};globalThis.sqlite3ApiBootstrap.initializers=[];globalThis.sqlite3ApiBootstrap.initializersAsync=[];globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null);globalThis.sqlite3ApiBootstrap.sqlite3=undefined;globalThis.WhWasmUtilInstaller=function(e){"use strict";if(undefined===e.bigIntEnabled){e.bigIntEnabled=!!globalThis["BigInt64Array"]}const t=(...e)=>{throw new Error(e.join(" "))};if(!e.exports){Object.defineProperty(e,"exports",{enumerable:true,configurable:true,get:()=>e.instance&&e.instance.exports})}const n=e.pointerIR||"i32";const r=e.ptrSizeof="i32"===n?4:"i64"===n?8:t("Unhandled ptrSizeof:",n);const s=Object.create(null);s.heapSize=0;s.memory=null;s.freeFuncIndexes=[];s.scopedAlloc=[];s.utf8Decoder=new TextDecoder;s.utf8Encoder=new TextEncoder("utf-8");e.sizeofIR=e=>{switch(e){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return r;default:return(""+e).endsWith("*")?r:undefined}};const i=function(){if(!s.memory){s.memory=e.memory instanceof WebAssembly.Memory?e.memory:e.exports.memory}else if(s.heapSize===s.memory.buffer.byteLength){return s}const t=s.memory.buffer;s.HEAP8=new Int8Array(t);s.HEAP8U=new Uint8Array(t);s.HEAP16=new Int16Array(t);s.HEAP16U=new Uint16Array(t);s.HEAP32=new Int32Array(t);s.HEAP32U=new Uint32Array(t);if(e.bigIntEnabled){s.HEAP64=new BigInt64Array(t);s.HEAP64U=new BigUint64Array(t)}s.HEAP32F=new Float32Array(t);s.HEAP64F=new Float64Array(t);s.heapSize=t.byteLength;return s};e.heap8=()=>i().HEAP8;e.heap8u=()=>i().HEAP8U;e.heap16=()=>i().HEAP16;e.heap16u=()=>i().HEAP16U;e.heap32=()=>i().HEAP32;e.heap32u=()=>i().HEAP32U;e.heapForSize=function(n,r=true){let o;const a=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:i();switch(n){case Int8Array:return a.HEAP8;case Uint8Array:return a.HEAP8U;case Int16Array:return a.HEAP16;case Uint16Array:return a.HEAP16U;case Int32Array:return a.HEAP32;case Uint32Array:return a.HEAP32U;case 8:return r?a.HEAP8U:a.HEAP8;case 16:return r?a.HEAP16U:a.HEAP16;case 32:return r?a.HEAP32U:a.HEAP32;case 64:if(a.HEAP64)return r?a.HEAP64U:a.HEAP64;break;default:if(e.bigIntEnabled){if(n===globalThis["BigUint64Array"])return a.HEAP64U;else if(n===globalThis["BigInt64Array"])return a.HEAP64;break}}t("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")};e.functionTable=function(){return e.exports.__indirect_function_table};e.functionEntry=function(t){const n=e.functionTable();return t<n.length?n.get(t):undefined};e.jsFuncToWasm=function e(n,r){if(!e._){e._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(e,t,n){if(n<128)e[t](n);else e[t](n%128|128,n>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(t){const n=e._.rxJSig.exec(t);return n?n[2]:t.substr(1)},letterType:n=>e._.sigTypes[n]||t("Invalid signature letter:",n),pushSigType:(t,n)=>t.push(e._.typeCodes[e._.letterType(n)])}}if("string"===typeof n){const e=r;r=n;n=e}const s=e._.sigParams(r);const i=[1,96];e._.uleb128Encode(i,"push",s.length);for(const t of s)e._.pushSigType(i,t);if("v"===r[0])i.push(0);else{i.push(1);e._.pushSigType(i,r[0])}e._.uleb128Encode(i,"unshift",i.length);i.unshift(0,97,115,109,1,0,0,0,1);i.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);return new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(i)),{e:{f:n}}).exports["f"]};const o=function n(r,i,o){if(o&&!s.scopedAlloc.length){t("No scopedAllocPush() scope is active.")}if("string"===typeof r){const e=i;i=r;r=e}if("string"!==typeof i||!(r instanceof Function)){t("Invalid arguments: expecting (function,signature) "+"or (signature,function).")}const a=e.functionTable();const l=a.length;let c;while(s.freeFuncIndexes.length){c=s.freeFuncIndexes.pop();if(a.get(c)){c=null;continue}else{break}}if(!c){c=l;a.grow(1)}try{a.set(c,r);if(o){s.scopedAlloc[s.scopedAlloc.length-1].push(c)}return c}catch(e){if(!(e instanceof TypeError)){if(c===l)s.freeFuncIndexes.push(l);throw e}}try{const t=e.jsFuncToWasm(r,i);a.set(c,t);if(o){s.scopedAlloc[s.scopedAlloc.length-1].push(c)}}catch(e){if(c===l)s.freeFuncIndexes.push(l);throw e}return c};e.installFunction=(e,t)=>o(e,t,false);e.scopedInstallFunction=(e,t)=>o(e,t,true);e.uninstallFunction=function(t){if(!t&&0!==t)return undefined;const n=s.freeFuncIndexes;const r=e.functionTable();n.push(t);const i=r.get(t);r.set(t,null);return i};e.peek=function r(o,a="i8"){if(a.endsWith("*"))a=n;const l=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:i();const c=Array.isArray(o)?[]:undefined;let u;do{if(c)o=arguments[0].shift();switch(a){case"i1":case"i8":u=l.HEAP8[o>>0];break;case"i16":u=l.HEAP16[o>>1];break;case"i32":u=l.HEAP32[o>>2];break;case"float":case"f32":u=l.HEAP32F[o>>2];break;case"double":case"f64":u=Number(l.HEAP64F[o>>3]);break;case"i64":if(e.bigIntEnabled){u=BigInt(l.HEAP64[o>>3]);break}default:t("Invalid type for peek():",a)}if(c)c.push(u)}while(c&&arguments[0].length);return c||u};e.poke=function(e,r,o="i8"){if(o.endsWith("*"))o=n;const a=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:i();for(const n of Array.isArray(e)?e:[e]){switch(o){case"i1":case"i8":a.HEAP8[n>>0]=r;continue;case"i16":a.HEAP16[n>>1]=r;continue;case"i32":a.HEAP32[n>>2]=r;continue;case"float":case"f32":a.HEAP32F[n>>2]=r;continue;case"double":case"f64":a.HEAP64F[n>>3]=r;continue;case"i64":if(a.HEAP64){a.HEAP64[n>>3]=BigInt(r);continue}default:t("Invalid type for poke(): "+o)}}return this};e.peekPtr=(...t)=>e.peek(1===t.length?t[0]:t,n);e.pokePtr=(t,r=0)=>e.poke(t,r,n);e.peek8=(...t)=>e.peek(1===t.length?t[0]:t,"i8");e.poke8=(t,n)=>e.poke(t,n,"i8");e.peek16=(...t)=>e.peek(1===t.length?t[0]:t,"i16");e.poke16=(t,n)=>e.poke(t,n,"i16");e.peek32=(...t)=>e.peek(1===t.length?t[0]:t,"i32");e.poke32=(t,n)=>e.poke(t,n,"i32");e.peek64=(...t)=>e.peek(1===t.length?t[0]:t,"i64");e.poke64=(t,n)=>e.poke(t,n,"i64");e.peek32f=(...t)=>e.peek(1===t.length?t[0]:t,"f32");e.poke32f=(t,n)=>e.poke(t,n,"f32");e.peek64f=(...t)=>e.peek(1===t.length?t[0]:t,"f64");e.poke64f=(t,n)=>e.poke(t,n,"f64");e.getMemValue=e.peek;e.getPtrValue=e.peekPtr;e.setMemValue=e.poke;e.setPtrValue=e.pokePtr;e.isPtr32=e=>"number"===typeof e&&e===(e|0)&&e>=0;e.isPtr=e.isPtr32;e.cstrlen=function(t){if(!t||!e.isPtr(t))return null;const n=i().HEAP8U;let r=t;for(;n[r]!==0;++r){}return r-t};const a="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer;const l=function(e,t,n){return s.utf8Decoder.decode(e.buffer instanceof a?e.slice(t,n):e.subarray(t,n))};e.cstrToJs=function(t){const n=e.cstrlen(t);return n?l(i().HEAP8U,t,t+n):null===n?n:""};e.jstrlen=function(e){if("string"!==typeof e)return null;const t=e.length;let n=0;for(let r=0;r<t;++r){let t=e.charCodeAt(r);if(t>=55296&&t<=57343){t=65536+((t&1023)<<10)|e.charCodeAt(++r)&1023}if(t<=127)++n;else if(t<=2047)n+=2;else if(t<=65535)n+=3;else n+=4}return n};e.jstrcpy=function(e,n,r=0,s=-1,i=true){if(!n||!(n instanceof Int8Array)&&!(n instanceof Uint8Array)){t("jstrcpy() target must be an Int8Array or Uint8Array.")}if(s<0)s=n.length-r;if(!(s>0)||!(r>=0))return 0;let o=0,a=e.length;const l=r,c=r+s-(i?1:0);for(;o<a&&r<c;++o){let t=e.charCodeAt(o);if(t>=55296&&t<=57343){t=65536+((t&1023)<<10)|e.charCodeAt(++o)&1023}if(t<=127){if(r>=c)break;n[r++]=t}else if(t<=2047){if(r+1>=c)break;n[r++]=192|t>>6;n[r++]=128|t&63}else if(t<=65535){if(r+2>=c)break;n[r++]=224|t>>12;n[r++]=128|t>>6&63;n[r++]=128|t&63}else{if(r+3>=c)break;n[r++]=240|t>>18;n[r++]=128|t>>12&63;n[r++]=128|t>>6&63;n[r++]=128|t&63}}if(i)n[r++]=0;return r-l};e.cstrncpy=function(n,r,s){if(!n||!r)t("cstrncpy() does not accept NULL strings.");if(s<0)s=e.cstrlen(strPtr)+1;else if(!(s>0))return 0;const i=e.heap8u();let o=0,a;for(;o<s&&(a=i[r+o]);++o){i[n+o]=a}if(o<s)i[n+o++]=0;return o};e.jstrToUintArray=(e,t=false)=>s.utf8Encoder.encode(t?e+"\0":e);const c=(e,n)=>{if(!(e.alloc instanceof Function)||!(e.dealloc instanceof Function)){t("Object is missing alloc() and/or dealloc() function(s)","required by",n+"().")}};const u=function(t,n,r,o){c(e,o);if("string"!==typeof t)return null;if(0){const s=e.jstrlen(t),i=r(s+1);e.jstrcpy(t,e.heap8u(),i,s+1,true);return n?[i,s]:i}else{const e=s.utf8Encoder.encode(t),o=r(e.length+1),a=i().HEAP8U;a.set(e,o);a[o+e.length]=0;return n?[o,e.length]:o}};e.allocCString=(t,n=false)=>u(t,n,e.alloc,"allocCString()");e.scopedAllocPush=function(){c(e,"scopedAllocPush");const t=[];s.scopedAlloc.push(t);return t};e.scopedAllocPop=function(n){c(e,"scopedAllocPop");const r=arguments.length?s.scopedAlloc.indexOf(n):s.scopedAlloc.length-1;if(r<0)t("Invalid state object for scopedAllocPop().");if(0===arguments.length)n=s.scopedAlloc[r];s.scopedAlloc.splice(r,1);for(let t;t=n.pop();){if(e.functionEntry(t)){e.uninstallFunction(t)}else e.dealloc(t)}};e.scopedAlloc=function(n){if(!s.scopedAlloc.length){t("No scopedAllocPush() scope is active.")}const r=e.alloc(n);s.scopedAlloc[s.scopedAlloc.length-1].push(r);return r};Object.defineProperty(e.scopedAlloc,"level",{configurable:false,enumerable:false,get:()=>s.scopedAlloc.length,set:()=>t("The 'active' property is read-only.")});e.scopedAllocCString=(t,n=false)=>u(t,n,e.scopedAlloc,"scopedAllocCString()");const _=function(t,n){const r=e[t?"scopedAlloc":"alloc"]((n.length+1)*e.ptrSizeof);let s=0;n.forEach((n=>{e.pokePtr(r+e.ptrSizeof*s++,e[t?"scopedAllocCString":"allocCString"](""+n))}));e.pokePtr(r+e.ptrSizeof*s,0);return r};e.scopedAllocMainArgv=e=>_(true,e);e.allocMainArgv=e=>_(false,e);e.cArgvToJs=(t,n)=>{const r=[];for(let s=0;s<t;++s){const t=e.peekPtr(n+e.ptrSizeof*s);r.push(t?e.cstrToJs(t):null)}return r};e.scopedAllocCall=function(t){e.scopedAllocPush();try{return t()}finally{e.scopedAllocPop()}};const f=function(t,s,i){c(e,i);const o=s?"i64":n;let a=e[i](t*(s?8:r));e.poke(a,0,o);if(1===t){return a}const l=[a];for(let n=1;n<t;++n){a+=s?8:r;l[n]=a;e.poke(a,0,o)}return l};e.allocPtr=(e=1,t=true)=>f(e,t,"alloc");e.scopedAllocPtr=(e=1,t=true)=>f(e,t,"scopedAlloc");e.xGet=function(n){return e.exports[n]||t("Cannot find exported symbol:",n)};const p=(e,n)=>t(e+"() requires",n,"argument(s).");e.xCall=function(n,...r){const s=e.xGet(n);if(!(s instanceof Function))t("Exported symbol",n,"is not a function.");if(s.length!==r.length)p(n,s.length);return 2===arguments.length&&Array.isArray(arguments[1])?s.apply(null,arguments[1]):s.apply(null,r)};s.xWrap=Object.create(null);s.xWrap.convert=Object.create(null);s.xWrap.convert.arg=new Map;s.xWrap.convert.result=new Map;const d=s.xWrap.convert.arg,m=s.xWrap.convert.result;if(e.bigIntEnabled){d.set("i64",(e=>BigInt(e)))}const h="i32"===n?e=>e|0:e=>BigInt(e)|BigInt(0);d.set("i32",h).set("i16",(e=>(e|0)&65535)).set("i8",(e=>(e|0)&255)).set("f32",(e=>Number(e).valueOf())).set("float",d.get("f32")).set("f64",d.get("f32")).set("double",d.get("f64")).set("int",d.get("i32")).set("null",(e=>e)).set(null,d.get("null")).set("**",h).set("*",h);m.set("*",h).set("pointer",h).set("number",(e=>Number(e))).set("void",(e=>undefined)).set("null",(e=>e)).set(null,m.get("null"));{const r=["i8","i16","i32","int","f32","float","f64","double"];if(e.bigIntEnabled)r.push("i64");const s=d.get(n);for(const e of r){d.set(e+"*",s);m.set(e+"*",s);m.set(e,d.get(e)||t("Missing arg converter:",e))}}const g=function(t){if("string"===typeof t)return e.scopedAllocCString(t);return t?h(t):null};d.set("string",g).set("utf8",g).set("pointer",g);m.set("string",(t=>e.cstrToJs(t))).set("utf8",m.get("string")).set("string:dealloc",(t=>{try{return t?e.cstrToJs(t):null}finally{e.dealloc(t)}})).set("utf8:dealloc",m.get("string:dealloc")).set("json",(t=>JSON.parse(e.cstrToJs(t)))).set("json:dealloc",(t=>{try{return t?JSON.parse(e.cstrToJs(t)):null}finally{e.dealloc(t)}}));const y=class{constructor(e){this.name=e.name||"unnamed adapter"}convertArg(e,n,r){t("AbstractArgAdapter must be subclassed.")}};d.FuncPtrAdapter=class n extends y{constructor(e){super(e);if(d.FuncPtrAdapter.warnOnUse){console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",e)}this.name=e.name||"unnamed";this.signature=e.signature;if(e.contextKey instanceof Function){this.contextKey=e.contextKey;if(!e.bindScope)e.bindScope="context"}this.bindScope=e.bindScope||t("FuncPtrAdapter options requires a bindScope (explicit or implied).");if(n.bindScopes.indexOf(e.bindScope)<0){t("Invalid options.bindScope ("+e.bindMod+") for FuncPtrAdapter. "+"Expecting one of: ("+n.bindScopes.join(", ")+")")}this.isTransient="transient"===this.bindScope;this.isContext="context"===this.bindScope;this.isPermanent="permanent"===this.bindScope;this.singleton="singleton"===this.bindScope?[]:undefined;this.callProxy=e.callProxy instanceof Function?e.callProxy:undefined}contextKey(e,t){return this}contextMap(e){const t=this.__cmap||(this.__cmap=new Map);let n=t.get(e);if(undefined===n)t.set(e,n=[]);return n}convertArg(t,r,i){let a=this.singleton;if(!a&&this.isContext){a=this.contextMap(this.contextKey(r,i))}if(a&&a[0]===t)return a[1];if(t instanceof Function){if(this.callProxy)t=this.callProxy(t);const e=o(t,this.signature,this.isTransient);if(n.debugFuncInstall){n.debugOut("FuncPtrAdapter installed",this,this.contextKey(r,i),"@"+e,t)}if(a){if(a[1]){if(n.debugFuncInstall){n.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(r,i),"@"+a[1],t)}try{s.scopedAlloc[s.scopedAlloc.length-1].push(a[1])}catch(e){}}a[0]=t;a[1]=e}return e}else if(e.isPtr(t)||null===t||undefined===t){if(a&&a[1]&&a[1]!==t){if(n.debugFuncInstall){n.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(r,i),"@"+a[1],t)}try{s.scopedAlloc[s.scopedAlloc.length-1].push(a[1])}catch(e){}a[0]=a[1]=t|0}return t||0}else{throw new TypeError("Invalid FuncPtrAdapter argument type. "+"Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}}};d.FuncPtrAdapter.warnOnUse=false;d.FuncPtrAdapter.debugFuncInstall=false;d.FuncPtrAdapter.debugOut=console.debug.bind(console);d.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const q=e=>d.get(e)||t("Argument adapter not found:",e);const b=e=>m.get(e)||t("Result adapter not found:",e);s.xWrap.convertArg=(e,...t)=>q(e)(...t);s.xWrap.convertArgNoCheck=(e,...t)=>d.get(e)(...t);s.xWrap.convertResult=(e,t)=>null===e?t:e?b(e)(t):undefined;s.xWrap.convertResultNoCheck=(e,t)=>null===e?t:e?m.get(e)(t):undefined;e.xWrap=function(n,r,...i){if(3===arguments.length&&Array.isArray(arguments[2])){i=arguments[2]}if(e.isPtr(n)){n=e.functionEntry(n)||t("Function pointer not found in WASM function table.")}const o=n instanceof Function;const a=o?n:e.xGet(n);if(o)n=a.name||"unnamed function";if(i.length!==a.length)p(n,a.length);if(null===r&&0===a.length){return a}if(undefined!==r&&null!==r)b(r);for(const e of i){if(e instanceof y)d.set(e,((...t)=>e.convertArg(...t)));else q(e)}const l=s.xWrap;if(0===a.length){return(...e)=>e.length?p(n,a.length):l.convertResult(r,a.call(null))}return function(...t){if(t.length!==a.length)p(n,a.length);const s=e.scopedAllocPush();try{for(const e in t)t[e]=l.convertArgNoCheck(i[e],t[e],t,e);return l.convertResultNoCheck(r,a.apply(null,t))}finally{e.scopedAllocPop(s)}}};const v=function(e,n,r,s,i,o){if("string"===typeof r){if(1===n)return o.get(r);else if(2===n){if(!s){delete o.get(r);return e}else if(!(s instanceof Function)){t(i,"requires a function argument.")}o.set(r,s);return e}}t("Invalid arguments to",i)};e.xWrap.resultAdapter=function e(t,n){return v(e,arguments.length,t,n,"resultAdapter()",m)};e.xWrap.argAdapter=function e(t,n){return v(e,arguments.length,t,n,"argAdapter()",d)};e.xWrap.FuncPtrAdapter=d.FuncPtrAdapter;e.xCallWrapped=function(t,n,r,...s){if(Array.isArray(arguments[3]))s=arguments[3];return e.xWrap(t,n,r||[]).apply(null,s||[])};e.xWrap.testConvertArg=s.xWrap.convertArg;e.xWrap.testConvertResult=s.xWrap.convertResult;return e};globalThis.WhWasmUtilInstaller.yawl=function(e){const t=()=>fetch(e.uri,{credentials:"same-origin"});const n=this;const r=function(t){if(e.wasmUtilTarget){const r=(...e)=>{throw new Error(e.join(" "))};const s=e.wasmUtilTarget;s.module=t.module;s.instance=t.instance;if(!s.instance.exports.memory){s.memory=e.imports&&e.imports.env&&e.imports.env.memory||r("Missing 'memory' object!")}if(!s.alloc&&t.instance.exports.malloc){const e=t.instance.exports;s.alloc=function(t){return e.malloc(t)||r("Allocation of",t,"bytes failed.")};s.dealloc=function(t){e.free(t)}}n(s)}if(e.onload)e.onload(t,e);return t};const s=WebAssembly.instantiateStreaming?function n(){return WebAssembly.instantiateStreaming(t(),e.imports||{}).then(r)}:function n(){return t().then((e=>e.arrayBuffer())).then((t=>WebAssembly.instantiate(t,e.imports||{}))).then(r)};return s}.bind(globalThis.WhWasmUtilInstaller);"use strict";globalThis.Jaccwabyt=function e(t){const n=(...e)=>{throw new Error(e.join(" "))};if(!(t.heap instanceof WebAssembly.Memory)&&!(t.heap instanceof Function)){n("config.heap must be WebAssembly.Memory instance or a function.")}["alloc","dealloc"].forEach((function(e){t[e]instanceof Function||n("Config option '"+e+"' must be a function.")}));const r=e;const s=t.heap instanceof Function?t.heap:()=>new Uint8Array(t.heap.buffer),i=t.alloc,o=t.dealloc,a=t.log||console.log.bind(console),l=t.memberPrefix||"",c=t.memberSuffix||"",u=undefined===t.bigIntEnabled?!!globalThis["BigInt64Array"]:!!t.bigIntEnabled,_=globalThis["BigInt"],f=globalThis["BigInt64Array"],p=t.ptrSizeof||4,d=t.ptrIR||"i32";if(!r.debugFlags){r.__makeDebugFlags=function(e=null){if(e&&e.__flags)e=e.__flags;const t=function e(t){if(0===arguments.length){return e.__flags}if(t<0){delete e.__flags.getter;delete e.__flags.setter;delete e.__flags.alloc;delete e.__flags.dealloc}else{e.__flags.getter=0!==(1&t);e.__flags.setter=0!==(2&t);e.__flags.alloc=0!==(4&t);e.__flags.dealloc=0!==(8&t)}return e._flags};Object.defineProperty(t,"__flags",{iterable:false,writable:false,value:Object.create(e)});if(!e)t(0);return t};r.debugFlags=r.__makeDebugFlags()}const m=function(){const e=new ArrayBuffer(2);new DataView(e).setInt16(0,256,true);return new Int16Array(e)[0]===256}();const h=e=>"("===e[1];const g=e=>"p"===e||"P"===e;const y=e=>"P"===e;const q=e=>h(e)?"p":e[0];const b=function(e){switch(q(e)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return d;case"j":return"i64";case"f":return"float";case"d":return"double"}n("Unhandled signature IR:",e)};const v=f?()=>true:()=>n("BigInt64Array is not available.");const w=function(e){switch(q(e)){case"p":case"P":case"s":{switch(p){case 4:return"getInt32";case 8:return v()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return v()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}n("Unhandled DataView getter for signature:",e)};const E=function(e){switch(q(e)){case"p":case"P":case"s":{switch(p){case 4:return"setInt32";case 8:return v()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return v()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}n("Unhandled DataView setter for signature:",e)};const S=function(e){switch(q(e)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return v()&&_;case"p":case"P":case"s":switch(p){case 4:return Number;case 8:return v()&&_}break}n("Unhandled DataView set wrapper for signature:",e)};const x=(e,t)=>e+"::"+t;const A=function(e,t){return()=>n(x(e,t),"is read-only.")};const I=new WeakMap;const k="(pointer-is-external)";const T=function(e,t,n){if(!n)n=I.get(t);if(n){I.delete(t);if(Array.isArray(t.ondispose)){let r;while(r=t.ondispose.shift()){try{if(r instanceof Function)r.call(t);else if(r instanceof K)r.dispose();else if("number"===typeof r)o(r)}catch(t){console.warn("ondispose() for",e.structName,"@",n,"threw. NOT propagating it.",t)}}}else if(t.ondispose instanceof Function){try{t.ondispose()}catch(t){console.warn("ondispose() for",e.structName,"@",n,"threw. NOT propagating it.",t)}}delete t.ondispose;if(e.debugFlags.__flags.dealloc){a("debug.dealloc:",t[k]?"EXTERNAL":"",e.structName,"instance:",e.structInfo.sizeof,"bytes @"+n)}if(!t[k])o(n)}};const F=e=>({configurable:false,writable:false,iterable:false,value:e});const O=function(e,t,r){let o=!r;if(r)Object.defineProperty(t,k,F(r));else{r=i(e.structInfo.sizeof);if(!r)n("Allocation of",e.structName,"structure failed.")}try{if(e.debugFlags.__flags.alloc){a("debug.alloc:",o?"":"EXTERNAL",e.structName,"instance:",e.structInfo.sizeof,"bytes @"+r)}if(o)s().fill(0,r,r+e.structInfo.sizeof);I.set(t,r)}catch(n){T(e,t,r);throw n}};const P=function(){const e=this.pointer;return e?new Uint8Array(s().slice(e,e+this.structInfo.sizeof)):null};const L=e=>l+e+c;const C=F(L);const D=function(e,t,r=true){let s=e.members[t];if(!s&&(l||c)){for(const n of Object.values(e.members)){if(n.key===t){s=n;break}}if(!s&&r){n(x(e.name,t),"is not a mapped struct member.")}}return s};const N=function e(t,n,r=false){if(!e._)e._=e=>e.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i");const s=D(t.structInfo,n,true);return r?e._(s.signature):s.signature};const R={configurable:false,enumerable:false,get:function(){return I.get(this)},set:()=>n("Cannot assign the 'pointer' property of a struct.")};const M=F((function(){const e=[];for(const t of Object.keys(this.structInfo.members)){e.push(this.memberKey(t))}return e}));const j=new TextDecoder("utf-8");const z=new TextEncoder;const B="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer;const Q=function(e,t,n){return j.decode(e.buffer instanceof B?e.slice(t,n):e.subarray(t,n))};const U=function(e,t,n=false){const r=D(e.structInfo,t,n);return r&&1===r.signature.length&&"s"===r.signature[0]?r:false};const W=function(e){if("s"===e.signature)return;n("Invalid member type signature for C-string value:",JSON.stringify(e))};const H=function e(t,n){const r=D(t.structInfo,n,true);W(r);const i=t[r.key];if(!i)return null;let o=i;const a=s();for(;a[o]!==0;++o){}return i===o?"":Q(a,i,o)};const V=function(e,...t){if(e.ondispose){if(!Array.isArray(e.ondispose)){e.ondispose=[e.ondispose]}}else{e.ondispose=[]}e.ondispose.push(...t)};const G=function(e){const t=z.encode(e);const r=i(t.length+1);if(!r)n("Allocation error while duplicating string:",e);const o=s();o.set(t,r);o[r+t.length]=0;return r};const $=function(e,t,n){const r=D(e.structInfo,t,true);W(r);const s=G(n);e[r.key]=s;V(e,s);return e};const K=function e(t,r){if(arguments[2]!==F){n("Do not call the StructType constructor","from client-level code.")}Object.defineProperties(this,{structName:F(t),structInfo:F(r)})};K.prototype=Object.create(null,{dispose:F((function(){T(this.constructor,this)})),lookupMember:F((function(e,t=true){return D(this.structInfo,e,t)})),memberToJsString:F((function(e){return H(this,e)})),memberIsString:F((function(e,t=true){return U(this,e,t)})),memberKey:C,memberKeys:M,memberSignature:F((function(e,t=false){return N(this,e,t)})),memoryDump:F(P),pointer:R,setMemberCString:F((function(e,t){return $(this,e,t)}))});Object.assign(K.prototype,{addOnDispose:function(...e){V(this,...e);return this}});Object.defineProperties(K,{allocCString:F(G),isA:F((e=>e instanceof K)),hasExternalPointer:F((e=>e instanceof K&&!!e[k])),memberKey:C});const J=e=>Number.isFinite(e)||e instanceof(_||Number);const X=function e(t,r,i){if(!e._){e._={getters:{},setters:{},sw:{}};const t=["i","c","C","p","P","s","f","d","v()"];if(u)t.push("j");t.forEach((function(t){e._.getters[t]=w(t);e._.setters[t]=E(t);e._.sw[t]=S(t)}));const r=/^[ipPsjfdcC]$/,s=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;e.sigCheck=function(e,t,i,o){if(Object.prototype.hasOwnProperty.call(e,i)){n(e.structName,"already has a property named",i+".")}r.test(o)||s.test(o)||n("Malformed signature for",x(e.structName,t)+":",o)}}const o=t.memberKey(r);e.sigCheck(t.prototype,r,o,i.signature);i.key=o;i.name=r;const l=q(i.signature);const c=x(t.prototype.structName,o);const _=t.prototype.debugFlags.__flags;const f=Object.create(null);f.configurable=false;f.enumerable=false;f.get=function(){if(_.getter){a("debug.getter:",e._.getters[l],"for",b(l),c,"@",this.pointer,"+",i.offset,"sz",i.sizeof)}let t=new DataView(s().buffer,this.pointer+i.offset,i.sizeof)[e._.getters[l]](0,m);if(_.getter)a("debug.getter:",c,"result =",t);return t};if(i.readOnly){f.set=A(t.prototype.structName,o)}else{f.set=function(t){if(_.setter){a("debug.setter:",e._.setters[l],"for",b(l),c,"@",this.pointer,"+",i.offset,"sz",i.sizeof,t)}if(!this.pointer){n("Cannot set struct property on disposed instance.")}if(null===t)t=0;else while(!J(t)){if(y(i.signature)&&t instanceof K){t=t.pointer||0;if(_.setter)a("debug.setter:",c,"resolved to",t);break}n("Invalid value for pointer-type",c+".")}new DataView(s().buffer,this.pointer+i.offset,i.sizeof)[e._.setters[l]](0,e._.sw[l](t),m)}}Object.defineProperty(t.prototype,o,f)};const Y=function e(t,s){if(1===arguments.length){s=t;t=s.name}else if(!s.name){s.name=t}if(!t)n("Struct name is required.");let i=false;Object.keys(s.members).forEach((e=>{const r=s.members[e];if(!r.sizeof)n(t,"member",e,"is missing sizeof.");else if(r.sizeof===1){r.signature==="c"||r.signature==="C"||n("Unexpected sizeof==1 member",x(s.name,e),"with signature",r.signature)}else{if(0!==r.sizeof%4){console.warn("Invalid struct member description =",r,"from",s);n(t,"member",e,"sizeof is not aligned. sizeof="+r.sizeof)}if(0!==r.offset%4){console.warn("Invalid struct member description =",r,"from",s);n(t,"member",e,"offset is not aligned. offset="+r.offset)}}if(!i||i.offset<r.offset)i=r}));if(!i)n("No member property descriptions found.");else if(s.sizeof<i.offset+i.sizeof){n("Invalid struct config:",t,"max member offset ("+i.offset+") ","extends past end of struct (sizeof="+s.sizeof+").")}const o=F(r.__makeDebugFlags(e.debugFlags));const a=function e(r){if(!(this instanceof e)){n("The",t,"constructor may only be called via 'new'.")}else if(arguments.length){if(r!==(r|0)||r<=0){n("Invalid pointer value for",t,"constructor.")}O(e,this,r)}else{O(e,this)}};Object.defineProperties(a,{debugFlags:o,isA:F((e=>e instanceof a)),memberKey:C,memberKeys:M,methodInfoForKey:F((function(e){})),structInfo:F(s),structName:F(t)});a.prototype=new K(t,s,F);Object.defineProperties(a.prototype,{debugFlags:o,constructor:F(a)});Object.keys(s.members).forEach((e=>X(a,e,s.members[e])));return a};Y.StructType=K;Y.config=t;Y.allocCString=G;if(!Y.debugFlags){Y.debugFlags=r.__makeDebugFlags(r.debugFlags)}return Y};globalThis.sqlite3ApiBootstrap.initializers.push((function(e){"use strict";const t=(...e)=>{throw new Error(e.join(" "))};const n=e.SQLite3Error.toss;const r=e.capi,s=e.wasm,i=e.util;globalThis.WhWasmUtilInstaller(s);delete globalThis.WhWasmUtilInstaller;if(0){const n=s.exports[e.config.deallocExportName];const i=s.functionTable().length;let o;for(o=0;o<i;++o){const e=s.functionEntry(o);if(n===e){r.SQLITE_WASM_DEALLOC=o;break}}if(n!==s.functionEntry(r.SQLITE_WASM_DEALLOC)){t("Internal error: cannot find function pointer for SQLITE_WASM_DEALLOC.")}}s.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",undefined,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:e=>e[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new s.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:e=>{let t;return(n,i,o,a)=>{try{const n=s.cArgvToJs(i,o);if(!t)t=s.cArgvToJs(i,a);return e(n,t)|0}catch(e){return e.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",undefined,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",undefined],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",undefined,["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",undefined,"sqlite3_context*","*","int","*"],["sqlite3_result_double",undefined,"sqlite3_context*","f64"],["sqlite3_result_error",undefined,"sqlite3_context*","string","int"],["sqlite3_result_error_code",undefined,"sqlite3_context*","int"],["sqlite3_result_error_nomem",undefined,"sqlite3_context*"],["sqlite3_result_error_toobig",undefined,"sqlite3_context*"],["sqlite3_result_int",undefined,"sqlite3_context*","int"],["sqlite3_result_null",undefined,"sqlite3_context*"],["sqlite3_result_pointer",undefined,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",undefined,"sqlite3_value*","int"],["sqlite3_result_text",undefined,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",undefined,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:e=>e[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pi"+"ssss)",contextKey:(e,t)=>e[0],callProxy:e=>(t,n,i,o,a,l)=>{try{i=i&&s.cstrToJs(i);o=o&&s.cstrToJs(o);a=a&&s.cstrToJs(a);l=l&&s.cstrToJs(l);return e(t,n,i,o,a,l)||0}catch(e){return e.resultCode||r.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",undefined,["sqlite3_context*","int","*",new s.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(e,t)=>e[0]})]],["sqlite3_shutdown",undefined],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",undefined,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]];if(false&&s.compileOptionUsed("SQLITE_ENABLE_NORMALIZE")){s.bindingSignatures.push(["sqlite3_normalized_sql","string","sqlite3_stmt*"])}if(s.exports.sqlite3_activate_see instanceof Function){s.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",undefined,"string"])}s.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:e=>e[0],callProxy:e=>(t,n,r,i,o,a,l)=>{e(t,n,r,s.cstrToJs(i),s.cstrToJs(o),a,l)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",undefined,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",undefined,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:e=>e[0],callProxy:e=>(t,n,r,i,o)=>{e(t,n,s.cstrToJs(r),s.cstrToJs(i),o)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]];if(s.bigIntEnabled&&!!s.exports.sqlite3changegroup_add){const e={signature:"i(ps)",callProxy:e=>(t,n)=>{try{return e(t,s.cstrToJs(n))|0}catch(e){return e.resultCode||r.SQLITE_ERROR}}};s.bindingSignatures.int64.push(...[["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",undefined,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",undefined,["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xFilter",...e,contextKey:(e,t)=>e[0]}),"*"]]])}s.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]];e.StructBinder=globalThis.Jaccwabyt({heap:0?s.memory:s.heap8u,alloc:s.alloc,dealloc:s.dealloc,bigIntEnabled:s.bigIntEnabled,memberPrefix:"$"});delete globalThis.Jaccwabyt;{const n=s.xWrap.argAdapter("string");s.xWrap.argAdapter("string:flexible",(e=>n(i.flexibleString(e))));s.xWrap.argAdapter("string:static",function(e){if(s.isPtr(e))return e;e=""+e;let t=this[e];return t||(this[e]=s.allocCString(e))}.bind(Object.create(null)));const o=s.xWrap.argAdapter("*");const a=function(){};s.xWrap.argAdapter("sqlite3_filename",o)("sqlite3_context*",o)("sqlite3_value*",o)("void*",o)("sqlite3_changegroup*",o)("sqlite3_changeset_iter*",o)("sqlite3_session*",o)("sqlite3_stmt*",(t=>o(t instanceof(e?.oo1?.Stmt||a)?t.pointer:t)))("sqlite3*",(t=>o(t instanceof(e?.oo1?.DB||a)?t.pointer:t)))("sqlite3_index_info*",(e=>o(e instanceof(r.sqlite3_index_info||a)?e.pointer:e)))("sqlite3_module*",(e=>o(e instanceof(r.sqlite3_module||a)?e.pointer:e)))("sqlite3_vfs*",(t=>{if("string"===typeof t){return r.sqlite3_vfs_find(t)||e.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",t)}return o(t instanceof(r.sqlite3_vfs||a)?t.pointer:t)}));const l=s.xWrap.resultAdapter("*");s.xWrap.resultAdapter("sqlite3*",l)("sqlite3_context*",l)("sqlite3_stmt*",l)("sqlite3_value*",l)("sqlite3_vfs*",l)("void*",l);if(0===s.exports.sqlite3_step.length){s.xWrap.doArgcCheck=false;e.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks.")}for(const e of s.bindingSignatures){r[e[0]]=s.xWrap.apply(null,e)}for(const e of s.bindingSignatures.wasm){s[e[0]]=s.xWrap.apply(null,e)}const c=function(e){return()=>t(e+"() is unavailable due to lack","of BigInt support in this build.")};for(const e of s.bindingSignatures.int64){r[e[0]]=s.bigIntEnabled?s.xWrap.apply(null,e):c(e[0])}delete s.bindingSignatures;if(s.exports.sqlite3_wasm_db_error){const t=s.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");i.sqlite3_wasm_db_error=function(n,s,i){if(s instanceof e.WasmAllocError){s=r.SQLITE_NOMEM;i=0}else if(s instanceof Error){i=i||""+s;s=s.resultCode||r.SQLITE_ERROR}return n?t(n,s,i):s}}else{i.sqlite3_wasm_db_error=function(e,t,n){console.warn("sqlite3_wasm_db_error() is not exported.",arguments);return t}}}{const n=s.xCall("sqlite3_wasm_enum_json");if(!n){t("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!")}s.ctype=JSON.parse(s.cstrToJs(n));const o=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];if(s.bigIntEnabled){o.push("serialize","session","vtab")}for(const e of o){for(const t of Object.entries(s.ctype[e])){r[t[0]]=t[1]}}if(!s.functionEntry(r.SQLITE_WASM_DEALLOC)){t("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").")}const a=Object.create(null);for(const e of["resultCodes"]){for(const t of Object.entries(s.ctype[e])){a[t[1]]=t[0]}}r.sqlite3_js_rc_str=e=>a[e];const l=Object.assign(Object.create(null),{WasmTestStruct:true,sqlite3_kvvfs_methods:!i.isUIThread(),sqlite3_index_info:!s.bigIntEnabled,sqlite3_index_constraint:!s.bigIntEnabled,sqlite3_index_orderby:!s.bigIntEnabled,sqlite3_index_constraint_usage:!s.bigIntEnabled});for(const t of s.ctype.structs){if(!l[t.name]){r[t.name]=e.StructBinder(t)}}if(r.sqlite3_index_info){for(const e of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"]){r.sqlite3_index_info[e]=r[e];delete r[e]}r.sqlite3_vtab_config=s.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const o=(e,t,n)=>i.sqlite3_wasm_db_error(e,r.SQLITE_MISUSE,t+"() requires "+n+" argument"+(1===n?"":"s")+".");const a=e=>i.sqlite3_wasm_db_error(e,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding.");const l=e=>s.xWrap.argAdapter("sqlite3*")(e);const c=e=>s.isPtr(e)?s.cstrToJs(e):e;const u=function(e,t){e=l(e);let n=this.dbMap.get(e);if(!t){this.dbMap.delete(e);return n}else if(!n&&t>0){this.dbMap.set(e,n=Object.create(null))}return n}.bind(Object.assign(Object.create(null),{dbMap:new Map}));u.addCollation=function(e,t){const n=u(e,1);if(!n.collation)n.collation=new Set;n.collation.add(c(t).toLowerCase())};u._addUDF=function(e,t,n,r){t=c(t).toLowerCase();let s=r.get(t);if(!s)r.set(t,s=new Set);s.add(n<0?-1:n)};u.addFunction=function(e,t,n){const r=u(e,1);if(!r.udf)r.udf=new Map;this._addUDF(e,t,n,r.udf)};u.addWindowFunc=function(e,t,n){const r=u(e,1);if(!r.wudf)r.wudf=new Map;this._addUDF(e,t,n,r.wudf)};u.cleanup=function(e){e=l(e);const t=[e];for(const e of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const n=s.exports[e];t.length=n.length;try{r[e](...t)}catch(n){console.warn("close-time call of",e+"(",t,") threw:",n)}}const n=u(e,0);if(!n)return;if(n.collation){for(const t of n.collation){try{r.sqlite3_create_collation_v2(e,t,r.SQLITE_UTF8,0,0,0)}catch(e){}}delete n.collation}let i;for(i=0;i<2;++i){const t=i?n.wudf:n.udf;if(!t)continue;const s=i?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(const n of t){const t=n[0],o=n[1];const a=[e,t,0,r.SQLITE_UTF8,0,0,0,0,0];if(i)a.push(0);for(const e of o){try{a[2]=e;s.apply(null,a)}catch(e){}}o.clear()}t.clear()}delete n.udf;delete n.wudf};{const e=s.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(t){if(1!==arguments.length)return o(t,"sqlite3_close_v2",1);if(t){try{u.cleanup(t)}catch(e){}}return e(t)}}if(r.sqlite3session_table_filter){const e=s.xWrap("sqlite3session_delete",undefined,["sqlite3_session*"]);r.sqlite3session_delete=function(t){if(1!==arguments.length){return o(pDb,"sqlite3session_delete",1)}else if(t){r.sqlite3session_table_filter(t,0,0)}e(t)}}{const e=(e,t)=>"argv["+t+"]:"+e[0]+":"+s.cstrToJs(e[1]).toLowerCase();const t=s.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new s.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:e}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:e})]);r.sqlite3_create_collation_v2=function(e,n,s,l,c,_){if(6!==arguments.length)return o(e,"sqlite3_create_collation_v2",6);else if(0===(s&15)){s|=r.SQLITE_UTF8}else if(r.SQLITE_UTF8!==(s&15)){return a(e)}try{const r=t(e,n,s,l,c,_);if(0===r&&c instanceof Function){u.addCollation(e,n)}return r}catch(t){return i.sqlite3_wasm_db_error(e,t)}};r.sqlite3_create_collation=(e,t,n,s,i)=>5===arguments.length?r.sqlite3_create_collation_v2(e,t,n,s,i,0):o(e,"sqlite3_create_collation",5)}{const e=function(e,t){return e[0]+":"+(e[2]<0?-1:e[2])+":"+t+":"+s.cstrToJs(e[1]).toLowerCase()};const t=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:e,callProxy:e=>(t,n,s)=>{try{e(t,...r.sqlite3_values_to_js(n,s))}catch(e){r.sqlite3_result_error_js(t,e)}}},xFinalAndValue:{signature:"v(p)",contextKey:e,callProxy:e=>t=>{try{r.sqlite3_result_js(t,e(t))}catch(e){r.sqlite3_result_error_js(t,e)}}},xFunc:{signature:"v(pip)",contextKey:e,callProxy:e=>(t,n,s)=>{try{r.sqlite3_result_js(t,e(t,...r.sqlite3_values_to_js(n,s)))}catch(e){r.sqlite3_result_error_js(t,e)}}},xDestroy:{signature:"v(p)",contextKey:e,callProxy:e=>t=>{try{e(t)}catch(e){console.error("UDF xDestroy method threw:",e)}}}});const n=s.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xFunc",...t.xFunc}),new s.xWrap.FuncPtrAdapter({name:"xStep",...t.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...t.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...t.xDestroy})]);const l=s.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xStep",...t.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...t.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xValue",...t.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xInverse",...t.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...t.xDestroy})]);r.sqlite3_create_function_v2=function e(t,s,l,c,_,f,p,d,m){if(e.length!==arguments.length){return o(t,"sqlite3_create_function_v2",e.length)}else if(0===(c&15)){c|=r.SQLITE_UTF8}else if(r.SQLITE_UTF8!==(c&15)){return a(t)}try{const e=n(t,s,l,c,_,f,p,d,m);if(0===e&&(f instanceof Function||p instanceof Function||d instanceof Function||m instanceof Function)){u.addFunction(t,s,l)}return e}catch(e){console.error("sqlite3_create_function_v2() setup threw:",e);return i.sqlite3_wasm_db_error(t,e,"Creation of UDF threw: "+e)}};r.sqlite3_create_function=function e(t,n,s,i,a,l,c,u){return e.length===arguments.length?r.sqlite3_create_function_v2(t,n,s,i,a,l,c,u,0):o(t,"sqlite3_create_function",e.length)};r.sqlite3_create_window_function=function e(t,n,s,c,_,f,p,d,m,h){if(e.length!==arguments.length){return o(t,"sqlite3_create_window_function",e.length)}else if(0===(c&15)){c|=r.SQLITE_UTF8}else if(r.SQLITE_UTF8!==(c&15)){return a(t)}try{const e=l(t,n,s,c,_,f,p,d,m,h);if(0===e&&(f instanceof Function||p instanceof Function||d instanceof Function||m instanceof Function||h instanceof Function)){u.addWindowFunc(t,n,s)}return e}catch(e){console.error("sqlite3_create_window_function() setup threw:",e);return i.sqlite3_wasm_db_error(t,e,"Creation of UDF threw: "+e)}};r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js;r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js;r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js}{const e=(e,t)=>{if("string"===typeof e){t=-1}else if(i.isSQLableTypedArray(e)){t=e.byteLength;e=i.typedArrayToString(e instanceof ArrayBuffer?new Uint8Array(e):e)}else if(Array.isArray(e)){e=e.join("");t=-1}return[e,t]};const t={basic:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function n(s,a,l,c,u,_){if(n.length!==arguments.length){return o(s,"sqlite3_prepare_v3",n.length)}const[f,p]=e(a,l);switch(typeof f){case"string":return t.basic(s,f,p,c,u,null);case"number":return t.full(s,f,p,c,u,_);default:return i.sqlite3_wasm_db_error(s,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}};r.sqlite3_prepare_v2=function e(t,n,s,i,a){return e.length===arguments.length?r.sqlite3_prepare_v3(t,n,s,0,i,a):o(t,"sqlite3_prepare_v2",e.length)}}{const e=s.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]);const t=s.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function t(n,a,l,c,u){if(t.length!==arguments.length){return o(r.sqlite3_db_handle(n),"sqlite3_bind_text",t.length)}else if(s.isPtr(l)||null===l){return e(n,a,l,c,u)}else if(l instanceof ArrayBuffer){l=new Uint8Array(l)}else if(Array.isArray(pMem)){l=pMem.join("")}let _,f;try{if(i.isSQLableTypedArray(l)){_=s.allocFromTypedArray(l);f=l.byteLength}else if("string"===typeof l){[_,f]=s.allocCString(l)}else{return i.sqlite3_wasm_db_error(r.sqlite3_db_handle(n),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().")}return e(n,a,_,f,r.SQLITE_WASM_DEALLOC)}catch(e){s.dealloc(_);return i.sqlite3_wasm_db_error(r.sqlite3_db_handle(n),e)}};r.sqlite3_bind_blob=function e(n,a,l,c,u){if(e.length!==arguments.length){return o(r.sqlite3_db_handle(n),"sqlite3_bind_blob",e.length)}else if(s.isPtr(l)||null===l){return t(n,a,l,c,u)}else if(l instanceof ArrayBuffer){l=new Uint8Array(l)}else if(Array.isArray(l)){l=l.join("")}let _,f;try{if(i.isBindableTypedArray(l)){_=s.allocFromTypedArray(l);f=c>=0?c:l.byteLength}else if("string"===typeof l){[_,f]=s.allocCString(l)}else{return i.sqlite3_wasm_db_error(r.sqlite3_db_handle(n),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().")}return t(n,a,_,f,r.SQLITE_WASM_DEALLOC)}catch(e){s.dealloc(_);return i.sqlite3_wasm_db_error(r.sqlite3_db_handle(n),e)}}}{r.sqlite3_config=function(e,...t){if(arguments.length<2)return r.SQLITE_MISUSE;switch(e){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return s.exports.sqlite3_wasm_config_i(e,t[0]);case r.SQLITE_CONFIG_LOOKASIDE:return s.exports.sqlite3_wasm_config_ii(e,t[0],t[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return s.exports.sqlite3_wasm_config_j(e,t[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}}}{const e=new Set;r.sqlite3_auto_extension=function(t){if(t instanceof Function){t=s.installFunction("i(ppp)",t)}else if(1!==arguments.length||!s.isPtr(t)){return r.SQLITE_MISUSE}const n=s.exports.sqlite3_auto_extension(t);if(t!==arguments[0]){if(0===n)e.add(t);else s.uninstallFunction(t)}return n};r.sqlite3_cancel_auto_extension=function(e){if(!e||1!==arguments.length||!s.isPtr(e))return 0;return s.exports.sqlite3_cancel_auto_extension(e)};r.sqlite3_reset_auto_extension=function(){s.exports.sqlite3_reset_auto_extension();for(const t of e)s.uninstallFunction(t);e.clear()}}const _=r.sqlite3_vfs_find("kvvfs");if(_){if(i.isUIThread()){const e=new r.sqlite3_kvvfs_methods(s.exports.sqlite3_wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;const t=s.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,n=s.pstack;const i=e=>115===s.peek(e)?sessionStorage:localStorage;const o={xRead:(e,r,o,a)=>{const l=n.pointer,c=s.scopedAllocPush();try{const n=t(e,r);if(!n)return-3;const l=s.cstrToJs(n);const c=i(e).getItem(l);if(!c)return-1;const u=c.length;if(a<=0)return u;else if(1===a){s.poke(o,0);return u}const _=s.scopedAllocCString(c);if(a>u+1)a=u+1;s.heap8u().copyWithin(o,_,_+a-1);s.poke(o+a-1,0);return a-1}catch(e){console.error("kvstorageRead()",e);return-2}finally{n.restore(l);s.scopedAllocPop(c)}},xWrite:(e,o,a)=>{const l=n.pointer;try{const n=t(e,o);if(!n)return 1;const r=s.cstrToJs(n);i(e).setItem(r,s.cstrToJs(a));return 0}catch(e){console.error("kvstorageWrite()",e);return r.SQLITE_IOERR}finally{n.restore(l)}},xDelete:(e,o)=>{const a=n.pointer;try{const n=t(e,o);if(!n)return 1;i(e).removeItem(s.cstrToJs(n));return 0}catch(e){console.error("kvstorageDelete()",e);return r.SQLITE_IOERR}finally{n.restore(a)}}};for(const t of Object.keys(o)){e[e.memberKey(t)]=s.installFunction(e.memberSignature(t),o[t])}}else{r.sqlite3_vfs_unregister(_)}}s.xWrap.FuncPtrAdapter.warnOnUse=true}));globalThis.sqlite3ApiBootstrap.initializers.push((function(e){e.version={libVersion:"3.43.2",libVersionNumber:3043002,sourceId:"2023-10-10 12:14:04 4310099cce5a487035fa535dd3002c59ac7f1d1bec68d7cf317fd3e769484790",downloadVersion:3430200}}));globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=(...e)=>{throw new Error(e.join(" "))};const n=(...t)=>{throw new e.SQLite3Error(...t)};const r=e.capi,s=e.wasm,i=e.util;const o=new WeakMap;const a=new WeakMap;const l=(e,t,n)=>{const r=Object.getOwnPropertyDescriptor(e,t);return r?r.value:n};const c=function(e,t){if(t){if(e instanceof p)e=e.pointer;n(t,"sqlite3 result code",t+":",e?r.sqlite3_errmsg(e):r.sqlite3_errstr(t))}return arguments[0]};const u=s.installFunction("i(ippp)",function(e,t,n,i){if(r.SQLITE_TRACE_STMT===e){console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+t+":",s.cstrToJs(i))}}.bind({counter:0}));const _=Object.create(null);const f=function t(...i){if(!t._name2vfs){t._name2vfs=Object.create(null);const e="function"===typeof importScripts?e=>n("The VFS for",e,"is only available in the main window thread."):false;t._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:e||(()=>"local")};t._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:e||(()=>"session")}}const l=t.normalizeArgs(...i);let f=l.filename,p=l.vfs,d=l.flags;if("string"!==typeof f&&"number"!==typeof f||"string"!==typeof d||p&&"string"!==typeof p&&"number"!==typeof p){e.config.error("Invalid DB ctor args",l,arguments);n("Invalid arguments for DB constructor.")}let m="number"===typeof f?s.cstrToJs(f):f;const h=t._name2vfs[m];if(h){p=h.vfs;f=m=h.filename(m)}let g,y=0;if(d.indexOf("c")>=0){y|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE}if(d.indexOf("w")>=0)y|=r.SQLITE_OPEN_READWRITE;if(0===y)y|=r.SQLITE_OPEN_READONLY;y|=r.SQLITE_OPEN_EXRESCODE;const q=s.pstack.pointer;try{const e=s.pstack.allocPtr();let t=r.sqlite3_open_v2(f,e,y,p||0);g=s.peekPtr(e);c(g,t);r.sqlite3_extended_result_codes(g,1);if(d.indexOf("t")>=0){r.sqlite3_trace_v2(g,r.SQLITE_TRACE_STMT,u,g)}}catch(e){if(g)r.sqlite3_close_v2(g);throw e}finally{s.pstack.restore(q)}this.filename=m;o.set(this,g);a.set(this,Object.create(null));try{const t=r.sqlite3_js_db_vfs(g);if(!t)n("Internal error: cannot get VFS for new db handle.");const s=_[t];if(s instanceof Function){s(this,e)}else if(s){c(g,r.sqlite3_exec(g,s,0,0,0))}}catch(e){this.close();throw e}};f.setVfsPostOpenSql=function(e,t){_[e]=t};f.normalizeArgs=function(e=":memory:",t="c",n=null){const r={};if(1===arguments.length&&arguments[0]&&"object"===typeof arguments[0]){Object.assign(r,arguments[0]);if(undefined===r.flags)r.flags="c";if(undefined===r.vfs)r.vfs=null;if(undefined===r.filename)r.filename=":memory:"}else{r.filename=e;r.flags=t;r.vfs=n}return r};const p=function(...e){f.apply(this,e)};p.dbCtorHelper=f;const d={null:1,number:2,string:3,boolean:4,blob:5};d["undefined"]==d.null;if(s.bigIntEnabled){d.bigint=d.number}const m=function(){if(d!==arguments[2]){n(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare().")}this.db=arguments[0];o.set(this,arguments[1]);this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)};const h=function(e){if(!e.pointer)n("DB has been closed.");return e};const g=function(e,t){if(t!==(t|0)||t<0||t>=e.columnCount){n("Column index",t,"is out of range.")}return e};const y=function(e,t){const s=Object.create(null);s.opt=Object.create(null);switch(t.length){case 1:if("string"===typeof t[0]||i.isSQLableTypedArray(t[0])){s.sql=t[0]}else if(Array.isArray(t[0])){s.sql=t[0]}else if(t[0]&&"object"===typeof t[0]){s.opt=t[0];s.sql=s.opt.sql}break;case 2:s.sql=t[0];s.opt=t[1];break;default:n("Invalid argument count for exec().")}s.sql=i.flexibleString(s.sql);if("string"!==typeof s.sql){n("Missing SQL argument or unsupported SQL value type.")}const o=s.opt;switch(o.returnValue){case"resultRows":if(!o.resultRows)o.resultRows=[];s.returnVal=()=>o.resultRows;break;case"saveSql":if(!o.saveSql)o.saveSql=[];s.returnVal=()=>o.saveSql;break;case undefined:case"this":s.returnVal=()=>e;break;default:n("Invalid returnValue value:",o.returnValue)}if(!o.callback&&!o.returnValue&&undefined!==o.rowMode){if(!o.resultRows)o.resultRows=[];s.returnVal=()=>o.resultRows}if(o.callback||o.resultRows){switch(undefined===o.rowMode?"array":o.rowMode){case"object":s.cbArg=e=>e.get(Object.create(null));break;case"array":s.cbArg=e=>e.get([]);break;case"stmt":if(Array.isArray(o.resultRows)){n("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference.")}s.cbArg=e=>e;break;default:if(i.isInt32(o.rowMode)){s.cbArg=e=>e.get(o.rowMode);break}else if("string"===typeof o.rowMode&&o.rowMode.length>1&&"$"===o.rowMode[0]){const e=o.rowMode.substr(1);s.cbArg=t=>{const s=t.get(Object.create(null))[e];return undefined===s?n(r.SQLITE_NOTFOUND,"exec(): unknown result column:",e):s};break}n("Invalid rowMode:",o.rowMode)}}return s};const q=(e,t,n,...r)=>{const s=e.prepare(t);try{const e=s.bind(n).step()?s.get(...r):undefined;s.reset();return e}finally{s.finalize()}};const b=(e,t,n,r)=>e.exec({sql:t,bind:n,rowMode:r,returnValue:"resultRows"});p.checkRc=(e,t)=>c(e,t);p.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return h(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function){try{this.onclose.before(this)}catch(e){}}const e=this.pointer;Object.keys(a.get(this)).forEach(((e,t)=>{if(t&&t.pointer){try{t.finalize()}catch(e){}}}));o.delete(this);a.delete(this);r.sqlite3_close_v2(e);if(this.onclose&&this.onclose.after instanceof Function){try{this.onclose.after(this)}catch(e){}}delete this.filename}},changes:function(e=false,t=false){const n=h(this).pointer;if(e){return t?r.sqlite3_total_changes64(n):r.sqlite3_total_changes(n)}else{return t?r.sqlite3_changes64(n):r.sqlite3_changes(n)}},dbFilename:function(e="main"){return r.sqlite3_db_filename(h(this).pointer,e)},dbName:function(e=0){return r.sqlite3_db_name(h(this).pointer,e)},dbVfsName:function(e=0){let t;const n=r.sqlite3_js_db_vfs(h(this).pointer,e);if(n){const e=new r.sqlite3_vfs(n);try{t=s.cstrToJs(e.$zName)}finally{e.dispose()}}return t},prepare:function(e){h(this);const t=s.pstack.pointer;let i,o;try{i=s.pstack.alloc(8);p.checkRc(this,r.sqlite3_prepare_v2(this.pointer,e,-1,i,null));o=s.peekPtr(i)}finally{s.pstack.restore(t)}if(!o)n("Cannot prepare empty SQL.");const l=new m(this,o,d);a.get(this)[o]=l;return l},exec:function(){h(this);const e=y(this,arguments);if(!e.sql){return n("exec() requires an SQL string.")}const t=e.opt;const o=t.callback;const a=Array.isArray(t.resultRows)?t.resultRows:undefined;let l;let c=t.bind;let u=!!(e.cbArg||t.columnNames||a);const _=s.scopedAllocPush();const f=Array.isArray(t.saveSql)?t.saveSql:undefined;try{const n=i.isSQLableTypedArray(e.sql);let _=n?e.sql.byteLength:s.jstrlen(e.sql);const h=s.scopedAlloc(2*s.ptrSizeof+(_+1));const g=h+s.ptrSizeof;let y=g+s.ptrSizeof;const q=y+_;if(n)s.heap8().set(e.sql,y);else s.jstrcpy(e.sql,s.heap8(),y,_,false);s.poke(y+_,0);while(y&&s.peek(y,"i8")){s.pokePtr([h,g],0);p.checkRc(this,r.sqlite3_prepare_v3(this.pointer,y,_,0,h,g));const n=s.peekPtr(h);y=s.peekPtr(g);_=q-y;if(!n)continue;if(f)f.push(r.sqlite3_sql(n).trim());l=new m(this,n,d);if(c&&l.parameterCount){l.bind(c);c=null}if(u&&l.columnCount){let n=Array.isArray(t.columnNames)?0:1;u=false;if(e.cbArg||a){for(;l.step();l._lockedByExec=false){if(0===n++)l.getColumnNames(t.columnNames);l._lockedByExec=true;const r=e.cbArg(l);if(a)a.push(r);if(o&&false===o.call(t,r,l)){break}}l._lockedByExec=false}if(0===n){l.getColumnNames(t.columnNames)}}else{l.step()}l.reset().finalize();l=null}}finally{s.scopedAllocPop(_);if(l){delete l._lockedByExec;l.finalize()}}return e.returnVal()},createFunction:function e(t,s,o){const a=e=>e instanceof Function;switch(arguments.length){case 1:o=t;t=o.name;s=o.xFunc||0;break;case 2:if(!a(s)){o=s;s=o.xFunc||0}break;case 3:break;default:break}if(!o)o={};if("string"!==typeof t){n("Invalid arguments: missing function name.")}let c=o.xStep||0;let u=o.xFinal||0;const _=o.xValue||0;const f=o.xInverse||0;let d=undefined;if(a(s)){d=false;if(a(c)||a(u)){n("Ambiguous arguments: scalar or aggregate?")}c=u=null}else if(a(c)){if(!a(u)){n("Missing xFinal() callback for aggregate or window UDF.")}s=null}else if(a(u)){n("Missing xStep() callback for aggregate or window UDF.")}else{n("Missing function-type properties.")}if(false===d){if(a(_)||a(f)){n("xValue and xInverse are not permitted for non-window UDFs.")}}else if(a(_)){if(!a(f)){n("xInverse must be provided if xValue is.")}d=true}else if(a(f)){n("xValue must be provided if xInverse is.")}const m=o.pApp;if(undefined!==m&&null!==m&&("number"!==typeof m||!i.isInt32(m))){n("Invalid value for pApp property. Must be a legal WASM pointer value.")}const h=o.xDestroy||0;if(h&&!a(h)){n("xDestroy property must be a function.")}let g=0;if(l(o,"deterministic"))g|=r.SQLITE_DETERMINISTIC;if(l(o,"directOnly"))g|=r.SQLITE_DIRECTONLY;if(l(o,"innocuous"))g|=r.SQLITE_INNOCUOUS;t=t.toLowerCase();const y=s||c;const q=l(o,"arity");const b="number"===typeof q?q:y.length?y.length-1:0;let v;if(d){v=r.sqlite3_create_window_function(this.pointer,t,b,r.SQLITE_UTF8|g,m||0,c,u,_,f,h)}else{v=r.sqlite3_create_function_v2(this.pointer,t,b,r.SQLITE_UTF8|g,m||0,s,c,u,h)}p.checkRc(this,v);return this},selectValue:function(e,t,n){return q(this,e,t,0,n)},selectValues:function(e,t,n){const r=this.prepare(e),s=[];try{r.bind(t);while(r.step())s.push(r.get(0,n));r.reset()}finally{r.finalize()}return s},selectArray:function(e,t){return q(this,e,t,[])},selectObject:function(e,t){return q(this,e,t,{})},selectArrays:function(e,t){return b(this,e,t,"array")},selectObjects:function(e,t){return b(this,e,t,"object")},openStatementCount:function(){return this.pointer?Object.keys(a.get(this)).length:0},transaction:function(e){let t="BEGIN";if(arguments.length>1){if(/[^a-zA-Z]/.test(arguments[0])){n(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier.")}t+=" "+arguments[0];e=arguments[1]}h(this).exec(t);try{const t=e(this);this.exec("COMMIT");return t}catch(e){this.exec("ROLLBACK");throw e}},savepoint:function(e){h(this).exec("SAVEPOINT oo1");try{const t=e(this);this.exec("RELEASE oo1");return t}catch(e){this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1");throw e}},checkRc:function(e){return c(this,e)}};const v=function(e){if(!e.pointer)n("Stmt has been closed.");return e};const w=function(e){let t=d[null===e||undefined===e?"null":typeof e];switch(t){case d.boolean:case d.null:case d.number:case d.string:return t;case d.bigint:if(s.bigIntEnabled)return t;default:return i.isBindableTypedArray(e)?d.blob:undefined}};const E=function(e){return w(e)||n("Unsupported bind() argument type:",typeof e)};const S=function(e,t){const s="number"===typeof t?t:r.sqlite3_bind_parameter_index(e.pointer,t);if(0===s||!i.isInt32(s)){n("Invalid bind() parameter name: "+t)}else if(s<1||s>e.parameterCount)n("Bind index",t,"is out of range.");return s};const x=function(e,t){if(e._lockedByExec){n("Operation is illegal when statement is locked:",t)}return e};const A=function t(o,a,l,c){x(v(o),"bind()");if(!t._){t._tooBigInt=e=>n("BigInt value is too big to store without precision loss:",e);t._={string:function(e,t,n,i){const[o,a]=s.allocCString(n,true);const l=i?r.sqlite3_bind_blob:r.sqlite3_bind_text;return l(e.pointer,t,o,a,r.SQLITE_WASM_DEALLOC)}}}E(c);a=S(o,a);let u=0;switch(null===c||undefined===c?d.null:l){case d.null:u=r.sqlite3_bind_null(o.pointer,a);break;case d.string:u=t._.string(o,a,c,false);break;case d.number:{let e;if(i.isInt32(c))e=r.sqlite3_bind_int;else if("bigint"===typeof c){if(!i.bigIntFits64(c)){t._tooBigInt(c)}else if(s.bigIntEnabled){e=r.sqlite3_bind_int64}else if(i.bigIntFitsDouble(c)){c=Number(c);e=r.sqlite3_bind_double}else{t._tooBigInt(c)}}else{c=Number(c);if(s.bigIntEnabled&&Number.isInteger(c)){e=r.sqlite3_bind_int64}else{e=r.sqlite3_bind_double}}u=e(o.pointer,a,c);break}case d.boolean:u=r.sqlite3_bind_int(o.pointer,a,c?1:0);break;case d.blob:{if("string"===typeof c){u=t._.string(o,a,c,true);break}else if(c instanceof ArrayBuffer){c=new Uint8Array(c)}else if(!i.isBindableTypedArray(c)){n("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.")}const e=s.alloc(c.byteLength||1);s.heap8().set(c.byteLength?c:[0],e);u=r.sqlite3_bind_blob(o.pointer,a,e,c.byteLength,r.SQLITE_WASM_DEALLOC);break}default:e.config.warn("Unsupported bind() argument type:",c);n("Unsupported bind() argument type: "+typeof c)}if(u)p.checkRc(o.db.pointer,u);o._mayGet=false;return o};m.prototype={finalize:function(){if(this.pointer){x(this,"finalize()");const e=r.sqlite3_finalize(this.pointer);delete a.get(this.db)[this.pointer];o.delete(this);delete this._mayGet;delete this.parameterCount;delete this._lockedByExec;delete this.db;return e}},clearBindings:function(){x(v(this),"clearBindings()");r.sqlite3_clear_bindings(this.pointer);this._mayGet=false;return this},reset:function(e){x(this,"reset()");if(e)this.clearBindings();const t=r.sqlite3_reset(v(this).pointer);this._mayGet=false;c(this.db,t);return this},bind:function(){v(this);let e,t;switch(arguments.length){case 1:e=1;t=arguments[0];break;case 2:e=arguments[0];t=arguments[1];break;default:n("Invalid bind() arguments.")}if(undefined===t){return this}else if(!this.parameterCount){n("This statement has no bindable parameters.")}this._mayGet=false;if(null===t){return A(this,e,d.null,t)}else if(Array.isArray(t)){if(1!==arguments.length){n("When binding an array, an index argument is not permitted.")}t.forEach(((e,t)=>A(this,t+1,E(e),e)));return this}else if(t instanceof ArrayBuffer){t=new Uint8Array(t)}if("object"===typeof t&&!i.isBindableTypedArray(t)){if(1!==arguments.length){n("When binding an object, an index argument is not permitted.")}Object.keys(t).forEach((e=>A(this,e,E(t[e]),t[e])));return this}else{return A(this,e,E(t),t)}n("Should not reach this point.")},bindAsBlob:function(e,t){v(this);if(1===arguments.length){t=e;e=1}const r=E(t);if(d.string!==r&&d.blob!==r&&d.null!==r){n("Invalid value type for bindAsBlob()")}return A(this,e,d.blob,t)},step:function(){x(this,"step()");const t=r.sqlite3_step(v(this).pointer);switch(t){case r.SQLITE_DONE:return this._mayGet=false;case r.SQLITE_ROW:return this._mayGet=true;default:this._mayGet=false;e.config.warn("sqlite3_step() rc=",t,r.sqlite3_js_rc_str(t),"SQL =",r.sqlite3_sql(this.pointer));p.checkRc(this.db.pointer,t)}},stepReset:function(){this.step();return this.reset()},stepFinalize:function(){try{const e=this.step();this.reset();return e}finally{try{this.finalize()}catch(e){}}},get:function(e,t){if(!v(this)._mayGet){n("Stmt.step() has not (recently) returned true.")}if(Array.isArray(e)){let t=0;const n=this.columnCount;while(t<n){e[t]=this.get(t++)}return e}else if(e&&"object"===typeof e){let t=0;const n=this.columnCount;while(t<n){e[r.sqlite3_column_name(this.pointer,t)]=this.get(t++)}return e}g(this,e);switch(undefined===t?r.sqlite3_column_type(this.pointer,e):t){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:{if(s.bigIntEnabled){const t=r.sqlite3_column_int64(this.pointer,e);if(t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER){return Number(t).valueOf()}return t}else{const t=r.sqlite3_column_double(this.pointer,e);if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER){n("Integer is out of range for JS integer range: "+t)}return i.isInt32(t)?t|0:t}}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,e);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,e);case r.SQLITE_BLOB:{const t=r.sqlite3_column_bytes(this.pointer,e),n=r.sqlite3_column_blob(this.pointer,e),i=new Uint8Array(t);if(t)i.set(s.heap8u().slice(n,n+t),0);if(t&&this.db._blobXfer instanceof Array){this.db._blobXfer.push(i.buffer)}return i}default:n("Don't know how to translate","type of result column #"+e+".")}n("Not reached.")},getInt:function(e){return this.get(e,r.SQLITE_INTEGER)},getFloat:function(e){return this.get(e,r.SQLITE_FLOAT)},getString:function(e){return this.get(e,r.SQLITE_TEXT)},getBlob:function(e){return this.get(e,r.SQLITE_BLOB)},getJSON:function(e){const t=this.get(e,r.SQLITE_STRING);return null===t?t:JSON.parse(t)},getColumnName:function(e){return r.sqlite3_column_name(g(v(this),e).pointer,e)},getColumnNames:function(e=[]){g(v(this),0);const t=this.columnCount;for(let n=0;n<t;++n){e.push(r.sqlite3_column_name(this.pointer,n))}return e},getParamIndex:function(e){return v(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,e):undefined}};{const e={enumerable:true,get:function(){return o.get(this)},set:()=>n("The pointer property is read-only.")};Object.defineProperty(m.prototype,"pointer",e);Object.defineProperty(p.prototype,"pointer",e)}Object.defineProperty(m.prototype,"columnCount",{enumerable:false,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>n("The columnCount property is read-only.")});e.oo1={DB:p,Stmt:m};if(i.isUIThread()){e.oo1.JsStorageDb=function(e="session"){if("session"!==e&&"local"!==e){n("JsStorageDb db name must be one of 'session' or 'local'.")}f.call(this,{filename:e,flags:"c",vfs:"kvvfs"})};const t=e.oo1.JsStorageDb;t.prototype=Object.create(p.prototype);t.clearStorage=r.sqlite3_js_kvvfs_clear;t.prototype.clearStorage=function(){return t.clearStorage(h(this).filename)};t.storageSize=r.sqlite3_js_kvvfs_size;t.prototype.storageSize=function(){return t.storageSize(h(this).filename)}}}));globalThis.sqlite3ApiBootstrap.initializers.push((function(e){e.initWorker1API=function(){"use strict";const e=(...e)=>{throw new Error(e.join(" "))};if(!(globalThis.WorkerGlobalScope instanceof Function)){e("initWorker1API() must be run from a Worker thread.")}const t=this.self;const n=this.sqlite3||e("Missing this.sqlite3 object.");const r=n.oo1.DB;const s=function(e){let t=i.idMap.get(e);if(t)return t;t="db#"+ ++i.idSeq+"@"+e.pointer;i.idMap.set(e,t);return t};const i={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(e){const t=new r(e);this.dbs[s(t)]=t;if(this.dbList.indexOf(t)<0)this.dbList.push(t);return t},close:function(e,t){if(e){delete this.dbs[s(e)];const r=e.filename;const i=n.wasm.sqlite3_wasm_db_vfs(e.pointer,0);e.close();const o=this.dbList.indexOf(e);if(o>=0)this.dbList.splice(o,1);if(t&&r&&i){n.wasm.sqlite3_wasm_vfs_unlink(i,r)}}},post:function(e,t){if(t&&t.length){globalThis.postMessage(e,Array.from(t));t.length=0}else{globalThis.postMessage(e)}},dbs:Object.create(null),getDb:function(t,n=true){return this.dbs[t]||(n?e("Unknown (or closed) DB ID:",t):undefined)}};const o=function(t=i.dbList[0]){return t&&t.pointer?t:e("DB is not opened.")};const a=function(e,t=true){const n=i.getDb(e.dbId,false)||i.dbList[0];return t?o(n):n};const l=function(){return i.dbList[0]&&s(i.dbList[0])};const c=function(e){const t=/^file:.+(vfs=(\w+))/.exec(e);return n.capi.sqlite3_vfs_find(t?t[2]:0)};const u=e=>""===e||":"===e[0];const _={open:function(t){const r=Object.create(null),o=t.args||Object.create(null);if(o.simulateError){e("Throwing because of simulateError flag.")}const a=Object.create(null);let l,_;r.vfs=o.vfs;if(u(o.filename)){r.filename=o.filename||""}else{r.filename=o.filename;l=o.byteArray;if(l)_=c(o.filename)}if(_){let e;try{e=n.wasm.allocFromTypedArray(l);const t=n.wasm.sqlite3_wasm_vfs_create_file(_,r.filename,e,l.byteLength);if(t)n.SQLite3Error.toss(t)}catch(e){throw new n.SQLite3Error(e.name+" creating "+o.filename+": "+e.message,{cause:e})}finally{if(e)n.wasm.dealloc(e)}}const f=i.open(r);a.filename=f.filename;a.persistent=!!n.capi.sqlite3_js_db_uses_vfs(f.pointer,"opfs");a.dbId=s(f);a.vfs=f.dbVfsName();return a},close:function(e){const t=a(e,false);const n={filename:t&&t.filename};if(t){const n=e.args&&"object"===typeof e.args?!!e.args.unlink:false;i.close(t,n)}return n},exec:function(t){const n="string"===typeof t.args?{sql:t.args}:t.args||Object.create(null);if("stmt"===n.rowMode){e("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API.")}else if(!n.sql){e("'exec' requires input SQL.")}const r=a(t);if(n.callback||Array.isArray(n.resultRows)){r._blobXfer=i.xfer}const s=n.callback;let o=0;const l=!!n.columnNames;if("string"===typeof s){if(!l)n.columnNames=[];n.callback=function(e,t){i.post({type:s,columnNames:n.columnNames,rowNumber:++o,row:e},i.xfer)}}try{const e=!!n.countChanges?r.changes(true,64===n.countChanges):undefined;r.exec(n);if(undefined!==e){n.changeCount=r.changes(true,64===n.countChanges)-e}if(n.callback instanceof Function){n.callback=s;i.post({type:s,columnNames:n.columnNames,rowNumber:null,row:undefined})}}finally{delete r._blobXfer;if(n.callback)n.callback=s}return n},"config-get":function(){const e=Object.create(null),t=n.config;["bigIntEnabled"].forEach((function(n){if(Object.getOwnPropertyDescriptor(t,n))e[n]=t[n]}));e.version=n.version;e.vfsList=n.capi.sqlite3_js_vfs_list();e.opfsEnabled=!!n.opfs;return e},export:function(e){const t=a(e);const r={byteArray:n.capi.sqlite3_js_db_export(t.pointer),filename:t.filename,mimetype:"application/x-sqlite3"};i.xfer.push(r.byteArray.buffer);return r},toss:function(t){e("Testing worker exception")},"opfs-tree":async function(t){if(!n.opfs)e("OPFS support is unavailable.");const r=await n.opfs.treeList();return r}};globalThis.onmessage=async function(t){t=t.data;let r,s=t.dbId,o=t.type;const a=performance.now();try{if(_.hasOwnProperty(o)&&_[o]instanceof Function){r=await _[o](t)}else{e("Unknown db worker message type:",t.type)}}catch(e){o="error";r={operation:t.type,message:e.message,errorClass:e.name,input:t};if(e.stack){r.stack="string"===typeof e.stack?e.stack.split(/\n\s*/):e.stack}if(0)n.config.warn("Worker is propagating an exception to main thread.","Reporting it _here_ for the stack trace:",e,r)}if(!s){s=r.dbId||l()}i.post({type:o,dbId:s,messageId:t.messageId,workerReceivedTime:a,workerRespondTime:performance.now(),departureTime:t.departureTime,result:r},i.xfer)};globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:e})}));"use strict";globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=e.wasm,n=e.capi,r=e.util.toss3;const s=Object.create(null),i=Object.create(null);const o=e.StructBinder;e.vfs=s;e.vtab=i;const a=n.sqlite3_index_info;a.prototype.nthConstraint=function(e,t=false){if(e<0||e>=this.$nConstraint)return false;const n=this.$aConstraint+a.sqlite3_index_constraint.structInfo.sizeof*e;return t?n:new a.sqlite3_index_constraint(n)};a.prototype.nthConstraintUsage=function(e,t=false){if(e<0||e>=this.$nConstraint)return false;const n=this.$aConstraintUsage+a.sqlite3_index_constraint_usage.structInfo.sizeof*e;return t?n:new a.sqlite3_index_constraint_usage(n)};a.prototype.nthOrderBy=function(e,t=false){if(e<0||e>=this.$nOrderBy)return false;const n=this.$aOrderBy+a.sqlite3_index_orderby.structInfo.sizeof*e;return t?n:new a.sqlite3_index_orderby(n)};const l=function e(n,s,i,a=e.installMethodArgcCheck){if(!(n instanceof o.StructType)){r("Usage error: target object is-not-a StructType.")}else if(!(i instanceof Function)&&!t.isPtr(i)){r("Usage errror: expecting a Function or WASM pointer to one.")}if(1===arguments.length){return(t,r)=>e(n,t,r,a)}if(!e.argcProxy){e.argcProxy=function(e,t,n,s){return function(...i){if(n.length!==arguments.length){r("Argument mismatch for",e.structInfo.name+"::"+t+": Native signature is:",s)}return n.apply(this,i)}};e.removeFuncList=function(){if(this.ondispose.__removeFuncList){this.ondispose.__removeFuncList.forEach(((e,n)=>{if("number"===typeof e){try{t.uninstallFunction(e)}catch(e){}}}));delete this.ondispose.__removeFuncList}}}const l=n.memberSignature(s);if(l.length<2){r("Member",s,"does not have a function pointer signature:",l)}const c=n.memberKey(s);const u=a&&!t.isPtr(i)?e.argcProxy(n,c,i,l):i;if(t.isPtr(u)){if(u&&!t.functionEntry(u)){r("Pointer",u,"is not a WASM function table entry.")}n[c]=u}else{const r=t.installFunction(u,n.memberSignature(s,true));n[c]=r;if(!n.ondispose||!n.ondispose.__removeFuncList){n.addOnDispose("ondispose.__removeFuncList handler",e.removeFuncList);n.ondispose.__removeFuncList=[]}n.ondispose.__removeFuncList.push(c,r)}return(t,r)=>e(n,t,r,a)};l.installMethodArgcCheck=false;const c=function(e,t,n=l.installMethodArgcCheck){const r=new Map;for(const s of Object.keys(t)){const i=t[s];const o=r.get(i);if(o){const t=e.memberKey(s);e[t]=e[e.memberKey(o)]}else{l(e,s,i,n);r.set(i,s)}}return e};o.StructType.prototype.installMethod=function e(t,n,r=l.installMethodArgcCheck){return arguments.length<3&&t&&"object"===typeof t?c(this,...arguments):l(this,...arguments)};o.StructType.prototype.installMethods=function(e,t=l.installMethodArgcCheck){return c(this,e,t)};n.sqlite3_vfs.prototype.registerVfs=function(t=false){if(!(this instanceof e.capi.sqlite3_vfs)){r("Expecting a sqlite3_vfs-type argument.")}const s=n.sqlite3_vfs_register(this,t?1:0);if(s){r("sqlite3_vfs_register(",this,") failed with rc",s)}if(this.pointer!==n.sqlite3_vfs_find(this.$zName)){r("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this)}return this};s.installVfs=function(e){let n=0;const s=["io","vfs"];for(const r of s){const s=e[r];if(s){++n;c(s.struct,s.methods,!!s.applyArgcCheck);if("vfs"===r){if(!s.struct.$zName&&"string"===typeof s.name){s.struct.addOnDispose(s.struct.$zName=t.allocCString(s.name))}s.struct.registerVfs(!!s.asDefault)}}}if(!n)r("Misuse: installVfs() options object requires at least","one of:",s);return this};const u=function(n,r){return function(s,i=false){if(0===arguments.length)s=new r;if(s instanceof r){this.set(s.pointer,s);return s}else if(!t.isPtr(s)){e.SQLite3Error.toss("Invalid argument to",n+"()")}let o=this.get(s);if(i)this.delete(s);return o}.bind(new Map)};const _=function(e,n){const r=u(e,n);return Object.assign(Object.create(null),{StructType:n,create:e=>{const n=r();t.pokePtr(e,n.pointer);return n},get:e=>r(e),unget:e=>r(e,true),dispose:e=>{const t=r(e,true);if(t)t.dispose()}})};i.xVtab=_("xVtab",n.sqlite3_vtab);i.xCursor=_("xCursor",n.sqlite3_vtab_cursor);i.xIndexInfo=e=>new n.sqlite3_index_info(e);i.xError=function t(r,s,i){if(t.errorReporter instanceof Function){try{t.errorReporter("sqlite3_module::"+r+"(): "+s.message)}catch(e){}}let o;if(s instanceof e.WasmAllocError)o=n.SQLITE_NOMEM;else if(arguments.length>2)o=i;else if(s instanceof e.SQLite3Error)o=s.resultCode;return o||n.SQLITE_ERROR};i.xError.errorReporter=1?console.error.bind(console):false;i.xRowid=(e,n)=>t.poke(e,n,"i64");i.setupModule=function(s){let o=false;const a=this instanceof n.sqlite3_module?this:s.struct||(o=new n.sqlite3_module);try{const n=s.methods||r("Missing 'methods' object.");for(const e of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const t=e[0],r=e[1];if(true===n[t])n[t]=n[r];else if(true===n[r])n[r]=n[t]}if(s.catchExceptions){const r=function(n,r){if(["xConnect","xCreate"].indexOf(n)>=0){return function(s,o,a,l,c,u){try{return r(...arguments)||0}catch(r){if(!(r instanceof e.WasmAllocError)){t.dealloc(t.peekPtr(u));t.pokePtr(u,t.allocCString(r.message))}return i.xError(n,r)}}}else{return function(...e){try{return r(...e)||0}catch(e){return i.xError(n,e)}}}};const s=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"];const o=Object.create(null);for(const e of s){const t=n[e];if(!(t instanceof Function))continue;else if("xConnect"===e&&n.xCreate===t){o[e]=n.xCreate}else if("xCreate"===e&&n.xConnect===t){o[e]=n.xConnect}else{o[e]=r(e,t)}}c(a,o,false)}else{c(a,n,!!s.applyArgcCheck)}if(0===a.$iVersion){let e;if("number"===typeof s.iVersion)e=s.iVersion;else if(a.$xShadowName)e=3;else if(a.$xSavePoint||a.$xRelease||a.$xRollbackTo)e=2;else e=1;a.$iVersion=e}}catch(e){if(o)o.dispose();throw e}return a};n.sqlite3_module.prototype.setupModule=function(e){return i.setupModule.call(this,e)}}));"use strict";globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=function t(n){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics){return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. "+"The server must emit the COOP/COEP response headers to enable those. "+"See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"))}else if("undefined"===typeof WorkerGlobalScope){return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread "+"because it requires Atomics.wait()."))}else if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory){return Promise.reject(new Error("Missing required OPFS APIs."))}if(!n||"object"!==typeof n){n=Object.create(null)}const r=new URL(globalThis.location.href).searchParams;if(r.has("opfs-disable")){return Promise.resolve(e)}if(undefined===n.verbose){n.verbose=r.has("opfs-verbose")?+r.get("opfs-verbose")||2:1}if(undefined===n.sanityChecks){n.sanityChecks=r.has("opfs-sanity-check")}if(undefined===n.proxyUri){n.proxyUri=t.defaultProxyUri}if("function"===typeof n.proxyUri){n.proxyUri=n.proxyUri()}const s=new Promise((function(t,r){const s=[e.config.error,e.config.warn,e.config.log];const i=(e,...t)=>{if(n.verbose>e)s[e]("OPFS syncer:",...t)};const o=(...e)=>i(2,...e);const a=(...e)=>i(1,...e);const l=(...e)=>i(0,...e);const c=e.util.toss;const u=e.capi;const _=e.wasm;const f=u.sqlite3_vfs;const p=u.sqlite3_file;const d=u.sqlite3_io_methods;const m=Object.create(null);const h=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;m.metrics={dump:function(){let t,n=0,r=0,s=0;for(t in x.opIds){const e=A[t];n+=e.count;r+=e.time;s+=e.wait;e.avgTime=e.count&&e.time?e.time/e.count:0;e.avgWait=e.count&&e.wait?e.wait/e.count:0}e.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",A,"\nTotal of",n,"op(s) for",r,"ms (incl. "+s+" ms of waiting on the async side)");e.config.log("Serialization metrics:",A.s11n);w.postMessage({type:"opfs-async-metrics"})},reset:function(){let e;const t=e=>e.count=e.time=e.wait=0;for(e in x.opIds){t(A[e]=Object.create(null))}let n=A.s11n=Object.create(null);n=n.serialize=Object.create(null);n.count=n.time=0;n=A.s11n.deserialize=Object.create(null);n.count=n.time=0}};const g=new d;const y=(new f).addOnDispose((()=>g.dispose()));let q=undefined;const b=e=>{q=true;y.dispose();return r(e)};const v=()=>{q=false;return t(e)};const w=new Worker(n.proxyUri);setTimeout((()=>{if(undefined===q){b(new Error("Timeout while waiting for OPFS async proxy worker."))}}),4e3);w._originalOnError=w.onerror;w.onerror=function(e){l("Error initializing OPFS asyncer:",e);b(new Error("Loading OPFS async Worker failed for unknown reasons."))};const E=u.sqlite3_vfs_find(null);const S=E?new f(E):null;g.$iVersion=1;y.$iVersion=2;y.$szOsFile=u.sqlite3_file.structInfo.sizeof;y.$mxPathname=1024;y.$zName=_.allocCString("opfs");y.$xDlOpen=y.$xDlError=y.$xDlSym=y.$xDlClose=null;y.addOnDispose("$zName",y.$zName,"cleanup default VFS wrapper",(()=>S?S.dispose():null));const x=Object.create(null);x.verbose=n.verbose;x.littleEndian=(()=>{const e=new ArrayBuffer(2);new DataView(e).setInt16(0,256,true);return new Int16Array(e)[0]===256})();x.asyncIdleWaitTime=150;x.asyncS11nExceptions=1;x.fileBufferSize=1024*64;x.sabS11nOffset=x.fileBufferSize;x.sabS11nSize=y.$mxPathname*2;x.sabIO=new SharedArrayBuffer(x.fileBufferSize+x.sabS11nSize);x.opIds=Object.create(null);const A=Object.create(null);{let e=0;x.opIds.whichOp=e++;x.opIds.rc=e++;x.opIds.xAccess=e++;x.opIds.xClose=e++;x.opIds.xDelete=e++;x.opIds.xDeleteNoWait=e++;x.opIds.xFileSize=e++;x.opIds.xLock=e++;x.opIds.xOpen=e++;x.opIds.xRead=e++;x.opIds.xSleep=e++;x.opIds.xSync=e++;x.opIds.xTruncate=e++;x.opIds.xUnlock=e++;x.opIds.xWrite=e++;x.opIds.mkdir=e++;x.opIds["opfs-async-metrics"]=e++;x.opIds["opfs-async-shutdown"]=e++;x.opIds.retry=e++;x.sabOP=new SharedArrayBuffer(e*4);m.metrics.reset()}x.sq3Codes=Object.create(null);["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach((e=>{if(undefined===(x.sq3Codes[e]=u[e])){c("Maintenance required: not found:",e)}}));x.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:false});const I=(e,...t)=>{const n=x.opIds[e]||c("Invalid op ID:",e);x.s11n.serialize(...t);Atomics.store(x.sabOPView,x.opIds.rc,-1);Atomics.store(x.sabOPView,x.opIds.whichOp,n);Atomics.notify(x.sabOPView,x.opIds.whichOp);const r=performance.now();Atomics.wait(x.sabOPView,x.opIds.rc,-1);const s=Atomics.load(x.sabOPView,x.opIds.rc);A[e].wait+=performance.now()-r;if(s&&x.asyncS11nExceptions){const t=x.s11n.deserialize();if(t)l(e+"() async error:",...t)}return s};m.debug={asyncShutdown:()=>{a("Shutting down OPFS async listener. The OPFS VFS will no longer work.");I("opfs-async-shutdown")},asyncRestart:()=>{a("Attempting to restart OPFS VFS async listener. Might work, might not.");w.postMessage({type:"opfs-async-restart"})}};const k=()=>{if(x.s11n)return x.s11n;const e=new TextDecoder,t=new TextEncoder("utf-8"),n=new Uint8Array(x.sabIO,x.sabS11nOffset,x.sabS11nSize),r=new DataView(x.sabIO,x.sabS11nOffset,x.sabS11nSize);x.s11n=Object.create(null);const s=Object.create(null);s.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"};s.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"};s.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"};s.string={id:4};const i=e=>s[typeof e]||c("Maintenance required: this value type cannot be serialized.",e);const o=e=>{switch(e){case s.number.id:return s.number;case s.bigint.id:return s.bigint;case s.boolean.id:return s.boolean;case s.string.id:return s.string;default:c("Invalid type ID:",e)}};x.s11n.deserialize=function(t=false){++A.s11n.deserialize.count;const s=performance.now();const i=n[0];const a=i?[]:null;if(i){const t=[];let s=1,l,c,u;for(l=0;l<i;++l,++s){t.push(o(n[s]))}for(l=0;l<i;++l){const i=t[l];if(i.getter){u=r[i.getter](s,x.littleEndian);s+=i.size}else{c=r.getInt32(s,x.littleEndian);s+=4;u=e.decode(n.slice(s,s+c));s+=c}a.push(u)}}if(t)n[0]=0;A.s11n.deserialize.time+=performance.now()-s;return a};x.s11n.serialize=function(...e){const s=performance.now();++A.s11n.serialize.count;if(e.length){const s=[];let o=0,a=1;n[0]=e.length&255;for(;o<e.length;++o,++a){s.push(i(e[o]));n[a]=s[o].id}for(o=0;o<e.length;++o){const i=s[o];if(i.setter){r[i.setter](a,e[o],x.littleEndian);a+=i.size}else{const s=t.encode(e[o]);r.setInt32(a,s.byteLength,x.littleEndian);a+=4;n.set(s,a);a+=s.byteLength}}}else{n[0]=0}A.s11n.serialize.time+=performance.now()-s};return x.s11n};const T=function e(t=16){if(!e._chars){e._chars="abcdefghijklmnopqrstuvwxyz"+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"012346789";e._n=e._chars.length}const n=[];let r=0;for(;r<t;++r){const t=Math.random()*(e._n*64)%e._n|0;n[r]=e._chars[t]}return n.join("")};const F=Object.create(null);const O=Object.create(null);O.op=undefined;O.start=undefined;const P=e=>{O.start=performance.now();O.op=e;++A[e].count};const L=()=>A[O.op].time+=performance.now()-O.start;const C={xCheckReservedLock:function(e,t){const n=F[e];_.poke(t,n.lockType?1:0,"i32");return 0},xClose:function(e){P("xClose");let t=0;const n=F[e];if(n){delete F[e];t=I("xClose",e);if(n.sq3File)n.sq3File.dispose()}L();return t},xDeviceCharacteristics:function(e){return u.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(e,t,n){return u.SQLITE_NOTFOUND},xFileSize:function(e,t){P("xFileSize");let n=I("xFileSize",e);if(0==n){try{const e=x.s11n.deserialize()[0];_.poke(t,e,"i64")}catch(e){l("Unexpected error reading xFileSize() result:",e);n=x.sq3Codes.SQLITE_IOERR}}L();return n},xLock:function(e,t){P("xLock");const n=F[e];let r=0;if(!n.lockType){r=I("xLock",e,t);if(0===r)n.lockType=t}else{n.lockType=t}L();return r},xRead:function(e,t,n,r){P("xRead");const s=F[e];let i;try{i=I("xRead",e,n,Number(r));if(0===i||u.SQLITE_IOERR_SHORT_READ===i){_.heap8u().set(s.sabView.subarray(0,n),t)}}catch(e){l("xRead(",arguments,") failed:",e,s);i=u.SQLITE_IOERR_READ}L();return i},xSync:function(e,t){P("xSync");++A.xSync.count;const n=I("xSync",e,t);L();return n},xTruncate:function(e,t){P("xTruncate");const n=I("xTruncate",e,Number(t));L();return n},xUnlock:function(e,t){P("xUnlock");const n=F[e];let r=0;if(u.SQLITE_LOCK_NONE===t&&n.lockType){r=I("xUnlock",e,t)}if(0===r)n.lockType=t;L();return r},xWrite:function(e,t,n,r){P("xWrite");const s=F[e];let i;try{s.sabView.set(_.heap8u().subarray(t,t+n));i=I("xWrite",e,n,Number(r))}catch(e){l("xWrite(",arguments,") failed:",e,s);i=u.SQLITE_IOERR_WRITE}L();return i}};const D={xAccess:function(e,t,n,r){P("xAccess");const s=I("xAccess",_.cstrToJs(t));_.poke(r,s?0:1,"i32");L();return 0},xCurrentTime:function(e,t){_.poke(t,2440587.5+(new Date).getTime()/864e5,"double");return 0},xCurrentTimeInt64:function(e,t){_.poke(t,2440587.5*864e5+(new Date).getTime(),"i64");return 0},xDelete:function(e,t,n){P("xDelete");const r=I("xDelete",_.cstrToJs(t),n,false);L();return r},xFullPathname:function(e,t,n,r){const s=_.cstrncpy(r,t,n);return s<n?0:u.SQLITE_CANTOPEN},xGetLastError:function(e,t,n){a("OPFS xGetLastError() has nothing sensible to return.");return 0},xOpen:function e(t,n,r,s,i){P("xOpen");let o=0;if(0===n){n=T()}else if("number"===typeof n){if(u.sqlite3_uri_boolean(n,"opfs-unlock-asap",0)){o|=x.opfsFlags.OPFS_UNLOCK_ASAP}n=_.cstrToJs(n)}const a=Object.create(null);a.fid=r;a.filename=n;a.sab=new SharedArrayBuffer(x.fileBufferSize);a.flags=s;const l=I("xOpen",r,n,s,o);if(!l){if(a.readOnly){_.poke(i,u.SQLITE_OPEN_READONLY,"i32")}F[r]=a;a.sabView=x.sabFileBufView;a.sq3File=new p(r);a.sq3File.$pMethods=g.pointer;a.lockType=u.SQLITE_LOCK_NONE}L();return l}};if(S){y.$xRandomness=S.$xRandomness;y.$xSleep=S.$xSleep}if(!y.$xRandomness){D.xRandomness=function(e,t,n){const r=_.heap8u();let s=0;for(;s<t;++s)r[n+s]=Math.random()*255e3&255;return s}}if(!y.$xSleep){D.xSleep=function(e,t){Atomics.wait(x.sabOPView,x.opIds.xSleep,0,t);return 0}}m.getResolvedPath=function(e,t){const n=new URL(e,"file://irrelevant").pathname;return t?n.split("/").filter((e=>!!e)):n};m.getDirForFilename=async function e(t,n=false){const r=m.getResolvedPath(t,true);const s=r.pop();let i=m.rootDirectory;for(const e of r){if(e){i=await i.getDirectoryHandle(e,{create:!!n})}}return[i,s]};m.mkdir=async function(e){try{await m.getDirForFilename(e+"/filepart",true);return true}catch(e){return false}};m.entryExists=async function(e){try{const[t,n]=await m.getDirForFilename(e);await t.getFileHandle(n);return true}catch(e){return false}};m.randomFilename=T;m.registerVfs=(e=false)=>_.exports.sqlite3_vfs_register(y.pointer,e?1:0);m.treeList=async function(){const e=async function e(t,n){n.name=t.name;n.dirs=[];n.files=[];for await(const r of t.values()){if("directory"===r.kind){const t=Object.create(null);n.dirs.push(t);await e(r,t)}else{n.files.push(r.name)}}};const t=Object.create(null);await e(m.rootDirectory,t);return t};m.rmfr=async function(){const e=m.rootDirectory,t={recurse:true};for await(const n of e.values()){e.removeEntry(n.name,t)}};m.unlink=async function(e,t=false,n=false){try{const[n,r]=await m.getDirForFilename(e,false);await n.removeEntry(r,{recursive:t});return true}catch(e){if(n){throw new Error("unlink(",arguments[0],") failed: "+e.message,{cause:e})}return false}};m.traverse=async function(e){const t={recursive:true,directory:m.rootDirectory};if("function"===typeof e){e={callback:e}}e=Object.assign(t,e||{});const n=async function t(n,r){for await(const s of n.values()){if(false===e.callback(s,n,r))return false;else if(e.recursive&&"directory"===s.kind){if(false===await t(s,r+1))break}}};n(e.directory,0)};m.importDb=async function(e,t){if(t instanceof ArrayBuffer)t=new Uint8Array(t);const n=t.byteLength;if(n<512||n%512!=0){c("Byte array size is invalid for an SQLite db.")}const r="SQLite format 3";for(let e=0;e<r.length;++e){if(r.charCodeAt(e)!==t[e]){c("Input does not contain an SQLite database header.")}}let s;const[i,o]=await m.getDirForFilename(e,true);try{const e=await i.getFileHandle(o,{create:true});s=await e.createSyncAccessHandle();s.truncate(0);const r=s.write(t,{at:0});if(r!=n){c("Expected to write "+n+" bytes but wrote "+r+".")}s.write(new Uint8Array([1,1]),{at:18});return r}catch(e){if(s){await s.close();s=undefined}await i.removeEntry(o).catch((()=>{}));throw e}finally{if(s)await s.close()}};if(e.oo1){const t=function(...t){const n=e.oo1.DB.dbCtorHelper.normalizeArgs(...t);n.vfs=y.$zName;e.oo1.DB.dbCtorHelper.call(this,n)};t.prototype=Object.create(e.oo1.DB.prototype);e.oo1.OpfsDb=t;t.importDb=m.importDb;e.oo1.DB.dbCtorHelper.setVfsPostOpenSql(y.pointer,(function(e,t){t.capi.sqlite3_busy_timeout(e,1e4);t.capi.sqlite3_exec(e,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)}))}const N=function(){const e=_.scopedAllocPush();const t=new p;try{const e=t.pointer;const n=u.SQLITE_OPEN_CREATE|u.SQLITE_OPEN_READWRITE|u.SQLITE_OPEN_MAIN_DB;const r=_.scopedAlloc(8);const s="/sanity/check/file"+T(8);const i=_.scopedAllocCString(s);let f;x.s11n.serialize("This is  string.");f=x.s11n.deserialize();o("deserialize() says:",f);if("This is  string."!==f[0])c("String d13n error.");D.xAccess(y.pointer,i,0,r);f=_.peek(r,"i32");o("xAccess(",s,") exists ?=",f);f=D.xOpen(y.pointer,i,e,n,r);o("open rc =",f,"state.sabOPView[xOpen] =",x.sabOPView[x.opIds.xOpen]);if(0!==f){l("open failed with code",f);return}D.xAccess(y.pointer,i,0,r);f=_.peek(r,"i32");if(!f)c("xAccess() failed to detect file.");f=C.xSync(t.pointer,0);if(f)c("sync failed w/ rc",f);f=C.xTruncate(t.pointer,1024);if(f)c("truncate failed w/ rc",f);_.poke(r,0,"i64");f=C.xFileSize(t.pointer,r);if(f)c("xFileSize failed w/ rc",f);o("xFileSize says:",_.peek(r,"i64"));f=C.xWrite(t.pointer,i,10,1);if(f)c("xWrite() failed!");const p=_.scopedAlloc(16);f=C.xRead(t.pointer,p,6,2);_.poke(p+6,0);let d=_.cstrToJs(p);o("xRead() got:",d);if("sanity"!==d)c("Unexpected xRead() value.");if(D.xSleep){o("xSleep()ing before close()ing...");D.xSleep(y.pointer,2e3);o("waking up from xSleep()")}f=C.xClose(e);o("xClose rc =",f,"sabOPView =",x.sabOPView);o("Deleting file:",s);D.xDelete(y.pointer,i,4660);D.xAccess(y.pointer,i,0,r);f=_.peek(r,"i32");if(f)c("Expecting 0 from xAccess(",s,") after xDelete().");a("End of OPFS sanity checks.")}finally{t.dispose();_.scopedAllocPop(e)}};w.onmessage=function({data:t}){switch(t.type){case"opfs-unavailable":b(new Error(t.payload.join(" ")));break;case"opfs-async-loaded":w.postMessage({type:"opfs-async-init",args:x});break;case"opfs-async-inited":{if(true===q){break}try{e.vfs.installVfs({io:{struct:g,methods:C},vfs:{struct:y,methods:D}});x.sabOPView=new Int32Array(x.sabOP);x.sabFileBufView=new Uint8Array(x.sabIO,0,x.fileBufferSize);x.sabS11nView=new Uint8Array(x.sabIO,x.sabS11nOffset,x.sabS11nSize);k();if(n.sanityChecks){a("Running sanity checks because of opfs-sanity-check URL arg...");N()}if(h()){navigator.storage.getDirectory().then((t=>{w.onerror=w._originalOnError;delete w._originalOnError;e.opfs=m;m.rootDirectory=t;o("End of OPFS sqlite3_vfs setup.",y);v()})).catch(b)}else{v()}}catch(e){l(e);b(e)}break}default:{const e="Unexpected message from the OPFS async worker: "+JSON.stringify(t);l(e);b(new Error(e));break}}}}));return s};t.defaultProxyUri="sqlite3-opfs-async-proxy.js";globalThis.sqlite3ApiBootstrap.initializersAsync.push((async e=>{try{let n=t.defaultProxyUri;if(e.scriptInfo.sqlite3Dir){t.defaultProxyUri=e.scriptInfo.sqlite3Dir+n}return t().catch((t=>{e.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",t.message)}))}catch(t){e.config.error("installOpfsVfs() exception:",t);return Promise.reject(t)}}))}));globalThis.sqlite3ApiBootstrap.initializers.push((function(e){"use strict";const t=e.util.toss;const n=e.util.toss3;const r=Object.create(null);const s=e.capi;const i=e.wasm;const o=4096;const a=512;const l=4;const c=8;const u=a+l;const _=a;const f=u;const p=o;const d=s.SQLITE_OPEN_MAIN_DB|s.SQLITE_OPEN_MAIN_JOURNAL|s.SQLITE_OPEN_SUPER_JOURNAL|s.SQLITE_OPEN_WAL;const m=".opaque";const h=()=>Math.random().toString(36).slice(2);const g=new TextDecoder;const y=new TextEncoder;const q=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:undefined,initialCapacity:6,clearOnInit:false,verbosity:2});const b=[e.config.error,e.config.warn,e.config.log];const v=e.config.log;const w=e.config.warn;const E=e.config.error;const S=new Map;const x=e=>S.get(e);const A=(e,t)=>{if(t)S.set(e,t);else S.delete(e)};const I=new Map;const k=e=>I.get(e);const T=(e,t)=>{if(t)I.set(e,t);else I.delete(e)};const F={xCheckReservedLock:function(e,t){const n=k(e);n.log("xCheckReservedLock");n.storeErr();i.poke32(t,1);return 0},xClose:function(e){const t=k(e);t.storeErr();const n=t.getOFileForS3File(e);if(n){try{t.log(`xClose ${n.path}`);t.mapS3FileToOFile(e,false);n.sah.flush();if(n.flags&s.SQLITE_OPEN_DELETEONCLOSE){t.deletePath(n.path)}}catch(e){t.storeErr(e);return s.SQLITE_IOERR}}return 0},xDeviceCharacteristics:function(e){return s.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(e,t,n){return s.SQLITE_NOTFOUND},xFileSize:function(e,t){const n=k(e);n.log(`xFileSize`);const r=n.getOFileForS3File(e);const s=r.sah.getSize()-p;i.poke64(t,BigInt(s));return 0},xLock:function(e,t){const n=k(e);n.log(`xLock ${t}`);n.storeErr();const r=n.getOFileForS3File(e);r.lockType=t;return 0},xRead:function(e,t,n,r){const o=k(e);o.storeErr();const a=o.getOFileForS3File(e);o.log(`xRead ${a.path} ${n} @ ${r}`);try{const e=a.sah.read(i.heap8u().subarray(t,t+n),{at:p+Number(r)});if(e<n){i.heap8u().fill(0,t+e,t+n);return s.SQLITE_IOERR_SHORT_READ}return 0}catch(e){o.storeErr(e);return s.SQLITE_IOERR}},xSectorSize:function(e){return o},xSync:function(e,t){const n=k(e);n.log(`xSync ${t}`);n.storeErr();const r=n.getOFileForS3File(e);try{r.sah.flush();return 0}catch(e){n.storeErr(e);return s.SQLITE_IOERR}},xTruncate:function(e,t){const n=k(e);n.log(`xTruncate ${t}`);n.storeErr();const r=n.getOFileForS3File(e);try{r.sah.truncate(p+Number(t));return 0}catch(e){n.storeErr(e);return s.SQLITE_IOERR}},xUnlock:function(e,t){const n=k(e);n.log("xUnlock");const r=n.getOFileForS3File(e);r.lockType=t;return 0},xWrite:function(e,t,n,r){const o=k(e);o.storeErr();const a=o.getOFileForS3File(e);o.log(`xWrite ${a.path} ${n} ${r}`);try{const e=a.sah.write(i.heap8u().subarray(t,t+n),{at:p+Number(r)});return e===n?0:s.SQLITE_IOERR}catch(e){o.storeErr(e);return s.SQLITE_IOERR}}};const O=new s.sqlite3_io_methods;O.$iVersion=1;e.vfs.installVfs({io:{struct:O,methods:F}});const P={xAccess:function(e,t,n,r){const s=x(e);s.storeErr();try{const e=s.getPath(t);i.poke32(r,s.hasFilename(e)?1:0)}catch(e){i.poke32(r,0)}return 0},xCurrentTime:function(e,t){i.poke(t,2440587.5+(new Date).getTime()/864e5,"double");return 0},xCurrentTimeInt64:function(e,t){i.poke(t,2440587.5*864e5+(new Date).getTime(),"i64");return 0},xDelete:function(e,t,n){const r=x(e);r.log(`xDelete ${i.cstrToJs(t)}`);r.storeErr();try{r.deletePath(r.getPath(t));return 0}catch(e){r.storeErr(e);return s.SQLITE_IOERR_DELETE}},xFullPathname:function(e,t,n,r){const o=i.cstrncpy(r,t,n);return o<n?0:s.SQLITE_CANTOPEN},xGetLastError:function(e,t,n){const r=x(e);r.log(`xGetLastError ${t}`);const o=r.popErr();if(o){const e=i.scopedAllocPush();try{const[e,r]=i.scopedAllocCString(o.message,true);i.cstrncpy(n,e,t);if(r>t)i.poke8(n+t-1,0)}catch(o){return s.SQLITE_NOMEM}finally{i.scopedAllocPop(e)}}return 0},xOpen:function e(n,r,o,a,l){const c=x(n);try{c.log(`xOpen ${i.cstrToJs(r)} ${a}`);const e=r&&i.peek8(r)?c.getPath(r):h();let n=c.getSAHForPath(e);if(!n&&a&s.SQLITE_OPEN_CREATE){if(c.getFileCount()<c.getCapacity()){n=c.nextAvailableSAH();c.setAssociatedPath(n,e,a)}else{t("SAH pool is full. Cannot create file",e)}}if(!n){t("file not found:",e)}const u={path:e,flags:a,sah:n};c.mapS3FileToOFile(o,u);u.lockType=s.SQLITE_LOCK_NONE;const _=new s.sqlite3_file(o);_.$pMethods=O.pointer;_.dispose();i.poke32(l,a);return 0}catch(e){c.storeErr(e);return s.SQLITE_CANTOPEN}}};const L=function(t){if(e.capi.sqlite3_vfs_find(t)){n("VFS name is already registered:",t)}const r=new s.sqlite3_vfs;const o=s.sqlite3_vfs_find(null);const l=o?new s.sqlite3_vfs(o):null;r.$iVersion=2;r.$szOsFile=s.sqlite3_file.structInfo.sizeof;r.$mxPathname=a;r.addOnDispose(r.$zName=i.allocCString(t),(()=>A(r.pointer,0)));if(l){r.$xRandomness=l.$xRandomness;r.$xSleep=l.$xSleep;l.dispose()}if(!r.$xRandomness&&!P.xRandomness){P.xRandomness=function(e,t,n){const r=i.heap8u();let s=0;for(;s<t;++s)r[n+s]=Math.random()*255e3&255;return s}}if(!r.$xSleep&&!P.xSleep){P.xSleep=(e,t)=>0}e.vfs.installVfs({vfs:{struct:r,methods:P}});return r};class C{vfsDir;#e;#t;#n;#r=new Map;#s=new Map;#i=new Set;#o=new Map;#a=new Uint8Array(u);#l;#c;#u;constructor(e=Object.create(null)){this.#u=e.verbosity??q.verbosity;this.vfsName=e.name||q.name;this.#c=L(this.vfsName);A(this.#c.pointer,this);this.vfsDir=e.directory||"."+this.vfsName;this.#l=new DataView(this.#a.buffer,this.#a.byteOffset);this.isReady=this.reset(!!(e.clearOnInit??q.clearOnInit)).then((()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(undefined):this.addCapacity(e.initialCapacity||q.initialCapacity)}))}#_(e,...t){if(this.#u>e)b[e](this.vfsName+":",...t)}log(...e){this.#_(2,...e)}warn(...e){this.#_(1,...e)}error(...e){this.#_(0,...e)}getVfs(){return this.#c}getCapacity(){return this.#r.size}getFileCount(){return this.#s.size}getFileNames(){const e=[];const t=this.#s.keys();for(const n of t)e.push(n);return e}async addCapacity(e){for(let t=0;t<e;++t){const e=h();const t=await this.#t.getFileHandle(e,{create:true});const n=await t.createSyncAccessHandle();this.#r.set(n,e);this.setAssociatedPath(n,"",0)}return this.getCapacity()}async reduceCapacity(e){let t=0;for(const n of Array.from(this.#i)){if(t===e||this.getFileCount()===this.getCapacity()){break}const r=this.#r.get(n);n.close();await this.#t.removeEntry(r);this.#r.delete(n);this.#i.delete(n);++t}return t}releaseAccessHandles(){for(const e of this.#r.keys())e.close();this.#r.clear();this.#s.clear();this.#i.clear()}async acquireAccessHandles(e){const t=[];for await(const[e,n]of this.#t){if("file"===n.kind){t.push([e,n])}}return Promise.all(t.map((async([t,n])=>{try{const r=await n.createSyncAccessHandle();this.#r.set(r,t);if(e){r.truncate(p);this.setAssociatedPath(r,"",0)}else{const e=this.getAssociatedPath(r);if(e){this.#s.set(e,r)}else{this.#i.add(r)}}}catch(e){this.storeErr(e);this.releaseAccessHandles();throw e}})))}getAssociatedPath(e){e.read(this.#a,{at:0});const t=this.#l.getUint32(_);if(this.#a[0]&&(t&s.SQLITE_OPEN_DELETEONCLOSE||(t&d)===0)){w(`Removing file with unexpected flags ${t.toString(16)}`,this.#a);this.setAssociatedPath(e,"",0);return""}const n=new Uint32Array(c/4);e.read(n,{at:f});const r=this.computeDigest(this.#a);if(n.every(((e,t)=>e===r[t]))){const t=this.#a.findIndex((e=>0===e));if(0===t){e.truncate(p)}return t?g.decode(this.#a.subarray(0,t)):""}else{w("Disassociating file with bad digest.");this.setAssociatedPath(e,"",0);return""}}setAssociatedPath(e,n,r){const s=y.encodeInto(n,this.#a);if(a<=s.written+1){t("Path too long:",n)}this.#a.fill(0,s.written,a);this.#l.setUint32(_,r);const i=this.computeDigest(this.#a);e.write(this.#a,{at:0});e.write(i,{at:f});e.flush();if(n){this.#s.set(n,e);this.#i.delete(e)}else{e.truncate(p);this.#i.add(e)}}computeDigest(e){let t=3735928559;let n=1103547991;for(const r of e){t=31*t+r*307;n=31*n+r*307}return new Uint32Array([t>>>0,n>>>0])}async reset(e){await this.isReady;let t=await navigator.storage.getDirectory();let n,r;for(const e of this.vfsDir.split("/")){if(e){n=t;t=await t.getDirectoryHandle(e,{create:true})}}this.#e=t;this.#n=n;this.#t=await this.#e.getDirectoryHandle(m,{create:true});this.releaseAccessHandles();return this.acquireAccessHandles(e)}getPath(e){if(i.isPtr(e))e=i.cstrToJs(e);return(e instanceof URL?e:new URL(e,"file://localhost/")).pathname}deletePath(e){const t=this.#s.get(e);if(t){this.#s.delete(e);this.setAssociatedPath(t,"",0)}return!!t}storeErr(e){if(e)this.error(e);return this.$error=e}popErr(){const e=this.$error;this.$error=undefined;return e}nextAvailableSAH(){const[e]=this.#i.keys();return e}getOFileForS3File(e){return this.#o.get(e)}mapS3FileToOFile(e,t){if(t){this.#o.set(e,t);T(e,this)}else{this.#o.delete(e);T(e,false)}}hasFilename(e){return this.#s.has(e)}getSAHForPath(e){return this.#s.get(e)}async removeVfs(){if(!this.#c.pointer||!this.#t)return false;s.sqlite3_vfs_unregister(this.#c.pointer);this.#c.dispose();try{this.releaseAccessHandles();await this.#e.removeEntry(m,{recursive:true});this.#t=undefined;await this.#n.removeEntry(this.#e.name,{recursive:true});this.#e=this.#n=undefined}catch(t){e.config.error(this.vfsName,"removeVfs() failed:",t)}return true}exportFile(e){const n=this.#s.get(e)||t("File not found:",e);const r=n.getSize()-p;const s=new Uint8Array(r>0?r:0);if(r>0){const e=n.read(s,{at:p});if(e!=r){t("Expected to read "+r+" bytes but read "+e+".")}}return s}importDb(e,n){if(n instanceof ArrayBuffer)n=new Uint8Array(n);const r=n.byteLength;if(r<512||r%512!=0){t("Byte array size is invalid for an SQLite db.")}const i="SQLite format 3";for(let e=0;e<i.length;++e){if(i.charCodeAt(e)!==n[e]){t("Input does not contain an SQLite database header.")}}const o=this.#s.get(e)||this.nextAvailableSAH()||t("No available handles to import to.");const a=o.write(n,{at:p});if(a!=r){this.setAssociatedPath(o,"",0);t("Expected to write "+r+" bytes but wrote "+a+".")}else{o.write(new Uint8Array([1,1]),{at:p+18});this.setAssociatedPath(o,e,s.SQLITE_OPEN_MAIN_DB)}}}class D{#f;constructor(e){this.#f=e;this.vfsName=e.vfsName}async addCapacity(e){return this.#f.addCapacity(e)}async reduceCapacity(e){return this.#f.reduceCapacity(e)}getCapacity(){return this.#f.getCapacity(this.#f)}getFileCount(){return this.#f.getFileCount()}getFileNames(){return this.#f.getFileNames()}async reserveMinimumCapacity(e){const t=this.#f.getCapacity();return t<e?this.#f.addCapacity(e-t):t}exportFile(e){return this.#f.exportFile(e)}importDb(e,t){return this.#f.importDb(e,t)}async wipeFiles(){return this.#f.reset(true)}unlink(e){return this.#f.deletePath(e)}async removeVfs(){return this.#f.removeVfs()}}const N=async()=>{const e=await navigator.storage.getDirectory();const n=".opfs-sahpool-sync-check-"+h();const r=await e.getFileHandle(n,{create:true});const s=await r.createSyncAccessHandle();const i=s.close();await i;await e.removeEntry(n);if(i?.then){t("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method.")}return true};let R=0;e.installOpfsSAHPoolVfs=async function(t=Object.create(null)){const n=t.name||q.name;if(0&&2===++R){throw new Error("Just testing rejection.")}if(r[n]){return r[n]}if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory){return r[n]=Promise.reject(new Error("Missing required OPFS APIs."))}return r[n]=N().then((async function(){if(t.$testThrowInInit){throw t.$testThrowInInit}const n=new C(t);return n.isReady.then((async()=>{const t=new D(n);if(e.oo1){const r=e.oo1;const s=n.getVfs();const i=function(...e){const t=r.DB.dbCtorHelper.normalizeArgs(...e);t.vfs=s.$zName;r.DB.dbCtorHelper.call(this,t)};i.prototype=Object.create(r.DB.prototype);t.OpfsSAHPoolDb=i;r.DB.dbCtorHelper.setVfsPostOpenSql(s.pointer,(function(e,t){t.capi.sqlite3_exec(e,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)}))}n.log("VFS initialized.");return t})).catch((async e=>{await n.removeVfs().catch((()=>{}));return e}))})).catch((e=>r[n]=Promise.reject(e)))}}));"use strict";if("undefined"!==typeof e){const t=Object.assign(Object.create(null),{exports:"undefined"===typeof wasmExports?e["asm"]:wasmExports,memory:e.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=t;let n;try{n=globalThis.sqlite3ApiBootstrap()}catch(e){console.error("sqlite3ApiBootstrap() error:",e);throw e}finally{delete globalThis.sqlite3ApiBootstrap;delete globalThis.sqlite3ApiConfig}e.sqlite3=n}else{console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}}));return n.ready}})();if(typeof exports==="object"&&typeof module==="object")module.exports=sqlite3InitModule;else if(typeof define==="function"&&define["amd"])define([],(function(){return sqlite3InitModule}));else if(typeof exports==="object")exports["sqlite3InitModule"]=sqlite3InitModule;(function(){const e=sqlite3InitModule;if(!e){throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.")}const t=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:"undefined"!==typeof WorkerGlobalScope,location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});t.debugModule=t.urlParams.has("sqlite3.debugModule")?(...e)=>console.warn("sqlite3.debugModule:",...e):()=>{};if(t.urlParams.has("sqlite3.dir")){t.sqlite3Dir=t.urlParams.get("sqlite3.dir")+"/"}else if(t.moduleScript){const e=t.moduleScript.src.split("/");e.pop();t.sqlite3Dir=e.join("/")+"/"}globalThis.sqlite3InitModule=function n(...r){return e(...r).then((e=>{const r=e.sqlite3;r.scriptInfo=t;if(n.__isUnderTest)r.__isUnderTest=true;const s=r.asyncPostInit;delete r.asyncPostInit;return s()})).catch((e=>{console.error("Exception loading sqlite3 module:",e);throw e}))};globalThis.sqlite3InitModule.ready=e.ready;if(globalThis.sqlite3InitModuleState.moduleScript){const e=globalThis.sqlite3InitModuleState;let t=e.moduleScript.src.split("/");t.pop();e.scriptDir=t.join("/")+"/"}t.debugModule("sqlite3InitModuleState =",t);if(0){console.warn("Replaced sqlite3InitModule()");console.warn("globalThis.location.href =",globalThis.location.href);if("undefined"!==typeof document){console.warn("document.currentScript.src =",document?.currentScript?.src)}}if(typeof exports==="object"&&typeof module==="object"){module.exports=sqlite3InitModule}else if(typeof exports==="object"){exports["sqlite3InitModule"]=sqlite3InitModule}return globalThis.sqlite3InitModule})();